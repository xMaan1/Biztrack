(()=>{var e={};e.id=5664,e.ids=[5664],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},55197:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>i.a,__next_app__:()=>x,originalPathname:()=>u,pages:()=>d,routeModule:()=>m,tree:()=>o}),t(33898),t(70733),t(35866);var r=t(23191),a=t(88716),n=t(37922),i=t.n(n),l=t(95231),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);t.d(s,c);let o=["",{children:["pos",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,33898)),"D:\\TestApi\\frontend\\src\\app\\pos\\page.tsx"]}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,70733)),"D:\\TestApi\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],d=["D:\\TestApi\\frontend\\src\\app\\pos\\page.tsx"],u="/pos/page",x={require:t,loadChunk:()=>Promise.resolve()},m=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/pos/page",pathname:"/pos",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},67958:(e,s,t)=>{Promise.resolve().then(t.bind(t,58239))},57671:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(76557).Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},58239:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>y});var r=t(10326),a=t(17577),n=t(29752),i=t(91664),l=t(38443),c=t(50384),o=t(71821),d=t(57671),u=t(17069),x=t(37202),m=t(83855),h=t(48705),p=t(95964),f=t(74131),j=t(41485),g=t(29272),v=t(35047);let y=()=>{let{user:e}=(0,f.a)(),s=(0,v.useRouter)(),[t,y]=(0,a.useState)(null),[N,b]=(0,a.useState)(null),[w,S]=(0,a.useState)([]),[k,C]=(0,a.useState)([]),[P,Z]=(0,a.useState)(!0),[q,T]=(0,a.useState)(!1);(0,a.useEffect)(()=>{A(),V()},[]);let A=async()=>{try{let e=await j.Ew.get("/pos/dashboard");y(e.metrics),S(e.recentTransactions||[]),C(e.lowStockProducts||[])}catch(e){console.error("Error fetching POS dashboard data:",e)}finally{Z(!1)}},V=async()=>{try{let e=await j.Ew.get("/pos/shifts/current/open");e.shift&&b(e.shift)}catch(e){console.error("Error checking open shift:",e)}},D=async()=>{T(!0);try{let e=await j.Ew.post("/pos/shifts",{openingBalance:0,notes:"Shift opened"});b(e.shift)}catch(e){console.error("Error opening shift:",e)}finally{T(!1)}},O=async()=>{if(N){T(!0);try{await j.Ew.put(`/pos/shifts/${N.id}`,{status:"closed",closingBalance:N.openingBalance+N.totalSales}),b(null),A()}catch(e){console.error("Error closing shift:",e)}finally{T(!1)}}},E=e=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e),_=e=>new Date(e).toLocaleDateString("en-US",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"});return P?r.jsx(g.cl,{children:r.jsx("div",{className:"flex items-center justify-center h-64",children:r.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})})}):r.jsx(g.cl,{children:(0,r.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"flex justify-between items-center",children:[(0,r.jsxs)("div",{children:[r.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"POS Dashboard"}),r.jsx("p",{className:"text-muted-foreground",children:"Manage your point of sale operations and monitor sales performance"})]}),r.jsx("div",{className:"flex items-center space-x-4",children:N?(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(l.C,{variant:"secondary",className:"bg-green-100 text-green-800",children:"Shift Open"}),r.jsx("span",{className:"text-sm text-muted-foreground",children:N.shiftNumber}),r.jsx(i.z,{variant:"outline",onClick:O,disabled:q,children:q?"Closing...":"Close Shift"})]}):r.jsx(i.z,{onClick:D,disabled:q,className:"bg-green-600 hover:bg-green-700",children:q?"Opening...":"Open Shift"})})]}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,r.jsxs)(n.Zb,{children:[(0,r.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(n.ll,{className:"text-sm font-medium",children:"Total Sales"}),r.jsx(o.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(n.aY,{children:[r.jsx("div",{className:"text-2xl font-bold",children:E(t?.totalSales||0)}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"All time sales"})]})]}),(0,r.jsxs)(n.Zb,{children:[(0,r.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(n.ll,{className:"text-sm font-medium",children:"Transactions"}),r.jsx(d.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(n.aY,{children:[r.jsx("div",{className:"text-2xl font-bold",children:t?.totalTransactions||0}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Total transactions"})]})]}),(0,r.jsxs)(n.Zb,{children:[(0,r.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(n.ll,{className:"text-sm font-medium",children:"Avg Transaction"}),r.jsx(u.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(n.aY,{children:[r.jsx("div",{className:"text-2xl font-bold",children:E(t?.averageTransactionValue||0)}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Average per transaction"})]})]}),(0,r.jsxs)(n.Zb,{children:[(0,r.jsxs)(n.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[r.jsx(n.ll,{className:"text-sm font-medium",children:"Low Stock Items"}),r.jsx(x.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(n.aY,{children:[r.jsx("div",{className:"text-2xl font-bold",children:k.length}),r.jsx("p",{className:"text-xs text-muted-foreground",children:"Items below threshold"})]})]})]}),(0,r.jsxs)(c.mQ,{defaultValue:"overview",className:"space-y-4",children:[(0,r.jsxs)(c.dr,{children:[r.jsx(c.SP,{value:"overview",children:"Overview"}),r.jsx(c.SP,{value:"transactions",children:"Recent Transactions"}),r.jsx(c.SP,{value:"inventory",children:"Low Stock Alert"})]}),r.jsx(c.nU,{value:"overview",className:"space-y-4",children:(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,r.jsxs)(n.Zb,{children:[(0,r.jsxs)(n.Ol,{children:[r.jsx(n.ll,{children:"Daily Sales (Last 7 Days)"}),r.jsx(n.SZ,{children:"Sales performance over the past week"})]}),r.jsx(n.aY,{children:t?.dailySales&&t.dailySales.length>0?r.jsx("div",{className:"space-y-2",children:t.dailySales.map((e,s)=>(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[r.jsx("span",{className:"text-sm font-medium",children:e.date}),r.jsx("span",{className:"text-sm text-muted-foreground",children:E(e.sales)})]},s))}):r.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No sales data available"})})]}),(0,r.jsxs)(n.Zb,{children:[(0,r.jsxs)(n.Ol,{children:[r.jsx(n.ll,{children:"Quick Actions"}),r.jsx(n.SZ,{children:"Common POS operations"})]}),(0,r.jsxs)(n.aY,{className:"space-y-3",children:[(0,r.jsxs)(i.z,{className:"w-full justify-start",variant:"outline",onClick:()=>{s.push("/pos/sale")},children:[r.jsx(m.Z,{className:"mr-2 h-4 w-4"}),"New Sale"]}),(0,r.jsxs)(i.z,{className:"w-full justify-start",variant:"outline",onClick:()=>{s.push("/pos/products")},children:[r.jsx(h.Z,{className:"mr-2 h-4 w-4"}),"Add Product"]}),(0,r.jsxs)(i.z,{className:"w-full justify-start",variant:"outline",onClick:()=>{s.push("/pos/reports")},children:[r.jsx(p.Z,{className:"mr-2 h-4 w-4"}),"View Reports"]})]})]})]})}),r.jsx(c.nU,{value:"transactions",className:"space-y-4",children:(0,r.jsxs)(n.Zb,{children:[(0,r.jsxs)(n.Ol,{children:[r.jsx(n.ll,{children:"Recent Transactions"}),r.jsx(n.SZ,{children:"Latest sales transactions"})]}),r.jsx(n.aY,{children:w.length>0?r.jsx("div",{className:"space-y-3",children:w.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx(p.Z,{className:"h-5 w-5 text-muted-foreground"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium",children:e.transactionNumber}),r.jsx("p",{className:"text-sm text-muted-foreground",children:e.customerName||"Walk-in Customer"})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[r.jsx("p",{className:"font-medium",children:E(e.total)}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[r.jsx(l.C,{variant:"outline",children:e.paymentMethod}),r.jsx(l.C,{variant:"completed"===e.status?"default":"secondary",children:e.status})]}),r.jsx("p",{className:"text-xs text-muted-foreground",children:_(e.createdAt)})]})]},e.id))}):r.jsx("p",{className:"text-muted-foreground text-center py-8",children:"No transactions found"})})]})}),r.jsx(c.nU,{value:"inventory",className:"space-y-4",children:(0,r.jsxs)(n.Zb,{children:[(0,r.jsxs)(n.Ol,{children:[r.jsx(n.ll,{children:"Low Stock Alert"}),r.jsx(n.SZ,{children:"Products that need restocking"})]}),r.jsx(n.aY,{children:k.length>0?r.jsx("div",{className:"space-y-3",children:k.map(e=>(0,r.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,r.jsxs)("div",{className:"flex items-center space-x-3",children:[r.jsx(h.Z,{className:"h-5 w-5 text-muted-foreground"}),(0,r.jsxs)("div",{children:[r.jsx("p",{className:"font-medium",children:e.name}),(0,r.jsxs)("p",{className:"text-sm text-muted-foreground",children:["SKU: ",e.sku]})]})]}),(0,r.jsxs)("div",{className:"text-right",children:[r.jsx("p",{className:"font-medium",children:E(e.price)}),(0,r.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,r.jsxs)(l.C,{variant:"destructive",children:["Stock: ",e.stockQuantity]}),(0,r.jsxs)(l.C,{variant:"outline",children:["Min: ",e.lowStockThreshold]})]})]})]},e.id))}):r.jsx("p",{className:"text-muted-foreground text-center py-8",children:"All products are well stocked"})})]})})]})]})})}},29272:(e,s,t)=>{"use strict";t.d(s,{cl:()=>r.default});var r=t(62760);t(63102),t(17676)},50384:(e,s,t)=>{"use strict";t.d(s,{SP:()=>o,dr:()=>c,mQ:()=>l,nU:()=>d});var r=t(10326),a=t(17577),n=t(28407),i=t(51223);let l=n.fC,c=a.forwardRef(({className:e,...s},t)=>r.jsx(n.aV,{ref:t,className:(0,i.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));c.displayName=n.aV.displayName;let o=a.forwardRef(({className:e,...s},t)=>r.jsx(n.xz,{ref:t,className:(0,i.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));o.displayName=n.xz.displayName;let d=a.forwardRef(({className:e,...s},t)=>r.jsx(n.VY,{ref:t,className:(0,i.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));d.displayName=n.VY.displayName},33898:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(68570).createProxy)(String.raw`D:\TestApi\frontend\src\app\pos\page.tsx#default`)},28407:(e,s,t)=>{"use strict";t.d(s,{VY:()=>A,aV:()=>q,fC:()=>Z,xz:()=>T});var r=t(17577),a=t(82561),n=t(93095),i=t(15594),l=t(9815),c=t(45226),o=t(17124),d=t(52067),u=t(88957),x=t(10326),m="Tabs",[h,p]=(0,n.b)(m,[i.Pc]),f=(0,i.Pc)(),[j,g]=h(m),v=r.forwardRef((e,s)=>{let{__scopeTabs:t,value:r,onValueChange:a,defaultValue:n,orientation:i="horizontal",dir:l,activationMode:h="automatic",...p}=e,f=(0,o.gm)(l),[g,v]=(0,d.T)({prop:r,onChange:a,defaultProp:n??"",caller:m});return(0,x.jsx)(j,{scope:t,baseId:(0,u.M)(),value:g,onValueChange:v,orientation:i,dir:f,activationMode:h,children:(0,x.jsx)(c.WV.div,{dir:f,"data-orientation":i,...p,ref:s})})});v.displayName=m;var y="TabsList",N=r.forwardRef((e,s)=>{let{__scopeTabs:t,loop:r=!0,...a}=e,n=g(y,t),l=f(t);return(0,x.jsx)(i.fC,{asChild:!0,...l,orientation:n.orientation,dir:n.dir,loop:r,children:(0,x.jsx)(c.WV.div,{role:"tablist","aria-orientation":n.orientation,...a,ref:s})})});N.displayName=y;var b="TabsTrigger",w=r.forwardRef((e,s)=>{let{__scopeTabs:t,value:r,disabled:n=!1,...l}=e,o=g(b,t),d=f(t),u=C(o.baseId,r),m=P(o.baseId,r),h=r===o.value;return(0,x.jsx)(i.ck,{asChild:!0,...d,focusable:!n,active:h,children:(0,x.jsx)(c.WV.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":m,"data-state":h?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:u,...l,ref:s,onMouseDown:(0,a.M)(e.onMouseDown,e=>{n||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(r)}),onKeyDown:(0,a.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(r)}),onFocus:(0,a.M)(e.onFocus,()=>{let e="manual"!==o.activationMode;h||n||!e||o.onValueChange(r)})})})});w.displayName=b;var S="TabsContent",k=r.forwardRef((e,s)=>{let{__scopeTabs:t,value:a,forceMount:n,children:i,...o}=e,d=g(S,t),u=C(d.baseId,a),m=P(d.baseId,a),h=a===d.value,p=r.useRef(h);return r.useEffect(()=>{let e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,x.jsx)(l.z,{present:n||h,children:({present:t})=>(0,x.jsx)(c.WV.div,{"data-state":h?"active":"inactive","data-orientation":d.orientation,role:"tabpanel","aria-labelledby":u,hidden:!t,id:m,tabIndex:0,...o,ref:s,style:{...e.style,animationDuration:p.current?"0s":void 0},children:t&&i})})});function C(e,s){return`${e}-trigger-${s}`}function P(e,s){return`${e}-content-${s}`}k.displayName=S;var Z=v,q=N,T=w,A=k}};var s=require("../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[690,434,1571,649,39,9314,2760],()=>t(55197));module.exports=r})();