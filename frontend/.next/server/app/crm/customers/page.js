(()=>{var e={};e.id=6045,e.ids=[6045],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},9629:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>l.a,__next_app__:()=>u,originalPathname:()=>m,pages:()=>o,routeModule:()=>h,tree:()=>d}),s(79651),s(70733),s(35866);var a=s(23191),r=s(88716),i=s(37922),l=s.n(i),c=s(95231),n={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>c[e]);s.d(t,n);let d=["",{children:["crm",{children:["customers",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,79651)),"D:\\TestApi\\frontend\\src\\app\\crm\\customers\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,70733)),"D:\\TestApi\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],o=["D:\\TestApi\\frontend\\src\\app\\crm\\customers\\page.tsx"],m="/crm/customers/page",u={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/crm/customers/page",pathname:"/crm/customers",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},62688:(e,t,s)=>{Promise.resolve().then(s.bind(s,66254))},87888:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},59734:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},54659:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},49216:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},70003:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},42887:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},98091:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},91470:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},66254:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>T});var a=s(10326),r=s(17577),i=s(29752),l=s(91664),c=s(38443),n=s(41190),d=s(44794),o=s(29280),m=s(24118),u=s(41156),h=s(10143),x=s(54659),p=s(91470),j=s(87888),g=s(79635),y=s(59734),v=s(83855),f=s(24061),N=s(88307),b=s(42887),C=s(49216),w=s(70003),S=s(98091),k=s(53946),_=s(29272),Z=s(85999);function T(){let[e,t]=(0,r.useState)([]),[s,T]=(0,r.useState)(null),[F,P]=(0,r.useState)(!0),[A,L]=(0,r.useState)(""),[I,M]=(0,r.useState)("all"),[q,$]=(0,r.useState)("all"),[z,R]=(0,r.useState)(1),[B,D]=(0,r.useState)(1),[Q,V]=(0,r.useState)(!1),[O,E]=(0,r.useState)(!1),[U,Y]=(0,r.useState)(null),[H,G]=(0,r.useState)({firstName:"",lastName:"",email:"",phone:"",mobile:"",cnic:"",customerType:"individual",customerStatus:"active",creditLimit:0,currentBalance:0,paymentTerms:"immediate",tags:[]}),J=async()=>{try{P(!0);let e=await k.vZ.getCustomers((z-1)*10,10,A||void 0,"all"===I?void 0:I,"all"===q?void 0:q),s=e.customers||e;t(s),D(Math.ceil((e.total||s.length)/10))}catch(e){console.error("Error loading customers:",e),Z.Am.error("Failed to load customers")}finally{P(!1)}},K=async()=>{try{let e=await k.vZ.getCustomerStats();T(e)}catch(e){console.error("Error loading stats:",e)}},X=async()=>{try{await k.vZ.createCustomer(H),Z.Am.success("Customer created successfully"),V(!1),et(),J(),K()}catch(e){console.error("Error creating customer:",e),Z.Am.error("Failed to create customer")}},W=async()=>{if(U)try{await k.vZ.updateCustomer(U.id,H),Z.Am.success("Customer updated successfully"),E(!1),et(),J(),K()}catch(e){console.error("Error updating customer:",e),Z.Am.error("Failed to update customer")}},ee=async e=>{try{await k.vZ.deleteCustomer(e),Z.Am.success("Customer deleted successfully"),J(),K()}catch(e){console.error("Error deleting customer:",e),Z.Am.error("Failed to delete customer")}},et=()=>{G({firstName:"",lastName:"",email:"",phone:"",mobile:"",cnic:"",customerType:"individual",customerStatus:"active",creditLimit:0,currentBalance:0,paymentTerms:"immediate",tags:[]}),Y(null)},es=e=>{Y(e),G({firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone||"",mobile:e.mobile||"",cnic:e.cnic||"",customerType:e.customerType,customerStatus:e.customerStatus,creditLimit:e.creditLimit,currentBalance:e.currentBalance,paymentTerms:e.paymentTerms,tags:e.tags}),E(!0)},ea=e=>{let t={active:{color:"bg-green-100 text-green-800",icon:x.Z},inactive:{color:"bg-gray-100 text-gray-800",icon:p.Z},blocked:{color:"bg-red-100 text-red-800",icon:j.Z}},s=t[e]||t.inactive,r=s.icon;return(0,a.jsxs)(c.C,{className:s.color,children:[a.jsx(r,{className:"w-3 h-3 mr-1"}),e]})},er=e=>{let t={individual:{color:"bg-blue-100 text-blue-800",icon:g.Z},business:{color:"bg-purple-100 text-purple-800",icon:y.Z}},s=t[e]||t.individual,r=s.icon;return(0,a.jsxs)(c.C,{className:s.color,children:[a.jsx(r,{className:"w-3 h-3 mr-1"}),e]})};return a.jsx(_.cl,{children:(0,a.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Customers"}),a.jsx("p",{className:"text-gray-600",children:"Manage your customer relationships and information"})]}),(0,a.jsxs)(m.Vq,{open:Q,onOpenChange:V,children:[a.jsx(m.hg,{asChild:!0,children:(0,a.jsxs)(l.z,{onClick:()=>et(),children:[a.jsx(v.Z,{className:"w-4 h-4 mr-2"}),"Add Customer"]})}),(0,a.jsxs)(m.cZ,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(m.fK,{children:[a.jsx(m.$N,{children:"Create New Customer"}),a.jsx(m.Be,{children:"Add a new customer to your CRM system"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"firstName",children:"First Name *"}),a.jsx(n.I,{id:"firstName",value:H.firstName,onChange:e=>G({...H,firstName:e.target.value}),placeholder:"John"})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"lastName",children:"Last Name *"}),a.jsx(n.I,{id:"lastName",value:H.lastName,onChange:e=>G({...H,lastName:e.target.value}),placeholder:"Doe"})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[a.jsx(d._,{htmlFor:"email",children:"Email *"}),a.jsx(n.I,{id:"email",type:"email",value:H.email,onChange:e=>G({...H,email:e.target.value}),placeholder:"john.doe@example.com"})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"phone",children:"Phone"}),a.jsx(n.I,{id:"phone",value:H.phone,onChange:e=>G({...H,phone:e.target.value}),placeholder:"+92 300 1234567"})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"mobile",children:"Mobile"}),a.jsx(n.I,{id:"mobile",value:H.mobile,onChange:e=>G({...H,mobile:e.target.value}),placeholder:"+92 300 1234567"})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"cnic",children:"CNIC"}),a.jsx(n.I,{id:"cnic",value:H.cnic,onChange:e=>G({...H,cnic:e.target.value}),placeholder:"12345-1234567-1"})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"customerType",children:"Customer Type"}),(0,a.jsxs)(o.Ph,{value:H.customerType,onValueChange:e=>G({...H,customerType:e}),children:[a.jsx(o.i4,{children:a.jsx(o.ki,{})}),(0,a.jsxs)(o.Bw,{children:[a.jsx(o.Ql,{value:"individual",children:"Individual"}),a.jsx(o.Ql,{value:"business",children:"Business"})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"customerStatus",children:"Status"}),(0,a.jsxs)(o.Ph,{value:H.customerStatus,onValueChange:e=>G({...H,customerStatus:e}),children:[a.jsx(o.i4,{children:a.jsx(o.ki,{})}),(0,a.jsxs)(o.Bw,{children:[a.jsx(o.Ql,{value:"active",children:"Active"}),a.jsx(o.Ql,{value:"inactive",children:"Inactive"}),a.jsx(o.Ql,{value:"blocked",children:"Blocked"})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"creditLimit",children:"Credit Limit"}),a.jsx(n.I,{id:"creditLimit",type:"number",value:H.creditLimit,onChange:e=>G({...H,creditLimit:parseFloat(e.target.value)||0}),placeholder:"0.00"})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"paymentTerms",children:"Payment Terms"}),(0,a.jsxs)(o.Ph,{value:H.paymentTerms,onValueChange:e=>G({...H,paymentTerms:e}),children:[a.jsx(o.i4,{children:a.jsx(o.ki,{})}),(0,a.jsxs)(o.Bw,{children:[a.jsx(o.Ql,{value:"immediate",children:"Immediate"}),a.jsx(o.Ql,{value:"net30",children:"Net 30"}),a.jsx(o.Ql,{value:"net60",children:"Net 60"})]})]})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[a.jsx(d._,{htmlFor:"tags",children:"Tags (comma separated)"}),a.jsx(n.I,{id:"tags",value:H.tags?.join(", ")||"",onChange:e=>G({...H,tags:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)}),placeholder:"vip, regular, premium"})]})]}),(0,a.jsxs)(m.cN,{children:[a.jsx(l.z,{variant:"outline",onClick:()=>V(!1),children:"Cancel"}),a.jsx(l.z,{onClick:X,children:"Create Customer"})]})]})]})]}),s&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(i.ll,{className:"text-sm font-medium",children:"Total Customers"}),a.jsx(f.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(i.aY,{children:[a.jsx("div",{className:"text-2xl font-bold",children:s.total_customers}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[s.active_customers," active"]})]})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(i.ll,{className:"text-sm font-medium",children:"Active Customers"}),a.jsx(x.Z,{className:"h-4 w-4 text-green-600"})]}),(0,a.jsxs)(i.aY,{children:[a.jsx("div",{className:"text-2xl font-bold text-green-600",children:s.active_customers}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(s.active_customers/s.total_customers*100).toFixed(1),"% of total"]})]})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(i.ll,{className:"text-sm font-medium",children:"Individual Customers"}),a.jsx(g.Z,{className:"h-4 w-4 text-blue-600"})]}),(0,a.jsxs)(i.aY,{children:[a.jsx("div",{className:"text-2xl font-bold text-blue-600",children:s.individual_customers}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(s.individual_customers/s.total_customers*100).toFixed(1),"% of total"]})]})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(i.ll,{className:"text-sm font-medium",children:"Business Customers"}),a.jsx(y.Z,{className:"h-4 w-4 text-purple-600"})]}),(0,a.jsxs)(i.aY,{children:[a.jsx("div",{className:"text-2xl font-bold text-purple-600",children:s.business_customers}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(s.business_customers/s.total_customers*100).toFixed(1),"% of total"]})]})]})]}),(0,a.jsxs)(i.Zb,{children:[a.jsx(i.Ol,{children:a.jsx(i.ll,{children:"Search & Filters"})}),a.jsx(i.aY,{children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[a.jsx(d._,{htmlFor:"search",children:"Search"}),(0,a.jsxs)("div",{className:"relative",children:[a.jsx(N.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),a.jsx(n.I,{id:"search",placeholder:"Search by name, email, phone, CNIC...",value:A,onChange:e=>L(e.target.value),className:"pl-10"})]})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"status",children:"Status"}),(0,a.jsxs)(o.Ph,{value:I,onValueChange:M,children:[a.jsx(o.i4,{children:a.jsx(o.ki,{placeholder:"All Statuses"})}),(0,a.jsxs)(o.Bw,{children:[a.jsx(o.Ql,{value:"all",children:"All Statuses"}),a.jsx(o.Ql,{value:"active",children:"Active"}),a.jsx(o.Ql,{value:"inactive",children:"Inactive"}),a.jsx(o.Ql,{value:"blocked",children:"Blocked"})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"type",children:"Type"}),(0,a.jsxs)(o.Ph,{value:q,onValueChange:$,children:[a.jsx(o.i4,{children:a.jsx(o.ki,{placeholder:"All Types"})}),(0,a.jsxs)(o.Bw,{children:[a.jsx(o.Ql,{value:"all",children:"All Types"}),a.jsx(o.Ql,{value:"individual",children:"Individual"}),a.jsx(o.Ql,{value:"business",children:"Business"})]})]})]})]})})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[a.jsx(i.ll,{children:"Customer List"}),(0,a.jsxs)(i.SZ,{children:[e.length," customers found"]})]}),a.jsx(i.aY,{children:F?a.jsx("div",{className:"flex items-center justify-center py-8",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):0===e.length?a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No customers found. Create your first customer to get started."}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(u.iA,{children:[a.jsx(u.xD,{children:(0,a.jsxs)(u.SC,{children:[a.jsx(u.ss,{children:"Customer ID"}),a.jsx(u.ss,{children:"Name"}),a.jsx(u.ss,{children:"Contact"}),a.jsx(u.ss,{children:"Type"}),a.jsx(u.ss,{children:"Status"}),a.jsx(u.ss,{children:"Credit Limit"}),a.jsx(u.ss,{children:"Actions"})]})}),a.jsx(u.RM,{children:e.map(e=>(0,a.jsxs)(u.SC,{children:[a.jsx(u.pj,{className:"font-mono text-sm",children:e.customerId}),a.jsx(u.pj,{children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"font-medium",children:[e.firstName," ",e.lastName]}),a.jsx("div",{className:"text-sm text-muted-foreground",children:e.email})]})}),a.jsx(u.pj,{children:(0,a.jsxs)("div",{className:"space-y-1",children:[e.phone&&(0,a.jsxs)("div",{className:"flex items-center text-sm",children:[a.jsx(b.Z,{className:"w-3 h-3 mr-1"}),e.phone]}),e.mobile&&(0,a.jsxs)("div",{className:"flex items-center text-sm",children:[a.jsx(b.Z,{className:"w-3 h-3 mr-1"}),e.mobile]}),e.cnic&&(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["CNIC: ",e.cnic]})]})}),a.jsx(u.pj,{children:er(e.customerType)}),a.jsx(u.pj,{children:ea(e.customerStatus)}),a.jsx(u.pj,{children:(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"font-medium",children:["Rs. ",e.creditLimit.toLocaleString()]}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Balance: Rs."," ",e.currentBalance.toLocaleString()]})]})}),a.jsx(u.pj,{children:(0,a.jsxs)(h.h_,{children:[a.jsx(h.$F,{asChild:!0,children:a.jsx(l.z,{variant:"ghost",className:"h-8 w-8 p-0",children:a.jsx(C.Z,{className:"h-4 w-4"})})}),(0,a.jsxs)(h.AW,{align:"end",children:[a.jsx(h.Ju,{children:"Actions"}),(0,a.jsxs)(h.Xi,{onClick:()=>es(e),children:[a.jsx(w.Z,{className:"mr-2 h-4 w-4"}),"Edit"]}),a.jsx(h.VD,{}),(0,a.jsxs)(m.Vq,{children:[a.jsx(m.hg,{asChild:!0,children:(0,a.jsxs)(h.Xi,{onSelect:e=>e.preventDefault(),children:[a.jsx(S.Z,{className:"mr-2 h-4 w-4"}),"Delete"]})}),(0,a.jsxs)(m.cZ,{children:[(0,a.jsxs)(m.fK,{children:[a.jsx(m.$N,{children:"Delete Customer"}),a.jsx(m.Be,{children:"Are you sure you want to delete this customer? This action cannot be undone."})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2 mt-4",children:[a.jsx(l.z,{variant:"outline",onClick:()=>{},children:"Cancel"}),a.jsx(l.z,{onClick:()=>ee(e.id),className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})]})]})]})})]},e.id))})]}),B>1&&(0,a.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Page ",z," of ",B]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[a.jsx(l.z,{variant:"outline",size:"sm",onClick:()=>R(Math.max(1,z-1)),disabled:1===z,children:"Previous"}),a.jsx(l.z,{variant:"outline",size:"sm",onClick:()=>R(Math.min(B,z+1)),disabled:z===B,children:"Next"})]})]})]})})]}),a.jsx(m.Vq,{open:O,onOpenChange:E,children:(0,a.jsxs)(m.cZ,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(m.fK,{children:[a.jsx(m.$N,{children:"Edit Customer"}),a.jsx(m.Be,{children:"Update customer information"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"editFirstName",children:"First Name *"}),a.jsx(n.I,{id:"editFirstName",value:H.firstName,onChange:e=>G({...H,firstName:e.target.value}),placeholder:"John"})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"editLastName",children:"Last Name *"}),a.jsx(n.I,{id:"editLastName",value:H.lastName,onChange:e=>G({...H,lastName:e.target.value}),placeholder:"Doe"})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[a.jsx(d._,{htmlFor:"editEmail",children:"Email *"}),a.jsx(n.I,{id:"editEmail",type:"email",value:H.email,onChange:e=>G({...H,email:e.target.value}),placeholder:"john.doe@example.com"})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"editPhone",children:"Phone"}),a.jsx(n.I,{id:"editPhone",value:H.phone,onChange:e=>G({...H,phone:e.target.value}),placeholder:"+92 300 1234567"})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"editMobile",children:"Mobile"}),a.jsx(n.I,{id:"editMobile",value:H.mobile,onChange:e=>G({...H,mobile:e.target.value}),placeholder:"+92 300 1234567"})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"editCnic",children:"CNIC"}),a.jsx(n.I,{id:"editCnic",value:H.cnic,onChange:e=>G({...H,cnic:e.target.value}),placeholder:"12345-1234567-1"})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"editCustomerType",children:"Customer Type"}),(0,a.jsxs)(o.Ph,{value:H.customerType,onValueChange:e=>G({...H,customerType:e}),children:[a.jsx(o.i4,{children:a.jsx(o.ki,{})}),(0,a.jsxs)(o.Bw,{children:[a.jsx(o.Ql,{value:"individual",children:"Individual"}),a.jsx(o.Ql,{value:"business",children:"Business"})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"editCustomerStatus",children:"Status"}),(0,a.jsxs)(o.Ph,{value:H.customerStatus,onValueChange:e=>G({...H,customerStatus:e}),children:[a.jsx(o.i4,{children:a.jsx(o.ki,{})}),(0,a.jsxs)(o.Bw,{children:[a.jsx(o.Ql,{value:"active",children:"Active"}),a.jsx(o.Ql,{value:"inactive",children:"Inactive"}),a.jsx(o.Ql,{value:"blocked",children:"Blocked"})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"editCreditLimit",children:"Credit Limit"}),a.jsx(n.I,{id:"editCreditLimit",type:"number",value:H.creditLimit,onChange:e=>G({...H,creditLimit:parseFloat(e.target.value)||0}),placeholder:"0.00"})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"editPaymentTerms",children:"Payment Terms"}),(0,a.jsxs)(o.Ph,{value:H.paymentTerms,onValueChange:e=>G({...H,paymentTerms:e}),children:[a.jsx(o.i4,{children:a.jsx(o.ki,{})}),(0,a.jsxs)(o.Bw,{children:[a.jsx(o.Ql,{value:"immediate",children:"Immediate"}),a.jsx(o.Ql,{value:"net30",children:"Net 30"}),a.jsx(o.Ql,{value:"net60",children:"Net 60"})]})]})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[a.jsx(d._,{htmlFor:"editTags",children:"Tags (comma separated)"}),a.jsx(n.I,{id:"editTags",value:H.tags?.join(", ")||"",onChange:e=>G({...H,tags:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)}),placeholder:"vip, regular, premium"})]})]}),(0,a.jsxs)(m.cN,{children:[a.jsx(l.z,{variant:"outline",onClick:()=>E(!1),children:"Cancel"}),a.jsx(l.z,{onClick:W,children:"Update Customer"})]})]})})]})})}},29272:(e,t,s)=>{"use strict";s.d(t,{cl:()=>a.default});var a=s(62760);s(63102),s(17676)},24118:(e,t,s)=>{"use strict";s.d(t,{$N:()=>p,Be:()=>j,Vq:()=>n,cN:()=>x,cZ:()=>u,fK:()=>h,hg:()=>d});var a=s(10326),r=s(17577),i=s(98958),l=s(94019),c=s(51223);let n=i.fC,d=i.xz,o=i.h_;i.x8;let m=r.forwardRef(({className:e,...t},s)=>a.jsx(i.aV,{ref:s,className:(0,c.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));m.displayName=i.aV.displayName;let u=r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(o,{children:[a.jsx(m,{}),(0,a.jsxs)(i.VY,{ref:r,className:(0,c.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,(0,a.jsxs)(i.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(l.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));u.displayName=i.VY.displayName;let h=({className:e,...t})=>a.jsx("div",{className:(0,c.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});h.displayName="DialogHeader";let x=({className:e,...t})=>a.jsx("div",{className:(0,c.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});x.displayName="DialogFooter";let p=r.forwardRef(({className:e,...t},s)=>a.jsx(i.Dx,{ref:s,className:(0,c.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));p.displayName=i.Dx.displayName;let j=r.forwardRef(({className:e,...t},s)=>a.jsx(i.dk,{ref:s,className:(0,c.cn)("text-sm text-muted-foreground",e),...t}));j.displayName=i.dk.displayName},29280:(e,t,s)=>{"use strict";s.d(t,{Bw:()=>p,Ph:()=>o,Ql:()=>j,i4:()=>u,ki:()=>m});var a=s(10326),r=s(17577),i=s(38785),l=s(941),c=s(96633),n=s(32933),d=s(51223);let o=i.fC;i.ZA;let m=i.B4,u=r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(i.xz,{ref:r,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,a.jsx(i.JO,{asChild:!0,children:a.jsx(l.Z,{className:"h-4 w-4 opacity-50"})})]}));u.displayName=i.xz.displayName;let h=r.forwardRef(({className:e,...t},s)=>a.jsx(i.u_,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(c.Z,{className:"h-4 w-4"})}));h.displayName=i.u_.displayName;let x=r.forwardRef(({className:e,...t},s)=>a.jsx(i.$G,{ref:s,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(l.Z,{className:"h-4 w-4"})}));x.displayName=i.$G.displayName;let p=r.forwardRef(({className:e,children:t,position:s="popper",...r},l)=>a.jsx(i.h_,{children:(0,a.jsxs)(i.VY,{ref:l,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:[a.jsx(h,{}),a.jsx(i.l_,{className:(0,d.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(x,{})]})}));p.displayName=i.VY.displayName,r.forwardRef(({className:e,...t},s)=>a.jsx(i.__,{ref:s,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=i.__.displayName;let j=r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(i.ck,{ref:r,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(i.wU,{children:a.jsx(n.Z,{className:"h-4 w-4"})})}),a.jsx(i.eT,{children:t})]}));j.displayName=i.ck.displayName,r.forwardRef(({className:e,...t},s)=>a.jsx(i.Z0,{ref:s,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=i.Z0.displayName},41156:(e,t,s)=>{"use strict";s.d(t,{RM:()=>n,SC:()=>d,iA:()=>l,pj:()=>m,ss:()=>o,xD:()=>c});var a=s(10326),r=s(17577),i=s(51223);let l=r.forwardRef(({className:e,...t},s)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:s,className:(0,i.cn)("w-full caption-bottom text-sm",e),...t})}));l.displayName="Table";let c=r.forwardRef(({className:e,...t},s)=>a.jsx("thead",{ref:s,className:(0,i.cn)("[&_tr]:border-b",e),...t}));c.displayName="TableHeader";let n=r.forwardRef(({className:e,...t},s)=>a.jsx("tbody",{ref:s,className:(0,i.cn)("[&_tr:last-child]:border-0",e),...t}));n.displayName="TableBody",r.forwardRef(({className:e,...t},s)=>a.jsx("tfoot",{ref:s,className:(0,i.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...t})).displayName="TableFooter";let d=r.forwardRef(({className:e,...t},s)=>a.jsx("tr",{ref:s,className:(0,i.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...t}));d.displayName="TableRow";let o=r.forwardRef(({className:e,...t},s)=>a.jsx("th",{ref:s,className:(0,i.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...t}));o.displayName="TableHead";let m=r.forwardRef(({className:e,...t},s)=>a.jsx("td",{ref:s,className:(0,i.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...t}));m.displayName="TableCell",r.forwardRef(({className:e,...t},s)=>a.jsx("caption",{ref:s,className:(0,i.cn)("mt-4 text-sm text-muted-foreground",e),...t})).displayName="TableCaption"},53946:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>l,vZ:()=>r});var a=s(41485);class r{static async getCustomers(e=0,t=100,s,r,i){let l=new URLSearchParams({skip:e.toString(),limit:t.toString()});return s&&l.append("search",s),r&&l.append("status",r),i&&l.append("customer_type",i),await a.sM.get(`/crm/customers?${l.toString()}`)}static async getCustomerById(e){return await a.sM.get(`/crm/customers/${e}`)}static async createCustomer(e){return await a.sM.post("/crm/customers",e)}static async updateCustomer(e,t){return await a.sM.put(`/crm/customers/${e}`,t)}static async deleteCustomer(e){return await a.sM.delete(`/crm/customers/${e}`)}static async getCustomerStats(){return await a.sM.get("/crm/customers/stats")}static async searchCustomers(e,t=20){return await a.sM.get(`/crm/customers/search?q=${encodeURIComponent(e)}&limit=${t}`)}}class i{constructor(){this.apiService=new a.sM}async getLeads(e,t=1,s=10){let a=new URLSearchParams;return e?.status&&a.append("status",e.status),e?.source&&a.append("source",e.source),e?.assignedTo&&a.append("assigned_to",e.assignedTo),e?.search&&a.append("search",e.search),a.append("page",t.toString()),a.append("limit",s.toString()),this.apiService.get(`/crm/leads?${a.toString()}`)}async getLead(e){return this.apiService.get(`/crm/leads/${e}`)}async createLead(e){return this.apiService.post("/crm/leads",e)}async updateLead(e,t){return this.apiService.put(`/crm/leads/${e}`,t)}async deleteLead(e){return this.apiService.delete(`/crm/leads/${e}`)}async convertLeadToContact(e,t){return this.apiService.post(`/crm/leads/${e}/convert`,t)}async getContacts(e,t=1,s=10){let a=new URLSearchParams;return e?.type&&a.append("type",e.type),e?.companyId&&a.append("company_id",e.companyId),e?.search&&a.append("search",e.search),a.append("page",t.toString()),a.append("limit",s.toString()),this.apiService.get(`/crm/contacts?${a.toString()}`)}async getContact(e){return this.apiService.get(`/crm/contacts/${e}`)}async createContact(e){return this.apiService.post("/crm/contacts",e)}async updateContact(e,t){return this.apiService.put(`/crm/contacts/${e}`,t)}async deleteContact(e){return this.apiService.delete(`/crm/contacts/${e}`)}async getCompanies(e,t=1,s=10){let a=new URLSearchParams;return e?.industry&&a.append("industry",e.industry),e?.size&&a.append("size",e.size),e?.search&&a.append("search",e.search),a.append("page",t.toString()),a.append("limit",s.toString()),this.apiService.get(`/crm/companies?${a.toString()}`)}async getCompany(e){return this.apiService.get(`/crm/companies/${e}`)}async createCompany(e){return this.apiService.post("/crm/companies",e)}async updateCompany(e,t){return this.apiService.put(`/crm/companies/${e}`,t)}async deleteCompany(e){return this.apiService.delete(`/crm/companies/${e}`)}async getOpportunities(e,t=1,s=10){let a=new URLSearchParams;return e?.stage&&a.append("stage",e.stage),e?.assignedTo&&a.append("assigned_to",e.assignedTo),e?.search&&a.append("search",e.search),a.append("page",t.toString()),a.append("limit",s.toString()),this.apiService.get(`/crm/opportunities?${a.toString()}`)}async getOpportunity(e){return this.apiService.get(`/crm/opportunities/${e}`)}async createOpportunity(e){return this.apiService.post("/crm/opportunities",e)}async updateOpportunity(e,t){return this.apiService.put(`/crm/opportunities/${e}`,t)}async deleteOpportunity(e){return this.apiService.delete(`/crm/opportunities/${e}`)}async getActivities(e,t=1,s=10){let a=new URLSearchParams;return e?.type&&a.append("type",e.type),e?.completed!==void 0&&a.append("completed",e.completed.toString()),e?.search&&a.append("search",e.search),a.append("page",t.toString()),a.append("limit",s.toString()),this.apiService.get(`/crm/activities?${a.toString()}`)}async getActivity(e){return this.apiService.get(`/crm/activities/${e}`)}async createActivity(e){return this.apiService.post("/crm/activities",e)}async updateActivity(e,t){return this.apiService.put(`/crm/activities/${e}`,t)}async deleteActivity(e){return this.apiService.delete(`/crm/activities/${e}`)}async getDashboard(){return this.apiService.get("/crm/dashboard")}getLeadStatusColor(e){return({new:"bg-blue-100 text-blue-800",contacted:"bg-yellow-100 text-yellow-800",qualified:"bg-green-100 text-green-800",proposal_sent:"bg-purple-100 text-purple-800",negotiation:"bg-orange-100 text-orange-800",won:"bg-green-100 text-green-800",lost:"bg-red-100 text-red-800"})[e]||"bg-gray-100 text-gray-800"}getOpportunityStageColor(e){return({prospecting:"bg-blue-100 text-blue-800",qualification:"bg-yellow-100 text-yellow-800",proposal:"bg-purple-100 text-purple-800",negotiation:"bg-orange-100 text-orange-800",closed_won:"bg-green-100 text-green-800",closed_lost:"bg-red-100 text-red-800"})[e]||"bg-gray-100 text-gray-800"}getActivityTypeColor(e){return({call:"bg-blue-100 text-blue-800",email:"bg-green-100 text-green-800",meeting:"bg-purple-100 text-purple-800",task:"bg-yellow-100 text-yellow-800",note:"bg-gray-100 text-gray-800",proposal:"bg-indigo-100 text-indigo-800",contract:"bg-pink-100 text-pink-800"})[e]||"bg-gray-100 text-gray-800"}formatCurrency(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}formatDate(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}formatDateTime(e){return new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}}let l=new i},79651:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(68570).createProxy)(String.raw`D:\TestApi\frontend\src\app\crm\customers\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[690,434,1571,649,39,692,547,9314,2760],()=>s(9629));module.exports=a})();