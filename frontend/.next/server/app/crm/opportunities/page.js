(()=>{var e={};e.id=3374,e.ids=[3374],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},22263:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>u,originalPathname:()=>p,pages:()=>d,routeModule:()=>m,tree:()=>c}),s(94452),s(70733),s(35866);var a=s(23191),r=s(88716),i=s(37922),n=s.n(i),l=s(95231),o={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(o[e]=()=>l[e]);s.d(t,o);let c=["",{children:["crm",{children:["opportunities",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,94452)),"D:\\TestApi\\frontend\\src\\app\\crm\\opportunities\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,70733)),"D:\\TestApi\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],d=["D:\\TestApi\\frontend\\src\\app\\crm\\opportunities\\page.tsx"],p="/crm/opportunities/page",u={require:s,loadChunk:()=>Promise.resolve()},m=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/crm/opportunities/page",pathname:"/crm/opportunities",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},33006:(e,t,s)=>{Promise.resolve().then(s.bind(s,64345))},12714:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},41137:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},70003:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},98091:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},64345:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>O});var a=s(10326),r=s(17577),i=s(29752),n=s(91664),l=s(38443),o=s(41190),c=s(29280),d=s(24118),p=s(44794),u=s(82015),m=s(33261),x=s(83855),g=s(41137),h=s(88307),y=s(53468),f=s(71821),j=s(37358),v=s(12714),N=s(70003),b=s(98091),C=s(53946),w=s(13556),S=s(29272);function O(){let[e,t]=(0,r.useState)([]),[s,O]=(0,r.useState)(!0),[I,_]=(0,r.useState)({}),[D,R]=(0,r.useState)(""),[A,P]=(0,r.useState)(!1),[T,E]=(0,r.useState)(null),[k,Z]=(0,r.useState)(null),[L,M]=(0,r.useState)(null),[F,$]=(0,r.useState)(!1),[z,q]=(0,r.useState)(!1),[U,V]=(0,r.useState)(null),[G,W]=(0,r.useState)(null),[B,H]=(0,r.useState)({title:"",description:"",stage:w.tc.PROSPECTING,amount:void 0,probability:50,expectedCloseDate:"",leadId:"",contactId:"",companyId:"",assignedTo:"",notes:"",tags:[]}),Y=(0,r.useCallback)(async()=>{try{O(!0);let e=await C.ZP.getOpportunities(I,1,100);t(e.opportunities)}catch(e){W("Failed to load opportunities"),console.error("Opportunities load error:",e)}finally{O(!1)}},[I]),K=()=>{_(e=>({...e,search:D}))},Q=()=>{H({title:"",description:"",stage:w.tc.PROSPECTING,amount:void 0,probability:50,expectedCloseDate:"",leadId:"",contactId:"",companyId:"",assignedTo:"",notes:"",tags:[]}),E(null),W(null)},X=async()=>{try{$(!0),W(null),T?(await C.ZP.updateOpportunity(T.id,B),V("Opportunity updated successfully!")):(await C.ZP.createOpportunity(B),V("Opportunity created successfully!")),P(!1),Q(),Y()}catch(e){W("Failed to save opportunity. Please try again."),console.error("Opportunity save error:",e)}finally{$(!1)}},J=e=>{E(e),H({title:e.title,description:e.description||"",stage:e.stage,amount:e.amount,probability:e.probability,expectedCloseDate:e.expectedCloseDate||"",leadId:e.leadId||"",contactId:e.contactId||"",companyId:e.companyId||"",assignedTo:e.assignedTo||"",notes:e.notes||"",tags:e.tags||[]}),P(!0)},ee=e=>{Z(e)},et=e=>{M(e)},es=async()=>{if(L)try{q(!0),await C.ZP.deleteOpportunity(L.id),V("Opportunity deleted successfully!"),M(null),Y()}catch(e){W("Failed to delete opportunity. Please try again."),console.error("Opportunity delete error:",e)}finally{q(!1)}};return s?a.jsx(S.cl,{children:a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"}),a.jsx("p",{className:"mt-4 text-lg",children:"Loading Opportunities..."})]})})}):a.jsx(S.cl,{children:(0,a.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"CRM Opportunities"}),a.jsx("p",{className:"text-gray-600",children:"Manage your sales opportunities and pipeline"})]}),(0,a.jsxs)(n.z,{onClick:()=>{P(!0),Q()},children:[a.jsx(x.Z,{className:"w-4 h-4 mr-2"}),"New Opportunity"]})]}),U&&a.jsx(m.bZ,{className:"border-green-200 bg-green-50",children:a.jsx(m.X,{className:"text-green-800",children:U})}),(0,a.jsxs)(i.Zb,{children:[a.jsx(i.Ol,{children:(0,a.jsxs)(i.ll,{className:"flex items-center",children:[a.jsx(g.Z,{className:"w-4 h-4 mr-2"}),"Filters & Search"]})}),a.jsx(i.aY,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Search"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[a.jsx(o.I,{placeholder:"Search opportunities...",value:D,onChange:e=>R(e.target.value),onKeyPress:e=>"Enter"===e.key&&K()}),a.jsx(n.z,{onClick:K,children:a.jsx(h.Z,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Stage"}),(0,a.jsxs)(c.Ph,{value:I.stage||"all",onValueChange:e=>_(t=>({...t,stage:"all"===e?void 0:e})),children:[a.jsx(c.i4,{children:a.jsx(c.ki,{placeholder:"All Stages"})}),(0,a.jsxs)(c.Bw,{children:[a.jsx(c.Ql,{value:"all",children:"All Stages"}),Object.values(w.tc).map(e=>a.jsx(c.Ql,{value:e,children:e.replace("_"," ").charAt(0).toUpperCase()+e.replace("_"," ").slice(1)},e))]})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsx(n.z,{variant:"outline",onClick:()=>{_({}),R("")},children:"Reset Filters"})})]})})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[(0,a.jsxs)(i.ll,{children:["Opportunities (",e.length,")"]}),a.jsx(i.SZ,{children:"Manage your sales opportunities and track progress through the pipeline"})]}),a.jsx(i.aY,{children:a.jsx("div",{className:"space-y-4",children:e.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(y.Z,{className:"w-5 h-5 text-gray-500"}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"font-medium",children:e.title}),a.jsx("div",{className:"text-sm text-gray-500",children:e.description&&e.description.length>100?`${e.description.substring(0,100)}...`:e.description})]})]}),e.amount&&(0,a.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[a.jsx(f.Z,{className:"w-4 h-4"}),a.jsx("span",{className:"font-medium",children:C.ZP.formatCurrency(e.amount)})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[a.jsx(l.C,{className:C.ZP.getOpportunityStageColor(e.stage),children:e.stage.replace("_"," ").charAt(0).toUpperCase()+e.stage.replace("_"," ").slice(1)}),(0,a.jsxs)(l.C,{variant:"outline",children:[e.probability,"% probability"]}),e.expectedCloseDate&&(0,a.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[a.jsx(j.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:["Closes:"," ",C.ZP.formatDate(e.expectedCloseDate)]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 mt-2 text-xs text-gray-500",children:[(0,a.jsxs)("span",{children:["Created: ",C.ZP.formatDate(e.createdAt)]}),e.leadId&&(0,a.jsxs)("span",{children:["Lead ID: ",e.leadId]}),e.contactId&&(0,a.jsxs)("span",{children:["Contact ID: ",e.contactId]}),e.companyId&&(0,a.jsxs)("span",{children:["Company ID: ",e.companyId]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(n.z,{variant:"outline",size:"sm",onClick:()=>ee(e),children:a.jsx(v.Z,{className:"w-4 h-4"})}),a.jsx(n.z,{variant:"outline",size:"sm",onClick:()=>J(e),children:a.jsx(N.Z,{className:"w-4 h-4"})}),a.jsx(n.z,{variant:"outline",size:"sm",onClick:()=>et(e),children:a.jsx(b.Z,{className:"w-4 h-4"})})]})]},e.id))})})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[a.jsx(i.ll,{children:"Pipeline Summary"}),a.jsx(i.SZ,{children:"Overview of opportunities by stage"})]}),a.jsx(i.aY,{children:a.jsx("div",{className:"grid grid-cols-2 md:grid-cols-6 gap-4",children:Object.values(w.tc).map(t=>{let s=e.filter(e=>e.stage===t),r=s.reduce((e,t)=>e+(t.amount||0),0);return(0,a.jsxs)("div",{className:"text-center p-3 border rounded-lg",children:[a.jsx("div",{className:"text-sm font-medium text-gray-600 capitalize",children:t.replace("_"," ")}),a.jsx("div",{className:"text-2xl font-bold text-gray-900",children:s.length}),a.jsx("div",{className:"text-xs text-gray-500",children:C.ZP.formatCurrency(r)})]},t)})})})]}),a.jsx(d.Vq,{open:A,onOpenChange:P,children:(0,a.jsxs)(d.cZ,{className:"max-w-2xl",children:[(0,a.jsxs)(d.fK,{children:[a.jsx(d.$N,{children:T?"Edit Opportunity":"New Opportunity"}),a.jsx(d.Be,{children:T?"Update opportunity information":"Create a new sales opportunity"})]}),G&&a.jsx(m.bZ,{variant:"destructive",children:a.jsx(m.X,{children:G})}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"col-span-2",children:[a.jsx(p._,{htmlFor:"title",children:"Title *"}),a.jsx(o.I,{id:"title",value:B.title,onChange:e=>H(t=>({...t,title:e.target.value})),placeholder:"Opportunity title"})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[a.jsx(p._,{htmlFor:"description",children:"Description"}),a.jsx(u.g,{id:"description",value:B.description,onChange:e=>H(t=>({...t,description:e.target.value})),placeholder:"Opportunity description"})]}),(0,a.jsxs)("div",{children:[a.jsx(p._,{htmlFor:"stage",children:"Stage *"}),(0,a.jsxs)(c.Ph,{value:B.stage,onValueChange:e=>H(t=>({...t,stage:e})),children:[a.jsx(c.i4,{children:a.jsx(c.ki,{})}),a.jsx(c.Bw,{children:Object.values(w.tc).map(e=>a.jsx(c.Ql,{value:e,children:e.replace("_"," ").charAt(0).toUpperCase()+e.replace("_"," ").slice(1)},e))})]})]}),(0,a.jsxs)("div",{children:[a.jsx(p._,{htmlFor:"amount",children:"Amount"}),a.jsx(o.I,{id:"amount",type:"number",value:B.amount||"",onChange:e=>H(t=>({...t,amount:e.target.value?parseFloat(e.target.value):void 0})),placeholder:"0.00"})]}),(0,a.jsxs)("div",{children:[a.jsx(p._,{htmlFor:"probability",children:"Probability (%)"}),a.jsx(o.I,{id:"probability",type:"number",min:"0",max:"100",value:B.probability,onChange:e=>H(t=>({...t,probability:parseInt(e.target.value)||0}))})]}),(0,a.jsxs)("div",{children:[a.jsx(p._,{htmlFor:"expectedCloseDate",children:"Expected Close Date"}),a.jsx(o.I,{id:"expectedCloseDate",type:"date",value:B.expectedCloseDate,onChange:e=>H(t=>({...t,expectedCloseDate:e.target.value}))})]}),(0,a.jsxs)("div",{children:[a.jsx(p._,{htmlFor:"leadId",children:"Lead ID"}),a.jsx(o.I,{id:"leadId",value:B.leadId,onChange:e=>H(t=>({...t,leadId:e.target.value})),placeholder:"Optional"})]}),(0,a.jsxs)("div",{children:[a.jsx(p._,{htmlFor:"contactId",children:"Contact ID"}),a.jsx(o.I,{id:"contactId",value:B.contactId,onChange:e=>H(t=>({...t,contactId:e.target.value})),placeholder:"Optional"})]}),(0,a.jsxs)("div",{children:[a.jsx(p._,{htmlFor:"companyId",children:"Company ID"}),a.jsx(o.I,{id:"companyId",value:B.companyId,onChange:e=>H(t=>({...t,companyId:e.target.value})),placeholder:"Optional"})]}),(0,a.jsxs)("div",{children:[a.jsx(p._,{htmlFor:"assignedTo",children:"Assigned To"}),a.jsx(o.I,{id:"assignedTo",value:B.assignedTo,onChange:e=>H(t=>({...t,assignedTo:e.target.value})),placeholder:"Optional"})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[a.jsx(p._,{htmlFor:"notes",children:"Notes"}),a.jsx(u.g,{id:"notes",value:B.notes,onChange:e=>H(t=>({...t,notes:e.target.value})),placeholder:"Additional notes"})]})]}),(0,a.jsxs)(d.cN,{children:[a.jsx(n.z,{variant:"outline",onClick:()=>P(!1),children:"Cancel"}),a.jsx(n.z,{onClick:X,disabled:F,children:F?"Saving...":T?"Update Opportunity":"Create Opportunity"})]})]})}),a.jsx(d.Vq,{open:!!k,onOpenChange:()=>Z(null),children:(0,a.jsxs)(d.cZ,{className:"max-w-2xl",children:[(0,a.jsxs)(d.fK,{children:[a.jsx(d.$N,{children:"View Opportunity"}),a.jsx(d.Be,{children:"Opportunity details"})]}),k&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[a.jsx(p._,{className:"text-sm font-medium text-gray-600",children:"Title"}),a.jsx("p",{className:"text-lg font-medium",children:k.title})]}),k.description&&(0,a.jsxs)("div",{children:[a.jsx(p._,{className:"text-sm font-medium text-gray-600",children:"Description"}),a.jsx("p",{className:"text-gray-900",children:k.description})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx(p._,{className:"text-sm font-medium text-gray-600",children:"Stage"}),a.jsx(l.C,{className:C.ZP.getOpportunityStageColor(k.stage),children:k.stage.replace("_"," ").charAt(0).toUpperCase()+k.stage.replace("_"," ").slice(1)})]}),(0,a.jsxs)("div",{children:[a.jsx(p._,{className:"text-sm font-medium text-gray-600",children:"Probability"}),(0,a.jsxs)("p",{className:"text-gray-900",children:[k.probability,"%"]})]}),k.amount&&(0,a.jsxs)("div",{children:[a.jsx(p._,{className:"text-sm font-medium text-gray-600",children:"Amount"}),a.jsx("p",{className:"text-gray-900 font-medium",children:C.ZP.formatCurrency(k.amount)})]}),k.expectedCloseDate&&(0,a.jsxs)("div",{children:[a.jsx(p._,{className:"text-sm font-medium text-gray-600",children:"Expected Close Date"}),a.jsx("p",{className:"text-gray-900",children:C.ZP.formatDate(k.expectedCloseDate)})]})]}),k.notes&&(0,a.jsxs)("div",{children:[a.jsx(p._,{className:"text-sm font-medium text-gray-600",children:"Notes"}),a.jsx("p",{className:"text-gray-900",children:k.notes})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4 text-sm text-gray-600",children:[(0,a.jsxs)("div",{children:[a.jsx(p._,{className:"text-sm font-medium text-gray-600",children:"Created"}),a.jsx("p",{children:C.ZP.formatDate(k.createdAt)})]}),(0,a.jsxs)("div",{children:[a.jsx(p._,{className:"text-sm font-medium text-gray-600",children:"Updated"}),a.jsx("p",{children:C.ZP.formatDate(k.updatedAt)})]})]})]}),(0,a.jsxs)(d.cN,{children:[a.jsx(n.z,{variant:"outline",onClick:()=>Z(null),children:"Close"}),k&&a.jsx(n.z,{onClick:()=>{Z(null),J(k)},children:"Edit Opportunity"})]})]})}),a.jsx(d.Vq,{open:!!L,onOpenChange:()=>M(null),children:(0,a.jsxs)(d.cZ,{children:[(0,a.jsxs)(d.fK,{children:[a.jsx(d.$N,{children:"Delete Opportunity"}),(0,a.jsxs)(d.Be,{children:['Are you sure you want to delete "',L?.title,'"? This action cannot be undone.']})]}),(0,a.jsxs)(d.cN,{children:[a.jsx(n.z,{variant:"outline",onClick:()=>M(null),children:"Cancel"}),a.jsx(n.z,{variant:"destructive",onClick:es,disabled:z,children:z?"Deleting...":"Delete Opportunity"})]})]})})]})})}},29272:(e,t,s)=>{"use strict";s.d(t,{cl:()=>a.default});var a=s(62760);s(63102),s(17676)},24118:(e,t,s)=>{"use strict";s.d(t,{$N:()=>g,Be:()=>h,Vq:()=>o,cN:()=>x,cZ:()=>u,fK:()=>m,hg:()=>c});var a=s(10326),r=s(17577),i=s(98958),n=s(94019),l=s(51223);let o=i.fC,c=i.xz,d=i.h_;i.x8;let p=r.forwardRef(({className:e,...t},s)=>a.jsx(i.aV,{ref:s,className:(0,l.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));p.displayName=i.aV.displayName;let u=r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(d,{children:[a.jsx(p,{}),(0,a.jsxs)(i.VY,{ref:r,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...s,children:[t,(0,a.jsxs)(i.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(n.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));u.displayName=i.VY.displayName;let m=({className:e,...t})=>a.jsx("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});m.displayName="DialogHeader";let x=({className:e,...t})=>a.jsx("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...t});x.displayName="DialogFooter";let g=r.forwardRef(({className:e,...t},s)=>a.jsx(i.Dx,{ref:s,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",e),...t}));g.displayName=i.Dx.displayName;let h=r.forwardRef(({className:e,...t},s)=>a.jsx(i.dk,{ref:s,className:(0,l.cn)("text-sm text-muted-foreground",e),...t}));h.displayName=i.dk.displayName},29280:(e,t,s)=>{"use strict";s.d(t,{Bw:()=>g,Ph:()=>d,Ql:()=>h,i4:()=>u,ki:()=>p});var a=s(10326),r=s(17577),i=s(38785),n=s(941),l=s(96633),o=s(32933),c=s(51223);let d=i.fC;i.ZA;let p=i.B4,u=r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(i.xz,{ref:r,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...s,children:[t,a.jsx(i.JO,{asChild:!0,children:a.jsx(n.Z,{className:"h-4 w-4 opacity-50"})})]}));u.displayName=i.xz.displayName;let m=r.forwardRef(({className:e,...t},s)=>a.jsx(i.u_,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(l.Z,{className:"h-4 w-4"})}));m.displayName=i.u_.displayName;let x=r.forwardRef(({className:e,...t},s)=>a.jsx(i.$G,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...t,children:a.jsx(n.Z,{className:"h-4 w-4"})}));x.displayName=i.$G.displayName;let g=r.forwardRef(({className:e,children:t,position:s="popper",...r},n)=>a.jsx(i.h_,{children:(0,a.jsxs)(i.VY,{ref:n,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===s&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:s,...r,children:[a.jsx(m,{}),a.jsx(i.l_,{className:(0,c.cn)("p-1","popper"===s&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),a.jsx(x,{})]})}));g.displayName=i.VY.displayName,r.forwardRef(({className:e,...t},s)=>a.jsx(i.__,{ref:s,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t})).displayName=i.__.displayName;let h=r.forwardRef(({className:e,children:t,...s},r)=>(0,a.jsxs)(i.ck,{ref:r,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...s,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(i.wU,{children:a.jsx(o.Z,{className:"h-4 w-4"})})}),a.jsx(i.eT,{children:t})]}));h.displayName=i.ck.displayName,r.forwardRef(({className:e,...t},s)=>a.jsx(i.Z0,{ref:s,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",e),...t})).displayName=i.Z0.displayName},82015:(e,t,s)=>{"use strict";s.d(t,{g:()=>n});var a=s(10326),r=s(17577),i=s(51223);let n=r.forwardRef(({className:e,...t},s)=>a.jsx("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:s,...t}));n.displayName="Textarea"},13556:(e,t,s)=>{"use strict";var a,r,i,n,l,o,c;s.d(t,{b5:()=>c,rl:()=>a,tc:()=>i,uC:()=>n,x7:()=>o,yF:()=>r}),function(e){e.NEW="new",e.CONTACTED="contacted",e.QUALIFIED="qualified",e.PROPOSAL_SENT="proposal_sent",e.NEGOTIATION="negotiation",e.WON="won",e.LOST="lost"}(a||(a={})),function(e){e.WEBSITE="website",e.REFERRAL="referral",e.SOCIAL_MEDIA="social_media",e.EMAIL_CAMPAIGN="email_campaign",e.COLD_CALL="cold_call",e.TRADE_SHOW="trade_show",e.PARTNER="partner",e.OTHER="other"}(r||(r={})),function(e){e.PROSPECTING="prospecting",e.QUALIFICATION="qualification",e.PROPOSAL="proposal",e.NEGOTIATION="negotiation",e.CLOSED_WON="closed_won",e.CLOSED_LOST="closed_lost"}(i||(i={})),function(e){e.LEAD="lead",e.CUSTOMER="customer",e.PARTNER="partner",e.VENDOR="vendor",e.OTHER="other"}(n||(n={})),function(e){e.CALL="call",e.EMAIL="email",e.MEETING="meeting",e.TASK="task",e.NOTE="note",e.PROPOSAL="proposal",e.CONTRACT="contract"}(l||(l={})),function(e){e.STARTUP="startup",e.SMALL="small",e.MEDIUM="medium",e.LARGE="large",e.ENTERPRISE="enterprise"}(o||(o={})),function(e){e.TECHNOLOGY="technology",e.HEALTHCARE="healthcare",e.FINANCE="finance",e.MANUFACTURING="manufacturing",e.RETAIL="retail",e.EDUCATION="education",e.REAL_ESTATE="real_estate",e.CONSULTING="consulting",e.OTHER="other"}(c||(c={}))},53946:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>n,vZ:()=>r});var a=s(41485);class r{static async getCustomers(e=0,t=100,s,r,i){let n=new URLSearchParams({skip:e.toString(),limit:t.toString()});return s&&n.append("search",s),r&&n.append("status",r),i&&n.append("customer_type",i),await a.sM.get(`/crm/customers?${n.toString()}`)}static async getCustomerById(e){return await a.sM.get(`/crm/customers/${e}`)}static async createCustomer(e){return await a.sM.post("/crm/customers",e)}static async updateCustomer(e,t){return await a.sM.put(`/crm/customers/${e}`,t)}static async deleteCustomer(e){return await a.sM.delete(`/crm/customers/${e}`)}static async getCustomerStats(){return await a.sM.get("/crm/customers/stats")}static async searchCustomers(e,t=20){return await a.sM.get(`/crm/customers/search?q=${encodeURIComponent(e)}&limit=${t}`)}}class i{constructor(){this.apiService=new a.sM}async getLeads(e,t=1,s=10){let a=new URLSearchParams;return e?.status&&a.append("status",e.status),e?.source&&a.append("source",e.source),e?.assignedTo&&a.append("assigned_to",e.assignedTo),e?.search&&a.append("search",e.search),a.append("page",t.toString()),a.append("limit",s.toString()),this.apiService.get(`/crm/leads?${a.toString()}`)}async getLead(e){return this.apiService.get(`/crm/leads/${e}`)}async createLead(e){return this.apiService.post("/crm/leads",e)}async updateLead(e,t){return this.apiService.put(`/crm/leads/${e}`,t)}async deleteLead(e){return this.apiService.delete(`/crm/leads/${e}`)}async convertLeadToContact(e,t){return this.apiService.post(`/crm/leads/${e}/convert`,t)}async getContacts(e,t=1,s=10){let a=new URLSearchParams;return e?.type&&a.append("type",e.type),e?.companyId&&a.append("company_id",e.companyId),e?.search&&a.append("search",e.search),a.append("page",t.toString()),a.append("limit",s.toString()),this.apiService.get(`/crm/contacts?${a.toString()}`)}async getContact(e){return this.apiService.get(`/crm/contacts/${e}`)}async createContact(e){return this.apiService.post("/crm/contacts",e)}async updateContact(e,t){return this.apiService.put(`/crm/contacts/${e}`,t)}async deleteContact(e){return this.apiService.delete(`/crm/contacts/${e}`)}async getCompanies(e,t=1,s=10){let a=new URLSearchParams;return e?.industry&&a.append("industry",e.industry),e?.size&&a.append("size",e.size),e?.search&&a.append("search",e.search),a.append("page",t.toString()),a.append("limit",s.toString()),this.apiService.get(`/crm/companies?${a.toString()}`)}async getCompany(e){return this.apiService.get(`/crm/companies/${e}`)}async createCompany(e){return this.apiService.post("/crm/companies",e)}async updateCompany(e,t){return this.apiService.put(`/crm/companies/${e}`,t)}async deleteCompany(e){return this.apiService.delete(`/crm/companies/${e}`)}async getOpportunities(e,t=1,s=10){let a=new URLSearchParams;return e?.stage&&a.append("stage",e.stage),e?.assignedTo&&a.append("assigned_to",e.assignedTo),e?.search&&a.append("search",e.search),a.append("page",t.toString()),a.append("limit",s.toString()),this.apiService.get(`/crm/opportunities?${a.toString()}`)}async getOpportunity(e){return this.apiService.get(`/crm/opportunities/${e}`)}async createOpportunity(e){return this.apiService.post("/crm/opportunities",e)}async updateOpportunity(e,t){return this.apiService.put(`/crm/opportunities/${e}`,t)}async deleteOpportunity(e){return this.apiService.delete(`/crm/opportunities/${e}`)}async getActivities(e,t=1,s=10){let a=new URLSearchParams;return e?.type&&a.append("type",e.type),e?.completed!==void 0&&a.append("completed",e.completed.toString()),e?.search&&a.append("search",e.search),a.append("page",t.toString()),a.append("limit",s.toString()),this.apiService.get(`/crm/activities?${a.toString()}`)}async getActivity(e){return this.apiService.get(`/crm/activities/${e}`)}async createActivity(e){return this.apiService.post("/crm/activities",e)}async updateActivity(e,t){return this.apiService.put(`/crm/activities/${e}`,t)}async deleteActivity(e){return this.apiService.delete(`/crm/activities/${e}`)}async getDashboard(){return this.apiService.get("/crm/dashboard")}getLeadStatusColor(e){return({new:"bg-blue-100 text-blue-800",contacted:"bg-yellow-100 text-yellow-800",qualified:"bg-green-100 text-green-800",proposal_sent:"bg-purple-100 text-purple-800",negotiation:"bg-orange-100 text-orange-800",won:"bg-green-100 text-green-800",lost:"bg-red-100 text-red-800"})[e]||"bg-gray-100 text-gray-800"}getOpportunityStageColor(e){return({prospecting:"bg-blue-100 text-blue-800",qualification:"bg-yellow-100 text-yellow-800",proposal:"bg-purple-100 text-purple-800",negotiation:"bg-orange-100 text-orange-800",closed_won:"bg-green-100 text-green-800",closed_lost:"bg-red-100 text-red-800"})[e]||"bg-gray-100 text-gray-800"}getActivityTypeColor(e){return({call:"bg-blue-100 text-blue-800",email:"bg-green-100 text-green-800",meeting:"bg-purple-100 text-purple-800",task:"bg-yellow-100 text-yellow-800",note:"bg-gray-100 text-gray-800",proposal:"bg-indigo-100 text-indigo-800",contract:"bg-pink-100 text-pink-800"})[e]||"bg-gray-100 text-gray-800"}formatCurrency(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}formatDate(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}formatDateTime(e){return new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}}let n=new i},94452:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(68570).createProxy)(String.raw`D:\TestApi\frontend\src\app\crm\opportunities\page.tsx#default`)},98958:(e,t,s)=>{"use strict";s.d(t,{Dx:()=>ea,VY:()=>es,aV:()=>et,dk:()=>er,fC:()=>X,h_:()=>ee,x8:()=>ei,xz:()=>J});var a=s(17577),r=s(82561),i=s(48051),n=s(93095),l=s(88957),o=s(52067),c=s(825),d=s(10441),p=s(83078),u=s(9815),m=s(45226),x=s(80699),g=s(58260),h=s(35664),y=s(34214),f=s(10326),j="Dialog",[v,N]=(0,n.b)(j),[b,C]=v(j),w=e=>{let{__scopeDialog:t,children:s,open:r,defaultOpen:i,onOpenChange:n,modal:c=!0}=e,d=a.useRef(null),p=a.useRef(null),[u,m]=(0,o.T)({prop:r,defaultProp:i??!1,onChange:n,caller:j});return(0,f.jsx)(b,{scope:t,triggerRef:d,contentRef:p,contentId:(0,l.M)(),titleId:(0,l.M)(),descriptionId:(0,l.M)(),open:u,onOpenChange:m,onOpenToggle:a.useCallback(()=>m(e=>!e),[m]),modal:c,children:s})};w.displayName=j;var S="DialogTrigger",O=a.forwardRef((e,t)=>{let{__scopeDialog:s,...a}=e,n=C(S,s),l=(0,i.e)(t,n.triggerRef);return(0,f.jsx)(m.WV.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":W(n.open),...a,ref:l,onClick:(0,r.M)(e.onClick,n.onOpenToggle)})});O.displayName=S;var I="DialogPortal",[_,D]=v(I,{forceMount:void 0}),R=e=>{let{__scopeDialog:t,forceMount:s,children:r,container:i}=e,n=C(I,t);return(0,f.jsx)(_,{scope:t,forceMount:s,children:a.Children.map(r,e=>(0,f.jsx)(u.z,{present:s||n.open,children:(0,f.jsx)(p.h,{asChild:!0,container:i,children:e})}))})};R.displayName=I;var A="DialogOverlay",P=a.forwardRef((e,t)=>{let s=D(A,e.__scopeDialog),{forceMount:a=s.forceMount,...r}=e,i=C(A,e.__scopeDialog);return i.modal?(0,f.jsx)(u.z,{present:a||i.open,children:(0,f.jsx)(E,{...r,ref:t})}):null});P.displayName=A;var T=(0,y.Z8)("DialogOverlay.RemoveScroll"),E=a.forwardRef((e,t)=>{let{__scopeDialog:s,...a}=e,r=C(A,s);return(0,f.jsx)(g.Z,{as:T,allowPinchZoom:!0,shards:[r.contentRef],children:(0,f.jsx)(m.WV.div,{"data-state":W(r.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),k="DialogContent",Z=a.forwardRef((e,t)=>{let s=D(k,e.__scopeDialog),{forceMount:a=s.forceMount,...r}=e,i=C(k,e.__scopeDialog);return(0,f.jsx)(u.z,{present:a||i.open,children:i.modal?(0,f.jsx)(L,{...r,ref:t}):(0,f.jsx)(M,{...r,ref:t})})});Z.displayName=k;var L=a.forwardRef((e,t)=>{let s=C(k,e.__scopeDialog),n=a.useRef(null),l=(0,i.e)(t,s.contentRef,n);return a.useEffect(()=>{let e=n.current;if(e)return(0,h.Ry)(e)},[]),(0,f.jsx)(F,{...e,ref:l,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,r.M)(e.onCloseAutoFocus,e=>{e.preventDefault(),s.triggerRef.current?.focus()}),onPointerDownOutside:(0,r.M)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,s=0===t.button&&!0===t.ctrlKey;(2===t.button||s)&&e.preventDefault()}),onFocusOutside:(0,r.M)(e.onFocusOutside,e=>e.preventDefault())})}),M=a.forwardRef((e,t)=>{let s=C(k,e.__scopeDialog),r=a.useRef(!1),i=a.useRef(!1);return(0,f.jsx)(F,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{e.onCloseAutoFocus?.(t),t.defaultPrevented||(r.current||s.triggerRef.current?.focus(),t.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:t=>{e.onInteractOutside?.(t),t.defaultPrevented||(r.current=!0,"pointerdown"!==t.detail.originalEvent.type||(i.current=!0));let a=t.target;s.triggerRef.current?.contains(a)&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&i.current&&t.preventDefault()}})}),F=a.forwardRef((e,t)=>{let{__scopeDialog:s,trapFocus:r,onOpenAutoFocus:n,onCloseAutoFocus:l,...o}=e,p=C(k,s),u=a.useRef(null),m=(0,i.e)(t,u);return(0,x.EW)(),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(d.M,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:n,onUnmountAutoFocus:l,children:(0,f.jsx)(c.XB,{role:"dialog",id:p.contentId,"aria-describedby":p.descriptionId,"aria-labelledby":p.titleId,"data-state":W(p.open),...o,ref:m,onDismiss:()=>p.onOpenChange(!1)})}),(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(K,{titleId:p.titleId}),(0,f.jsx)(Q,{contentRef:u,descriptionId:p.descriptionId})]})]})}),$="DialogTitle",z=a.forwardRef((e,t)=>{let{__scopeDialog:s,...a}=e,r=C($,s);return(0,f.jsx)(m.WV.h2,{id:r.titleId,...a,ref:t})});z.displayName=$;var q="DialogDescription",U=a.forwardRef((e,t)=>{let{__scopeDialog:s,...a}=e,r=C(q,s);return(0,f.jsx)(m.WV.p,{id:r.descriptionId,...a,ref:t})});U.displayName=q;var V="DialogClose",G=a.forwardRef((e,t)=>{let{__scopeDialog:s,...a}=e,i=C(V,s);return(0,f.jsx)(m.WV.button,{type:"button",...a,ref:t,onClick:(0,r.M)(e.onClick,()=>i.onOpenChange(!1))})});function W(e){return e?"open":"closed"}G.displayName=V;var B="DialogTitleWarning",[H,Y]=(0,n.k)(B,{contentName:k,titleName:$,docsSlug:"dialog"}),K=({titleId:e})=>{let t=Y(B),s=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return a.useEffect(()=>{e&&!document.getElementById(e)&&console.error(s)},[s,e]),null},Q=({contentRef:e,descriptionId:t})=>{let s=Y("DialogDescriptionWarning"),r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${s.contentName}}.`;return a.useEffect(()=>{let s=e.current?.getAttribute("aria-describedby");t&&s&&!document.getElementById(t)&&console.warn(r)},[r,e,t]),null},X=w,J=O,ee=R,et=P,es=Z,ea=z,er=U,ei=G}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[690,434,1571,649,39,692,9314,2760],()=>s(22263));module.exports=a})();