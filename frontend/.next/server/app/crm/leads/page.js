(()=>{var e={};e.id=2937,e.ids=[2937],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},11081:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>n.a,__next_app__:()=>h,originalPathname:()=>u,pages:()=>o,routeModule:()=>p,tree:()=>d}),s(83037),s(70733),s(35866);var a=s(23191),r=s(88716),i=s(37922),n=s.n(i),l=s(95231),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);s.d(t,c);let d=["",{children:["crm",{children:["leads",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,83037)),"D:\\TestApi\\frontend\\src\\app\\crm\\leads\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,70733)),"D:\\TestApi\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],o=["D:\\TestApi\\frontend\\src\\app\\crm\\leads\\page.tsx"],u="/crm/leads/page",h={require:s,loadChunk:()=>Promise.resolve()},p=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/crm/leads/page",pathname:"/crm/leads",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},28374:(e,t,s)=>{Promise.resolve().then(s.bind(s,7168))},59734:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},12714:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},41137:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},70003:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},98091:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},7168:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>w});var a=s(10326),r=s(17577),i=s(29752),n=s(91664),l=s(38443),c=s(41190),d=s(29280),o=s(24118),u=s(44794),h=s(82015),p=s(83855),m=s(41137),x=s(88307),g=s(24061),j=s(59734),v=s(12714),y=s(70003),N=s(98091),C=s(53946),S=s(13556),f=s(29272),b=s(39516),_=s(52449);function w(){let[e,t]=(0,r.useState)([]),[s,w]=(0,r.useState)(!0),[A,L]=(0,r.useState)(null),[T,P]=(0,r.useState)({}),[E,F]=(0,r.useState)(""),[k,O]=(0,r.useState)(1),[I,Z]=(0,r.useState)(1),[M,D]=(0,r.useState)(null),[U,R]=(0,r.useState)(!1),[q,$]=(0,r.useState)(!1),[z,B]=(0,r.useState)(!1),[V,G]=(0,r.useState)(!1),{customLeadSources:Q,createCustomLeadSource:H,loading:W}=(0,b.x)(),[J,K]=(0,r.useState)({firstName:"",lastName:"",email:"",phone:"",company:"",jobTitle:"",status:S.rl.NEW,source:S.yF.WEBSITE,notes:"",tags:[],score:0,budget:void 0,timeline:""}),Y=(0,r.useCallback)(async()=>{try{w(!0);let e=await C.ZP.getLeads(T,k,10);t(e.leads),Z(e.pagination.pages)}catch(e){L("Failed to load leads"),console.error("Leads load error:",e)}finally{w(!1)}},[T,k]),X=async(e,t)=>{try{await H(e,t)}catch(e){console.error("Failed to create custom lead source:",e)}},ee=async()=>{try{await C.ZP.createLead(J),R(!1),K({firstName:"",lastName:"",email:"",phone:"",company:"",jobTitle:"",status:S.rl.NEW,source:S.yF.WEBSITE,notes:"",tags:[],score:0,budget:void 0,timeline:""}),Y()}catch(e){console.error("Create lead error:",e)}},et=async()=>{if(M)try{await C.ZP.updateLead(M.id,J),$(!1),Y()}catch(e){console.error("Update lead error:",e)}},es=async e=>{if(confirm("Are you sure you want to delete this lead?"))try{await C.ZP.deleteLead(e),Y()}catch(e){console.error("Delete lead error:",e)}},ea=()=>{P(e=>({...e,search:E})),O(1)},er=(e,t)=>{P(s=>({...s,[e]:"all"===t?void 0:t})),O(1)};return s?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"}),a.jsx("p",{className:"mt-4 text-lg",children:"Loading Leads..."})]})}):a.jsx(f.cl,{children:(0,a.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"CRM Leads"}),a.jsx("p",{className:"text-gray-600",children:"Manage and track your sales leads"})]}),(0,a.jsxs)(n.z,{onClick:()=>R(!0),children:[a.jsx(p.Z,{className:"w-4 h-4 mr-2"}),"New Lead"]})]}),(0,a.jsxs)(i.Zb,{children:[a.jsx(i.Ol,{children:(0,a.jsxs)(i.ll,{className:"flex items-center",children:[a.jsx(m.Z,{className:"w-4 h-4 mr-2"}),"Filters & Search"]})}),a.jsx(i.aY,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"search",children:"Search"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[a.jsx(c.I,{id:"search",placeholder:"Search leads...",value:E,onChange:e=>F(e.target.value),onKeyPress:e=>"Enter"===e.key&&ea()}),a.jsx(n.z,{onClick:ea,children:a.jsx(x.Z,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"status",children:"Status"}),(0,a.jsxs)(d.Ph,{value:T.status||"all",onValueChange:e=>er("status",e),children:[a.jsx(d.i4,{children:a.jsx(d.ki,{placeholder:"All Statuses"})}),(0,a.jsxs)(d.Bw,{children:[a.jsx(d.Ql,{value:"all",children:"All Statuses"}),Object.values(S.rl).map(e=>a.jsx(d.Ql,{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))]})]})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"source",children:"Source"}),(0,a.jsxs)(d.Ph,{value:T.source||"all",onValueChange:e=>er("source",e),children:[a.jsx(d.i4,{children:a.jsx(d.ki,{placeholder:"All Sources"})}),(0,a.jsxs)(d.Bw,{children:[a.jsx(d.Ql,{value:"all",children:"All Sources"}),Object.values(S.yF).map(e=>a.jsx(d.Ql,{value:e,children:e.replace("_"," ").charAt(0).toUpperCase()+e.replace("_"," ").slice(1)},e))]})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsx(n.z,{variant:"outline",onClick:()=>{P({}),F(""),O(1)},children:"Reset Filters"})})]})})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[(0,a.jsxs)(i.ll,{children:["Leads (",e.length,")"]}),a.jsx(i.SZ,{children:"Manage your sales leads and track their progress"})]}),(0,a.jsxs)(i.aY,{children:[a.jsx("div",{className:"space-y-4",children:e.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(g.Z,{className:"w-5 h-5 text-gray-500"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"font-medium",children:[e.firstName," ",e.lastName]}),a.jsx("div",{className:"text-sm text-gray-500",children:e.email})]})]}),e.company&&(0,a.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[a.jsx(j.Z,{className:"w-4 h-4"}),a.jsx("span",{children:e.company})]}),e.jobTitle&&a.jsx("span",{className:"text-sm text-gray-500",children:e.jobTitle})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[a.jsx(l.C,{className:C.ZP.getLeadStatusColor(e.status),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),a.jsx(l.C,{variant:"outline",children:e.source.replace("_"," ").charAt(0).toUpperCase()+e.source.replace("_"," ").slice(1)}),e.score>0&&(0,a.jsxs)(l.C,{variant:"secondary",children:["Score: ",e.score]}),e.budget&&(0,a.jsxs)(l.C,{variant:"outline",children:["Budget: ",C.ZP.formatCurrency(e.budget)]})]}),e.notes&&a.jsx("div",{className:"text-sm text-gray-600 mt-2",children:e.notes}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 mt-2 text-xs text-gray-500",children:[(0,a.jsxs)("span",{children:["Created: ",C.ZP.formatDate(e.createdAt)]}),e.lastContactDate&&(0,a.jsxs)("span",{children:["Last Contact:"," ",C.ZP.formatDate(e.lastContactDate)]}),e.nextFollowUpDate&&(0,a.jsxs)("span",{children:["Next Follow-up:"," ",C.ZP.formatDate(e.nextFollowUpDate)]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(n.z,{variant:"outline",size:"sm",onClick:()=>{D(e),B(!0)},children:a.jsx(v.Z,{className:"w-4 h-4"})}),a.jsx(n.z,{variant:"outline",size:"sm",onClick:()=>{D(e),K({firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone||"",company:e.company||"",jobTitle:e.jobTitle||"",status:e.status,source:e.source,notes:e.notes||"",tags:e.tags,score:e.score,budget:e.budget,timeline:e.timeline||""}),$(!0)},children:a.jsx(y.Z,{className:"w-4 h-4"})}),a.jsx(n.z,{variant:"outline",size:"sm",onClick:()=>es(e.id),children:a.jsx(N.Z,{className:"w-4 h-4"})})]})]},e.id))}),I>1&&(0,a.jsxs)("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[a.jsx(n.z,{variant:"outline",onClick:()=>O(Math.max(1,k-1)),disabled:1===k,children:"Previous"}),(0,a.jsxs)("span",{className:"text-sm",children:["Page ",k," of ",I]}),a.jsx(n.z,{variant:"outline",onClick:()=>O(Math.min(I,k+1)),disabled:k===I,children:"Next"})]})]})]}),a.jsx(o.Vq,{open:U,onOpenChange:R,children:(0,a.jsxs)(o.cZ,{className:"max-w-2xl",children:[(0,a.jsxs)(o.fK,{children:[a.jsx(o.$N,{children:"Create New Lead"}),a.jsx(o.Be,{children:"Add a new lead to your CRM system"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"firstName",children:"First Name *"}),a.jsx(c.I,{id:"firstName",value:J.firstName,onChange:e=>K(t=>({...t,firstName:e.target.value}))})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"lastName",children:"Last Name *"}),a.jsx(c.I,{id:"lastName",value:J.lastName,onChange:e=>K(t=>({...t,lastName:e.target.value}))})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"email",children:"Email *"}),a.jsx(c.I,{id:"email",type:"email",value:J.email,onChange:e=>K(t=>({...t,email:e.target.value}))})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"phone",children:"Phone"}),a.jsx(c.I,{id:"phone",value:J.phone,onChange:e=>K(t=>({...t,phone:e.target.value}))})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"company",children:"Company"}),a.jsx(c.I,{id:"company",value:J.company,onChange:e=>K(t=>({...t,company:e.target.value}))})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"jobTitle",children:"Job Title"}),a.jsx(c.I,{id:"jobTitle",value:J.jobTitle,onChange:e=>K(t=>({...t,jobTitle:e.target.value}))})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"status",children:"Status"}),(0,a.jsxs)(d.Ph,{value:J.status,onValueChange:e=>K(t=>({...t,status:e})),children:[a.jsx(d.i4,{children:a.jsx(d.ki,{})}),a.jsx(d.Bw,{children:Object.values(S.rl).map(e=>a.jsx(d.Ql,{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"source",children:"Source"}),(0,a.jsxs)(d.Ph,{value:J.source,onValueChange:e=>{"create_new"===e?G(!0):K(t=>({...t,source:e}))},children:[a.jsx(d.i4,{children:a.jsx(d.ki,{})}),(0,a.jsxs)(d.Bw,{children:[Object.values(S.yF).map(e=>a.jsx(d.Ql,{value:e,children:e.replace("_"," ").charAt(0).toUpperCase()+e.replace("_"," ").slice(1)},e)),Q&&Q.length>0&&Q.map(e=>a.jsx(d.Ql,{value:e.id,children:e.name},e.id)),a.jsx(d.Ql,{value:"create_new",className:"font-semibold text-blue-600",children:"+ Create New Lead Source"})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"score",children:"Score"}),a.jsx(c.I,{id:"score",type:"number",value:J.score,onChange:e=>K(t=>({...t,score:parseInt(e.target.value)||0}))})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"budget",children:"Budget"}),a.jsx(c.I,{id:"budget",type:"number",value:J.budget||"",onChange:e=>K(t=>({...t,budget:e.target.value?parseFloat(e.target.value):void 0}))})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[a.jsx(u._,{htmlFor:"notes",children:"Notes"}),a.jsx(h.g,{id:"notes",value:J.notes,onChange:e=>K(t=>({...t,notes:e.target.value}))})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2",children:[a.jsx(n.z,{variant:"outline",onClick:()=>R(!1),children:"Cancel"}),a.jsx(n.z,{onClick:ee,children:"Create Lead"})]})]})}),a.jsx(o.Vq,{open:q,onOpenChange:$,children:(0,a.jsxs)(o.cZ,{className:"max-w-2xl",children:[(0,a.jsxs)(o.fK,{children:[a.jsx(o.$N,{children:"Edit Lead"}),a.jsx(o.Be,{children:"Update lead information"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"editFirstName",children:"First Name *"}),a.jsx(c.I,{id:"editFirstName",value:J.firstName,onChange:e=>K(t=>({...t,firstName:e.target.value}))})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"editLastName",children:"Last Name *"}),a.jsx(c.I,{id:"editLastName",value:J.lastName,onChange:e=>K(t=>({...t,lastName:e.target.value}))})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"editEmail",children:"Email *"}),a.jsx(c.I,{id:"editEmail",type:"email",value:J.email,onChange:e=>K(t=>({...t,email:e.target.value}))})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"editPhone",children:"Phone"}),a.jsx(c.I,{id:"editPhone",value:J.phone,onChange:e=>K(t=>({...t,phone:e.target.value}))})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"editCompany",children:"Company"}),a.jsx(c.I,{id:"editCompany",value:J.company,onChange:e=>K(t=>({...t,company:e.target.value}))})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"editJobTitle",children:"Job Title"}),a.jsx(c.I,{id:"editJobTitle",value:J.jobTitle,onChange:e=>K(t=>({...t,jobTitle:e.target.value}))})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"editStatus",children:"Status"}),(0,a.jsxs)(d.Ph,{value:J.status,onValueChange:e=>K(t=>({...t,status:e})),children:[a.jsx(d.i4,{children:a.jsx(d.ki,{})}),a.jsx(d.Bw,{children:Object.values(S.rl).map(e=>a.jsx(d.Ql,{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"editSource",children:"Source"}),(0,a.jsxs)(d.Ph,{value:J.source,onValueChange:e=>K(t=>({...t,source:e})),children:[a.jsx(d.i4,{children:a.jsx(d.ki,{})}),a.jsx(d.Bw,{children:Object.values(S.yF).map(e=>a.jsx(d.Ql,{value:e,children:e.replace("_"," ").charAt(0).toUpperCase()+e.replace("_"," ").slice(1)},e))})]})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"editScore",children:"Score"}),a.jsx(c.I,{id:"editScore",type:"number",value:J.score,onChange:e=>K(t=>({...t,score:parseInt(e.target.value)||0}))})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{htmlFor:"editBudget",children:"Budget"}),a.jsx(c.I,{id:"editBudget",type:"number",value:J.budget||"",onChange:e=>K(t=>({...t,budget:e.target.value?parseFloat(e.target.value):void 0}))})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[a.jsx(u._,{htmlFor:"editNotes",children:"Notes"}),a.jsx(h.g,{id:"editNotes",value:J.notes,onChange:e=>K(t=>({...t,notes:e.target.value}))})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2",children:[a.jsx(n.z,{variant:"outline",onClick:()=>$(!1),children:"Cancel"}),a.jsx(n.z,{onClick:et,children:"Update Lead"})]})]})}),a.jsx(o.Vq,{open:z,onOpenChange:B,children:(0,a.jsxs)(o.cZ,{className:"max-w-2xl",children:[(0,a.jsxs)(o.fK,{children:[a.jsx(o.$N,{children:"Lead Details"}),a.jsx(o.Be,{children:"View complete lead information"})]}),M&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx(u._,{className:"font-medium",children:"Name"}),(0,a.jsxs)("p",{children:[M.firstName," ",M.lastName]})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{className:"font-medium",children:"Email"}),a.jsx("p",{children:M.email})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{className:"font-medium",children:"Phone"}),a.jsx("p",{children:M.phone||"N/A"})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{className:"font-medium",children:"Company"}),a.jsx("p",{children:M.company||"N/A"})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{className:"font-medium",children:"Job Title"}),a.jsx("p",{children:M.jobTitle||"N/A"})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{className:"font-medium",children:"Status"}),a.jsx(l.C,{className:C.ZP.getLeadStatusColor(M.status),children:M.status.charAt(0).toUpperCase()+M.status.slice(1)})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{className:"font-medium",children:"Source"}),a.jsx(l.C,{variant:"outline",children:M.source.replace("_"," ").charAt(0).toUpperCase()+M.source.replace("_"," ").slice(1)})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{className:"font-medium",children:"Score"}),a.jsx("p",{children:M.score})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{className:"font-medium",children:"Budget"}),a.jsx("p",{children:M.budget?C.ZP.formatCurrency(M.budget):"N/A"})]})]}),M.notes&&(0,a.jsxs)("div",{children:[a.jsx(u._,{className:"font-medium",children:"Notes"}),a.jsx("p",{className:"text-gray-600",children:M.notes})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx(u._,{className:"font-medium",children:"Created"}),a.jsx("p",{children:C.ZP.formatDateTime(M.createdAt)})]}),(0,a.jsxs)("div",{children:[a.jsx(u._,{className:"font-medium",children:"Last Updated"}),a.jsx("p",{children:C.ZP.formatDateTime(M.updatedAt)})]}),M.lastContactDate&&(0,a.jsxs)("div",{children:[a.jsx(u._,{className:"font-medium",children:"Last Contact"}),a.jsx("p",{children:C.ZP.formatDate(M.lastContactDate)})]}),M.nextFollowUpDate&&(0,a.jsxs)("div",{children:[a.jsx(u._,{className:"font-medium",children:"Next Follow-up"}),a.jsx("p",{children:C.ZP.formatDate(M.nextFollowUpDate)})]})]})]}),a.jsx("div",{className:"flex justify-end",children:a.jsx(n.z,{variant:"outline",onClick:()=>B(!1),children:"Close"})})]})}),a.jsx(_.O,{open:V,onOpenChange:G,title:"Create New Lead Source",description:"Create a custom lead source that will be available for your tenant.",optionName:"Lead Source",placeholder:"e.g., LinkedIn Campaign, Webinar",onSubmit:X,loading:W.leadSource})]})})}},29272:(e,t,s)=>{"use strict";s.d(t,{cl:()=>a.default});var a=s(62760);s(63102),s(17676)},13556:(e,t,s)=>{"use strict";var a,r,i,n,l,c,d;s.d(t,{b5:()=>d,rl:()=>a,tc:()=>i,uC:()=>n,x7:()=>c,yF:()=>r}),function(e){e.NEW="new",e.CONTACTED="contacted",e.QUALIFIED="qualified",e.PROPOSAL_SENT="proposal_sent",e.NEGOTIATION="negotiation",e.WON="won",e.LOST="lost"}(a||(a={})),function(e){e.WEBSITE="website",e.REFERRAL="referral",e.SOCIAL_MEDIA="social_media",e.EMAIL_CAMPAIGN="email_campaign",e.COLD_CALL="cold_call",e.TRADE_SHOW="trade_show",e.PARTNER="partner",e.OTHER="other"}(r||(r={})),function(e){e.PROSPECTING="prospecting",e.QUALIFICATION="qualification",e.PROPOSAL="proposal",e.NEGOTIATION="negotiation",e.CLOSED_WON="closed_won",e.CLOSED_LOST="closed_lost"}(i||(i={})),function(e){e.LEAD="lead",e.CUSTOMER="customer",e.PARTNER="partner",e.VENDOR="vendor",e.OTHER="other"}(n||(n={})),function(e){e.CALL="call",e.EMAIL="email",e.MEETING="meeting",e.TASK="task",e.NOTE="note",e.PROPOSAL="proposal",e.CONTRACT="contract"}(l||(l={})),function(e){e.STARTUP="startup",e.SMALL="small",e.MEDIUM="medium",e.LARGE="large",e.ENTERPRISE="enterprise"}(c||(c={})),function(e){e.TECHNOLOGY="technology",e.HEALTHCARE="healthcare",e.FINANCE="finance",e.MANUFACTURING="manufacturing",e.RETAIL="retail",e.EDUCATION="education",e.REAL_ESTATE="real_estate",e.CONSULTING="consulting",e.OTHER="other"}(d||(d={}))},53946:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>n,vZ:()=>r});var a=s(41485);class r{static async getCustomers(e=0,t=100,s,r,i){let n=new URLSearchParams({skip:e.toString(),limit:t.toString()});return s&&n.append("search",s),r&&n.append("status",r),i&&n.append("customer_type",i),await a.sM.get(`/crm/customers?${n.toString()}`)}static async getCustomerById(e){return await a.sM.get(`/crm/customers/${e}`)}static async createCustomer(e){return await a.sM.post("/crm/customers",e)}static async updateCustomer(e,t){return await a.sM.put(`/crm/customers/${e}`,t)}static async deleteCustomer(e){return await a.sM.delete(`/crm/customers/${e}`)}static async getCustomerStats(){return await a.sM.get("/crm/customers/stats")}static async searchCustomers(e,t=20){return await a.sM.get(`/crm/customers/search?q=${encodeURIComponent(e)}&limit=${t}`)}}class i{constructor(){this.apiService=new a.sM}async getLeads(e,t=1,s=10){let a=new URLSearchParams;return e?.status&&a.append("status",e.status),e?.source&&a.append("source",e.source),e?.assignedTo&&a.append("assigned_to",e.assignedTo),e?.search&&a.append("search",e.search),a.append("page",t.toString()),a.append("limit",s.toString()),this.apiService.get(`/crm/leads?${a.toString()}`)}async getLead(e){return this.apiService.get(`/crm/leads/${e}`)}async createLead(e){return this.apiService.post("/crm/leads",e)}async updateLead(e,t){return this.apiService.put(`/crm/leads/${e}`,t)}async deleteLead(e){return this.apiService.delete(`/crm/leads/${e}`)}async convertLeadToContact(e,t){return this.apiService.post(`/crm/leads/${e}/convert`,t)}async getContacts(e,t=1,s=10){let a=new URLSearchParams;return e?.type&&a.append("type",e.type),e?.companyId&&a.append("company_id",e.companyId),e?.search&&a.append("search",e.search),a.append("page",t.toString()),a.append("limit",s.toString()),this.apiService.get(`/crm/contacts?${a.toString()}`)}async getContact(e){return this.apiService.get(`/crm/contacts/${e}`)}async createContact(e){return this.apiService.post("/crm/contacts",e)}async updateContact(e,t){return this.apiService.put(`/crm/contacts/${e}`,t)}async deleteContact(e){return this.apiService.delete(`/crm/contacts/${e}`)}async getCompanies(e,t=1,s=10){let a=new URLSearchParams;return e?.industry&&a.append("industry",e.industry),e?.size&&a.append("size",e.size),e?.search&&a.append("search",e.search),a.append("page",t.toString()),a.append("limit",s.toString()),this.apiService.get(`/crm/companies?${a.toString()}`)}async getCompany(e){return this.apiService.get(`/crm/companies/${e}`)}async createCompany(e){return this.apiService.post("/crm/companies",e)}async updateCompany(e,t){return this.apiService.put(`/crm/companies/${e}`,t)}async deleteCompany(e){return this.apiService.delete(`/crm/companies/${e}`)}async getOpportunities(e,t=1,s=10){let a=new URLSearchParams;return e?.stage&&a.append("stage",e.stage),e?.assignedTo&&a.append("assigned_to",e.assignedTo),e?.search&&a.append("search",e.search),a.append("page",t.toString()),a.append("limit",s.toString()),this.apiService.get(`/crm/opportunities?${a.toString()}`)}async getOpportunity(e){return this.apiService.get(`/crm/opportunities/${e}`)}async createOpportunity(e){return this.apiService.post("/crm/opportunities",e)}async updateOpportunity(e,t){return this.apiService.put(`/crm/opportunities/${e}`,t)}async deleteOpportunity(e){return this.apiService.delete(`/crm/opportunities/${e}`)}async getActivities(e,t=1,s=10){let a=new URLSearchParams;return e?.type&&a.append("type",e.type),e?.completed!==void 0&&a.append("completed",e.completed.toString()),e?.search&&a.append("search",e.search),a.append("page",t.toString()),a.append("limit",s.toString()),this.apiService.get(`/crm/activities?${a.toString()}`)}async getActivity(e){return this.apiService.get(`/crm/activities/${e}`)}async createActivity(e){return this.apiService.post("/crm/activities",e)}async updateActivity(e,t){return this.apiService.put(`/crm/activities/${e}`,t)}async deleteActivity(e){return this.apiService.delete(`/crm/activities/${e}`)}async getDashboard(){return this.apiService.get("/crm/dashboard")}getLeadStatusColor(e){return({new:"bg-blue-100 text-blue-800",contacted:"bg-yellow-100 text-yellow-800",qualified:"bg-green-100 text-green-800",proposal_sent:"bg-purple-100 text-purple-800",negotiation:"bg-orange-100 text-orange-800",won:"bg-green-100 text-green-800",lost:"bg-red-100 text-red-800"})[e]||"bg-gray-100 text-gray-800"}getOpportunityStageColor(e){return({prospecting:"bg-blue-100 text-blue-800",qualification:"bg-yellow-100 text-yellow-800",proposal:"bg-purple-100 text-purple-800",negotiation:"bg-orange-100 text-orange-800",closed_won:"bg-green-100 text-green-800",closed_lost:"bg-red-100 text-red-800"})[e]||"bg-gray-100 text-gray-800"}getActivityTypeColor(e){return({call:"bg-blue-100 text-blue-800",email:"bg-green-100 text-green-800",meeting:"bg-purple-100 text-purple-800",task:"bg-yellow-100 text-yellow-800",note:"bg-gray-100 text-gray-800",proposal:"bg-indigo-100 text-indigo-800",contract:"bg-pink-100 text-pink-800"})[e]||"bg-gray-100 text-gray-800"}formatCurrency(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}formatDate(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}formatDateTime(e){return new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}}let n=new i},83037:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(68570).createProxy)(String.raw`D:\TestApi\frontend\src\app\crm\leads\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[690,434,1571,649,39,692,9314,2760,9157],()=>s(11081));module.exports=a})();