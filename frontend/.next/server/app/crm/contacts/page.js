(()=>{var e={};e.id=5023,e.ids=[5023],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},52765:(e,t,s)=>{"use strict";s.r(t),s.d(t,{GlobalError:()=>i.a,__next_app__:()=>m,originalPathname:()=>p,pages:()=>d,routeModule:()=>h,tree:()=>o}),s(86330),s(70733),s(35866);var a=s(23191),r=s(88716),n=s(37922),i=s.n(n),c=s(95231),l={};for(let e in c)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(l[e]=()=>c[e]);s.d(t,l);let o=["",{children:["crm",{children:["contacts",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(s.bind(s,86330)),"D:\\TestApi\\frontend\\src\\app\\crm\\contacts\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(s.bind(s,70733)),"D:\\TestApi\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(s.t.bind(s,35866,23)),"next/dist/client/components/not-found-error"]}],d=["D:\\TestApi\\frontend\\src\\app\\crm\\contacts\\page.tsx"],p="/crm/contacts/page",m={require:s,loadChunk:()=>Promise.resolve()},h=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/crm/contacts/page",pathname:"/crm/contacts",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:o}})},55093:(e,t,s)=>{Promise.resolve().then(s.bind(s,24056))},59734:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},12714:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},41137:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},70003:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},98091:(e,t,s)=>{"use strict";s.d(t,{Z:()=>a});let a=(0,s(76557).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},24056:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>A});var a=s(10326),r=s(17577),n=s(29752),i=s(91664),c=s(38443),l=s(41190),o=s(82015),d=s(44794),p=s(29280),m=s(24118),h=s(33261),u=s(83855),x=s(41137),g=s(88307),y=s(24061),j=s(59734),v=s(12714),N=s(70003),C=s(98091),f=s(53946),b=s(13556),S=s(29272),T=s(39516),w=s(52449);function A(){let[e,t]=(0,r.useState)([]),[s,A]=(0,r.useState)(!0),[_,E]=(0,r.useState)({}),[I,P]=(0,r.useState)(""),[O,k]=(0,r.useState)(!1),[L,M]=(0,r.useState)(null),[D,Z]=(0,r.useState)(null),[R,q]=(0,r.useState)(null),[U,$]=(0,r.useState)(!1),[F,z]=(0,r.useState)(!1),[G,V]=(0,r.useState)(""),[Q,H]=(0,r.useState)(""),[B,K]=(0,r.useState)(!1),{customContactTypes:W,createCustomContactType:Y,loading:J}=(0,T.x)(),[X,ee]=(0,r.useState)({firstName:"",lastName:"",email:"",phone:"",mobile:"",jobTitle:"",department:"",companyId:"",type:b.uC.CUSTOMER,notes:"",tags:[],isActive:!0}),[et,es]=(0,r.useState)([]),ea=(0,r.useCallback)(async()=>{try{A(!0);let e=await f.ZP.getContacts(_,1,100);t(e.contacts)}catch(e){console.error("Contacts load error:",e)}finally{A(!1)}},[_]);(0,r.useCallback)(async()=>{try{let e=await f.ZP.getCompanies({},1,100);es(e.companies||[])}catch(e){console.error("Companies load error:",e)}},[]);let er=()=>{E(e=>({...e,search:I}))},en=async(e,t)=>{try{await Y(e,t)}catch(e){console.error("Failed to create custom contact type:",e)}},ei=()=>{ee({firstName:"",lastName:"",email:"",phone:"",mobile:"",jobTitle:"",department:"",companyId:"",type:b.uC.CUSTOMER,notes:"",tags:[],isActive:!0})},ec=async e=>{if(e.preventDefault(),!X.firstName.trim()||!X.lastName.trim()||!X.email.trim()){alert("First name, last name, and email are required");return}$(!0);try{L?console.log("Update contact:",L.id,X):(await f.ZP.createContact(X),V("Contact created successfully!"),k(!1),ei(),ea(),setTimeout(()=>V(""),3e3))}catch(e){console.error("Error saving contact:",e),H("Error saving contact. Please try again."),setTimeout(()=>H(""),5e3)}finally{$(!1)}},el=e=>{M(e),H(""),V(""),ee({firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone||"",mobile:e.mobile||"",jobTitle:e.jobTitle||"",department:e.department||"",companyId:e.companyId||"",type:e.type,notes:e.notes||"",tags:e.tags||[],isActive:e.isActive}),k(!0)},eo=e=>{Z(e)},ed=async e=>{q(e)},ep=async()=>{if(R){z(!0);try{await f.ZP.deleteContact(R.id),V("Contact deleted successfully!"),q(null),ea(),setTimeout(()=>V(""),3e3)}catch(e){console.error("Error deleting contact:",e),H("Error deleting contact. Please try again."),setTimeout(()=>H(""),5e3)}finally{z(!1)}}};return s?a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"}),a.jsx("p",{className:"mt-4 text-lg",children:"Loading Contacts..."})]})}):a.jsx(S.cl,{children:(0,a.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"CRM Contacts"}),a.jsx("p",{className:"text-gray-600",children:"Manage your customer contacts and relationships"}),G&&a.jsx("div",{className:"mt-2 p-3 bg-green-50 border border-green-200 rounded-md",children:a.jsx("p",{className:"text-green-800 text-sm",children:G})})]}),(0,a.jsxs)(i.z,{onClick:()=>{M(null),ei(),H(""),V(""),k(!0)},children:[a.jsx(u.Z,{className:"w-4 h-4 mr-2"}),"New Contact"]})]}),(0,a.jsxs)(n.Zb,{children:[a.jsx(n.Ol,{children:(0,a.jsxs)(n.ll,{className:"flex items-center",children:[a.jsx(x.Z,{className:"w-4 h-4 mr-2"}),"Filters & Search"]})}),a.jsx(n.aY,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Search"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[a.jsx(l.I,{placeholder:"Search contacts...",value:I,onChange:e=>P(e.target.value),onKeyPress:e=>"Enter"===e.key&&er()}),a.jsx(i.z,{onClick:er,children:a.jsx(g.Z,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{children:[a.jsx("label",{className:"text-sm font-medium",children:"Type"}),(0,a.jsxs)(p.Ph,{value:_.type||"all",onValueChange:e=>E(t=>({...t,type:"all"===e?void 0:e})),children:[a.jsx(p.i4,{children:a.jsx(p.ki,{placeholder:"All Types"})}),(0,a.jsxs)(p.Bw,{children:[a.jsx(p.Ql,{value:"all",children:"All Types"}),Object.values(b.uC).map(e=>a.jsx(p.Ql,{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))]})]})]}),a.jsx("div",{className:"flex items-end",children:a.jsx(i.z,{variant:"outline",onClick:()=>{E({}),P("")},children:"Reset Filters"})})]})})]}),(0,a.jsxs)(n.Zb,{children:[(0,a.jsxs)(n.Ol,{children:[(0,a.jsxs)(n.ll,{children:["Contacts (",e.length,")"]}),a.jsx(n.SZ,{children:"Manage your customer contacts and track interactions"})]}),a.jsx(n.aY,{children:a.jsx("div",{className:"space-y-4",children:e.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(y.Z,{className:"w-5 h-5 text-gray-500"}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"font-medium",children:[e.firstName," ",e.lastName]}),a.jsx("div",{className:"text-sm text-gray-500",children:e.email})]})]}),e.companyId&&(0,a.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[a.jsx(j.Z,{className:"w-4 h-4"}),(0,a.jsxs)("span",{children:["Company ID: ",e.companyId]})]}),e.jobTitle&&a.jsx("span",{className:"text-sm text-gray-500",children:e.jobTitle})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[a.jsx(c.C,{variant:"outline",children:e.type.charAt(0).toUpperCase()+e.type.slice(1)}),a.jsx(c.C,{variant:e.isActive?"default":"secondary",children:e.isActive?"Active":"Inactive"})]}),e.notes&&a.jsx("div",{className:"text-sm text-gray-600 mt-2",children:e.notes}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 mt-2 text-xs text-gray-500",children:[(0,a.jsxs)("span",{children:["Created: ",f.ZP.formatDate(e.createdAt)]}),e.lastContactDate&&(0,a.jsxs)("span",{children:["Last Contact:"," ",f.ZP.formatDate(e.lastContactDate)]}),e.nextFollowUpDate&&(0,a.jsxs)("span",{children:["Next Follow-up:"," ",f.ZP.formatDate(e.nextFollowUpDate)]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[a.jsx(i.z,{variant:"outline",size:"sm",onClick:()=>eo(e),children:a.jsx(v.Z,{className:"w-4 h-4"})}),a.jsx(i.z,{variant:"outline",size:"sm",onClick:()=>el(e),children:a.jsx(N.Z,{className:"w-4 h-4"})}),a.jsx(i.z,{variant:"outline",size:"sm",onClick:()=>ed(e),children:a.jsx(C.Z,{className:"w-4 h-4"})})]})]},e.id))})})]}),a.jsx(m.Vq,{open:O,onOpenChange:k,children:(0,a.jsxs)(m.cZ,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsx(m.fK,{children:a.jsx(m.$N,{children:L?"Edit Contact":"Create New Contact"})}),(0,a.jsxs)("form",{onSubmit:ec,className:"space-y-6",children:[Q&&a.jsx(h.bZ,{variant:"destructive",children:a.jsx(h.X,{children:Q})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"firstName",children:"First Name *"}),a.jsx(l.I,{id:"firstName",value:X.firstName,onChange:e=>ee({...X,firstName:e.target.value}),placeholder:"Enter first name",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"lastName",children:"Last Name *"}),a.jsx(l.I,{id:"lastName",value:X.lastName,onChange:e=>ee({...X,lastName:e.target.value}),placeholder:"Enter last name",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"email",children:"Email *"}),a.jsx(l.I,{id:"email",value:X.email,onChange:e=>ee({...X,email:e.target.value}),placeholder:"Enter email address",type:"email",required:!0})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"phone",children:"Phone"}),a.jsx(l.I,{id:"phone",value:X.phone,onChange:e=>ee({...X,phone:e.target.value}),placeholder:"Enter phone number"})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"mobile",children:"Mobile"}),a.jsx(l.I,{id:"mobile",value:X.mobile,onChange:e=>ee({...X,mobile:e.target.value}),placeholder:"Enter mobile number"})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"jobTitle",children:"Job Title"}),a.jsx(l.I,{id:"jobTitle",value:X.jobTitle,onChange:e=>ee({...X,jobTitle:e.target.value}),placeholder:"Enter job title"})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"department",children:"Department"}),a.jsx(l.I,{id:"department",value:X.department,onChange:e=>ee({...X,department:e.target.value}),placeholder:"Enter department"})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"companyId",children:"Company"}),(0,a.jsxs)(p.Ph,{value:X.companyId||"none",onValueChange:e=>ee({...X,companyId:"none"===e?"":e}),children:[a.jsx(p.i4,{children:a.jsx(p.ki,{placeholder:"Select company"})}),(0,a.jsxs)(p.Bw,{children:[a.jsx(p.Ql,{value:"none",children:"No Company"}),et.map(e=>a.jsx(p.Ql,{value:e.id,children:e.name},e.id))]})]})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"type",children:"Contact Type"}),(0,a.jsxs)(p.Ph,{value:X.type,onValueChange:e=>{"create_new"===e?K(!0):ee({...X,type:e})},children:[a.jsx(p.i4,{children:a.jsx(p.ki,{})}),(0,a.jsxs)(p.Bw,{children:[Object.values(b.uC).map(e=>a.jsx(p.Ql,{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e)),W&&W.length>0&&W.map(e=>a.jsx(p.Ql,{value:e.id,children:e.name},e.id)),a.jsx(p.Ql,{value:"create_new",className:"font-semibold text-blue-600",children:"+ Create New Contact Type"})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"isActive",children:"Status"}),(0,a.jsxs)(p.Ph,{value:X.isActive?"active":"inactive",onValueChange:e=>ee({...X,isActive:"active"===e}),children:[a.jsx(p.i4,{children:a.jsx(p.ki,{})}),(0,a.jsxs)(p.Bw,{children:[a.jsx(p.Ql,{value:"active",children:"Active"}),a.jsx(p.Ql,{value:"inactive",children:"Inactive"})]})]})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[a.jsx(d._,{htmlFor:"notes",children:"Notes"}),a.jsx(o.g,{id:"notes",value:X.notes,onChange:e=>ee({...X,notes:e.target.value}),placeholder:"Additional notes about the contact",rows:3})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[a.jsx(d._,{htmlFor:"tags",children:"Tags (comma-separated)"}),a.jsx(l.I,{id:"tags",value:X.tags?.join(", ")||"",onChange:e=>ee({...X,tags:e.target.value?e.target.value.split(",").map(e=>e.trim()):[]}),placeholder:"tag1, tag2, tag3"})]})]}),(0,a.jsxs)(m.cN,{children:[a.jsx(i.z,{type:"button",variant:"outline",onClick:()=>{k(!1),M(null),ei(),H(""),V("")},children:"Cancel"}),a.jsx(i.z,{type:"submit",disabled:U,children:U?"Saving...":L?"Update Contact":"Create Contact"})]})]})]})}),a.jsx(m.Vq,{open:!!D,onOpenChange:()=>Z(null),children:(0,a.jsxs)(m.cZ,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsx(m.fK,{children:a.jsx(m.$N,{children:"Contact Details"})}),D&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx(d._,{className:"text-sm font-medium text-gray-500",children:"First Name"}),a.jsx("p",{className:"text-lg font-semibold",children:D.firstName})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{className:"text-sm font-medium text-gray-500",children:"Last Name"}),a.jsx("p",{className:"text-lg font-semibold",children:D.lastName})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{className:"text-sm font-medium text-gray-500",children:"Email"}),a.jsx("p",{children:D.email})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{className:"text-sm font-medium text-gray-500",children:"Phone"}),a.jsx("p",{children:D.phone||"Not specified"})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{className:"text-sm font-medium text-gray-500",children:"Mobile"}),a.jsx("p",{children:D.mobile||"Not specified"})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{className:"text-sm font-medium text-gray-500",children:"Job Title"}),a.jsx("p",{children:D.jobTitle||"Not specified"})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{className:"text-sm font-medium text-gray-500",children:"Department"}),a.jsx("p",{children:D.department||"Not specified"})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{className:"text-sm font-medium text-gray-500",children:"Company"}),a.jsx("p",{children:D.companyId?et.find(e=>e.id===D.companyId)?.name||"Company ID: "+D.companyId:"Not specified"})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{className:"text-sm font-medium text-gray-500",children:"Contact Type"}),a.jsx("p",{children:D.type.charAt(0).toUpperCase()+D.type.slice(1)})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{className:"text-sm font-medium text-gray-500",children:"Status"}),a.jsx(c.C,{variant:D.isActive?"default":"secondary",children:D.isActive?"Active":"Inactive"})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[a.jsx(d._,{className:"text-sm font-medium text-gray-500",children:"Notes"}),a.jsx("p",{children:D.notes||"No notes"})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[a.jsx(d._,{className:"text-sm font-medium text-gray-500",children:"Tags"}),a.jsx("div",{className:"flex flex-wrap gap-2",children:D.tags&&D.tags.length>0?D.tags.map((e,t)=>a.jsx(c.C,{variant:"outline",children:e},t)):a.jsx("p",{children:"No tags"})})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[a.jsx(d._,{className:"text-sm font-medium text-gray-500",children:"Created"}),a.jsx("p",{children:f.ZP.formatDate(D.createdAt)})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[a.jsx(d._,{className:"text-sm font-medium text-gray-500",children:"Last Updated"}),a.jsx("p",{children:f.ZP.formatDate(D.updatedAt)})]})]}),(0,a.jsxs)(m.cN,{children:[a.jsx(i.z,{type:"button",variant:"outline",onClick:()=>Z(null),children:"Close"}),a.jsx(i.z,{type:"button",onClick:()=>{Z(null),el(D)},children:"Edit Contact"})]})]})]})}),a.jsx(m.Vq,{open:!!R,onOpenChange:()=>q(null),children:(0,a.jsxs)(m.cZ,{className:"max-w-md",children:[a.jsx(m.fK,{children:a.jsx(m.$N,{children:"Delete Contact"})}),R&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("p",{className:"text-gray-600",children:["Are you sure you want to delete"," ",(0,a.jsxs)("strong",{children:['"',R.firstName," ",R.lastName,'"']}),"? This action cannot be undone."]}),(0,a.jsxs)(m.cN,{children:[a.jsx(i.z,{type:"button",variant:"outline",onClick:()=>q(null),children:"Cancel"}),a.jsx(i.z,{type:"button",variant:"destructive",onClick:ep,disabled:F,children:F?"Deleting...":"Delete Contact"})]})]})]})}),a.jsx(w.O,{open:B,onOpenChange:K,title:"Create New Contact Type",description:"Create a custom contact type that will be available for your tenant.",optionName:"Contact Type",placeholder:"e.g., Partner, Vendor",onSubmit:en,loading:J.contactType})]})})}},29272:(e,t,s)=>{"use strict";s.d(t,{cl:()=>a.default});var a=s(62760);s(63102),s(17676)},13556:(e,t,s)=>{"use strict";var a,r,n,i,c,l,o;s.d(t,{b5:()=>o,rl:()=>a,tc:()=>n,uC:()=>i,x7:()=>l,yF:()=>r}),function(e){e.NEW="new",e.CONTACTED="contacted",e.QUALIFIED="qualified",e.PROPOSAL_SENT="proposal_sent",e.NEGOTIATION="negotiation",e.WON="won",e.LOST="lost"}(a||(a={})),function(e){e.WEBSITE="website",e.REFERRAL="referral",e.SOCIAL_MEDIA="social_media",e.EMAIL_CAMPAIGN="email_campaign",e.COLD_CALL="cold_call",e.TRADE_SHOW="trade_show",e.PARTNER="partner",e.OTHER="other"}(r||(r={})),function(e){e.PROSPECTING="prospecting",e.QUALIFICATION="qualification",e.PROPOSAL="proposal",e.NEGOTIATION="negotiation",e.CLOSED_WON="closed_won",e.CLOSED_LOST="closed_lost"}(n||(n={})),function(e){e.LEAD="lead",e.CUSTOMER="customer",e.PARTNER="partner",e.VENDOR="vendor",e.OTHER="other"}(i||(i={})),function(e){e.CALL="call",e.EMAIL="email",e.MEETING="meeting",e.TASK="task",e.NOTE="note",e.PROPOSAL="proposal",e.CONTRACT="contract"}(c||(c={})),function(e){e.STARTUP="startup",e.SMALL="small",e.MEDIUM="medium",e.LARGE="large",e.ENTERPRISE="enterprise"}(l||(l={})),function(e){e.TECHNOLOGY="technology",e.HEALTHCARE="healthcare",e.FINANCE="finance",e.MANUFACTURING="manufacturing",e.RETAIL="retail",e.EDUCATION="education",e.REAL_ESTATE="real_estate",e.CONSULTING="consulting",e.OTHER="other"}(o||(o={}))},53946:(e,t,s)=>{"use strict";s.d(t,{ZP:()=>i,vZ:()=>r});var a=s(41485);class r{static async getCustomers(e=0,t=100,s,r,n){let i=new URLSearchParams({skip:e.toString(),limit:t.toString()});return s&&i.append("search",s),r&&i.append("status",r),n&&i.append("customer_type",n),await a.sM.get(`/crm/customers?${i.toString()}`)}static async getCustomerById(e){return await a.sM.get(`/crm/customers/${e}`)}static async createCustomer(e){return await a.sM.post("/crm/customers",e)}static async updateCustomer(e,t){return await a.sM.put(`/crm/customers/${e}`,t)}static async deleteCustomer(e){return await a.sM.delete(`/crm/customers/${e}`)}static async getCustomerStats(){return await a.sM.get("/crm/customers/stats")}static async searchCustomers(e,t=20){return await a.sM.get(`/crm/customers/search?q=${encodeURIComponent(e)}&limit=${t}`)}}class n{constructor(){this.apiService=new a.sM}async getLeads(e,t=1,s=10){let a=new URLSearchParams;return e?.status&&a.append("status",e.status),e?.source&&a.append("source",e.source),e?.assignedTo&&a.append("assigned_to",e.assignedTo),e?.search&&a.append("search",e.search),a.append("page",t.toString()),a.append("limit",s.toString()),this.apiService.get(`/crm/leads?${a.toString()}`)}async getLead(e){return this.apiService.get(`/crm/leads/${e}`)}async createLead(e){return this.apiService.post("/crm/leads",e)}async updateLead(e,t){return this.apiService.put(`/crm/leads/${e}`,t)}async deleteLead(e){return this.apiService.delete(`/crm/leads/${e}`)}async convertLeadToContact(e,t){return this.apiService.post(`/crm/leads/${e}/convert`,t)}async getContacts(e,t=1,s=10){let a=new URLSearchParams;return e?.type&&a.append("type",e.type),e?.companyId&&a.append("company_id",e.companyId),e?.search&&a.append("search",e.search),a.append("page",t.toString()),a.append("limit",s.toString()),this.apiService.get(`/crm/contacts?${a.toString()}`)}async getContact(e){return this.apiService.get(`/crm/contacts/${e}`)}async createContact(e){return this.apiService.post("/crm/contacts",e)}async updateContact(e,t){return this.apiService.put(`/crm/contacts/${e}`,t)}async deleteContact(e){return this.apiService.delete(`/crm/contacts/${e}`)}async getCompanies(e,t=1,s=10){let a=new URLSearchParams;return e?.industry&&a.append("industry",e.industry),e?.size&&a.append("size",e.size),e?.search&&a.append("search",e.search),a.append("page",t.toString()),a.append("limit",s.toString()),this.apiService.get(`/crm/companies?${a.toString()}`)}async getCompany(e){return this.apiService.get(`/crm/companies/${e}`)}async createCompany(e){return this.apiService.post("/crm/companies",e)}async updateCompany(e,t){return this.apiService.put(`/crm/companies/${e}`,t)}async deleteCompany(e){return this.apiService.delete(`/crm/companies/${e}`)}async getOpportunities(e,t=1,s=10){let a=new URLSearchParams;return e?.stage&&a.append("stage",e.stage),e?.assignedTo&&a.append("assigned_to",e.assignedTo),e?.search&&a.append("search",e.search),a.append("page",t.toString()),a.append("limit",s.toString()),this.apiService.get(`/crm/opportunities?${a.toString()}`)}async getOpportunity(e){return this.apiService.get(`/crm/opportunities/${e}`)}async createOpportunity(e){return this.apiService.post("/crm/opportunities",e)}async updateOpportunity(e,t){return this.apiService.put(`/crm/opportunities/${e}`,t)}async deleteOpportunity(e){return this.apiService.delete(`/crm/opportunities/${e}`)}async getActivities(e,t=1,s=10){let a=new URLSearchParams;return e?.type&&a.append("type",e.type),e?.completed!==void 0&&a.append("completed",e.completed.toString()),e?.search&&a.append("search",e.search),a.append("page",t.toString()),a.append("limit",s.toString()),this.apiService.get(`/crm/activities?${a.toString()}`)}async getActivity(e){return this.apiService.get(`/crm/activities/${e}`)}async createActivity(e){return this.apiService.post("/crm/activities",e)}async updateActivity(e,t){return this.apiService.put(`/crm/activities/${e}`,t)}async deleteActivity(e){return this.apiService.delete(`/crm/activities/${e}`)}async getDashboard(){return this.apiService.get("/crm/dashboard")}getLeadStatusColor(e){return({new:"bg-blue-100 text-blue-800",contacted:"bg-yellow-100 text-yellow-800",qualified:"bg-green-100 text-green-800",proposal_sent:"bg-purple-100 text-purple-800",negotiation:"bg-orange-100 text-orange-800",won:"bg-green-100 text-green-800",lost:"bg-red-100 text-red-800"})[e]||"bg-gray-100 text-gray-800"}getOpportunityStageColor(e){return({prospecting:"bg-blue-100 text-blue-800",qualification:"bg-yellow-100 text-yellow-800",proposal:"bg-purple-100 text-purple-800",negotiation:"bg-orange-100 text-orange-800",closed_won:"bg-green-100 text-green-800",closed_lost:"bg-red-100 text-red-800"})[e]||"bg-gray-100 text-gray-800"}getActivityTypeColor(e){return({call:"bg-blue-100 text-blue-800",email:"bg-green-100 text-green-800",meeting:"bg-purple-100 text-purple-800",task:"bg-yellow-100 text-yellow-800",note:"bg-gray-100 text-gray-800",proposal:"bg-indigo-100 text-indigo-800",contract:"bg-pink-100 text-pink-800"})[e]||"bg-gray-100 text-gray-800"}formatCurrency(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}formatDate(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}formatDateTime(e){return new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}}let i=new n},86330:(e,t,s)=>{"use strict";s.r(t),s.d(t,{default:()=>a});let a=(0,s(68570).createProxy)(String.raw`D:\TestApi\frontend\src\app\crm\contacts\page.tsx#default`)}};var t=require("../../../webpack-runtime.js");t.C(e);var s=e=>t(t.s=e),a=t.X(0,[690,434,1571,649,39,692,9314,2760,9157],()=>s(52765));module.exports=a})();