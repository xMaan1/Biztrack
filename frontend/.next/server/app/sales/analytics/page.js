(()=>{var e={};e.id=357,e.ids=[357],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},52590:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>n.a,__next_app__:()=>p,originalPathname:()=>m,pages:()=>o,routeModule:()=>x,tree:()=>d}),t(26020),t(70733),t(35866);var a=t(23191),r=t(88716),i=t(37922),n=t.n(i),l=t(95231),c={};for(let e in l)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(c[e]=()=>l[e]);t.d(s,c);let d=["",{children:["sales",{children:["analytics",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,26020)),"D:\\TestApi\\frontend\\src\\app\\sales\\analytics\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,70733)),"D:\\TestApi\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],o=["D:\\TestApi\\frontend\\src\\app\\sales\\analytics\\page.tsx"],m="/sales/analytics/page",p={require:t,loadChunk:()=>Promise.resolve()},x=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/sales/analytics/page",pathname:"/sales/analytics",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},90168:(e,s,t)=>{Promise.resolve().then(t.bind(t,99332))},99332:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>v});var a=t(10326),r=t(17577),i=t(29752),n=t(91664),l=t(29280),c=t(44794),d=t(38443);t(53946);var o=t(13556),m=t(29272),p=t(71821),x=t(53468),u=t(17069),h=t(76464),g=t(15096);let j=(0,t(76557).Z)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);var f=t(24061),y=t(38787),N=t(83855);function v(){let[e,s]=(0,r.useState)([]),[t,v]=(0,r.useState)([]),[b,w]=(0,r.useState)([]),[S,C]=(0,r.useState)(!0),[A,L]=(0,r.useState)("30"),[O,T]=(0,r.useState)("all"),{opportunities:_,contacts:E,companies:R}=(()=>{let s=new Date(new Date().getTime()-864e5*parseInt(A));return{opportunities:e.filter(e=>!e.createdAt||new Date(e.createdAt)>=s),contacts:t.filter(e=>!e.createdAt||new Date(e.createdAt)>=s),companies:b.filter(e=>!e.createdAt||new Date(e.createdAt)>=s)}})(),P=Object.values(o.tc).map(e=>{let s=_.filter(s=>s.stage===e);return{stage:e,totalValue:s.reduce((e,s)=>e+(s.amount||0),0),count:s.length}}),$=_.reduce((e,s)=>e+(s.amount||0),0),D=_.reduce((e,s)=>e+(s.amount||0)*(s.probability||0)/100,0),Z=_.length,I=_.filter(e=>e.stage===o.tc.CLOSED_WON).length,M=_.filter(e=>e.stage===o.tc.CLOSED_LOST).length,q=Z>0?I/Z*100:0,U=Z>0?M/Z*100:0,k=_.filter(e=>e.stage===o.tc.CLOSED_WON).reduce((e,s)=>e+(s.amount||0),0),F=I>0?k/I:0,G=E.length,Y=E.filter(e=>e.type===o.uC.LEAD).length,z=E.filter(e=>e.type===o.uC.CUSTOMER).length,Q=Y>0?z/Y*100:0,W=R.length,H=R.filter(e=>e.industry===o.b5.TECHNOLOGY).length,B=R.filter(e=>e.industry===o.b5.FINANCE).length,V=_.filter(e=>e.amount&&e.amount>0).sort((e,s)=>(s.amount||0)-(e.amount||0)).slice(0,5);return S?a.jsx(m.cl,{children:a.jsx("div",{className:"container mx-auto p-6",children:a.jsx("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[a.jsx("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"}),a.jsx("p",{className:"mt-4 text-lg",children:"Loading Analytics..."})]})})})}):a.jsx(m.cl,{children:(0,a.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Sales Analytics"}),a.jsx("p",{className:"text-gray-600",children:"Comprehensive sales performance insights"})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx(c._,{htmlFor:"timeRange",children:"Time Range"}),(0,a.jsxs)(l.Ph,{value:A,onValueChange:L,children:[a.jsx(l.i4,{className:"w-32",children:a.jsx(l.ki,{})}),(0,a.jsxs)(l.Bw,{children:[a.jsx(l.Ql,{value:"7",children:"Last 7 days"}),a.jsx(l.Ql,{value:"30",children:"Last 30 days"}),a.jsx(l.Ql,{value:"90",children:"Last 90 days"}),a.jsx(l.Ql,{value:"365",children:"Last year"})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx(c._,{htmlFor:"stage",children:"Stage Filter"}),(0,a.jsxs)(l.Ph,{value:O,onValueChange:T,children:[a.jsx(l.i4,{className:"w-40",children:a.jsx(l.ki,{placeholder:"All stages"})}),(0,a.jsxs)(l.Bw,{children:[a.jsx(l.Ql,{value:"all",children:"All stages"}),Object.values(o.tc).map(e=>a.jsx(l.Ql,{value:e,children:e.replace("_"," ")},e))]})]})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(i.ll,{className:"text-sm font-medium",children:"Total Pipeline"}),a.jsx(p.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(i.aY,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:["$",$.toLocaleString()]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[_.length," opportunities"]})]})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(i.ll,{className:"text-sm font-medium",children:"Weighted Pipeline"}),a.jsx(x.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(i.aY,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:["$",D.toLocaleString()]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Probability-adjusted"})]})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(i.ll,{className:"text-sm font-medium",children:"Win Rate"}),a.jsx(u.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(i.aY,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[q.toFixed(1),"%"]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[I," won / ",Z," total"]})]})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[a.jsx(i.ll,{className:"text-sm font-medium",children:"Total Revenue"}),a.jsx(p.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(i.aY,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:["$",k.toLocaleString()]}),a.jsx("p",{className:"text-xs text-muted-foreground",children:"Closed won deals"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(i.Zb,{children:[a.jsx(i.Ol,{children:(0,a.jsxs)(i.ll,{className:"flex items-center gap-2",children:[a.jsx(h.Z,{className:"h-5 w-5"}),"Pipeline by Stage"]})}),a.jsx(i.aY,{children:a.jsx("div",{className:"space-y-4",children:P.map(({stage:e,totalValue:s,count:t})=>(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(d.C,{variant:"outline",children:e.replace("_"," ")}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:["(",t,")"]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"font-semibold",children:["$",s.toLocaleString()]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[$>0?(s/$*100).toFixed(1):0,"%"]})]})]},e))})})]}),(0,a.jsxs)(i.Zb,{children:[a.jsx(i.Ol,{children:(0,a.jsxs)(i.ll,{className:"flex items-center gap-2",children:[a.jsx(g.Z,{className:"h-5 w-5"}),"Conversion Metrics"]})}),a.jsx(i.aY,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"Win Rate"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-green-600 h-2 rounded-full",style:{width:`${q}%`}})}),(0,a.jsxs)("span",{className:"text-sm font-semibold",children:[q.toFixed(1),"%"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"Loss Rate"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-red-600 h-2 rounded-full",style:{width:`${U}%`}})}),(0,a.jsxs)("span",{className:"text-sm font-semibold",children:[U.toFixed(1),"%"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[a.jsx("span",{className:"text-sm font-medium",children:"Lead to Customer"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:a.jsx("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:`${Q}%`}})}),(0,a.jsxs)("span",{className:"text-sm font-semibold",children:[Q.toFixed(1),"%"]})]})]})]})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)(i.Zb,{children:[a.jsx(i.Ol,{children:(0,a.jsxs)(i.ll,{className:"flex items-center gap-2",children:[a.jsx(j,{className:"h-5 w-5"}),"Sales Performance"]})}),(0,a.jsxs)(i.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Avg Deal Size"}),(0,a.jsxs)("span",{className:"font-semibold",children:["$",F.toLocaleString()]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Avg Sales Cycle"}),(0,a.jsxs)("span",{className:"font-semibold",children:[30," days"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Deals"}),a.jsx("span",{className:"font-semibold",children:Z})]})]})]}),(0,a.jsxs)(i.Zb,{children:[a.jsx(i.Ol,{children:(0,a.jsxs)(i.ll,{className:"flex items-center gap-2",children:[a.jsx(f.Z,{className:"h-5 w-5"}),"Contact Metrics"]})}),(0,a.jsxs)(i.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Contacts"}),a.jsx("span",{className:"font-semibold",children:G})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Leads"}),a.jsx("span",{className:"font-semibold",children:Y})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Customers"}),a.jsx("span",{className:"font-semibold",children:z})]})]})]}),(0,a.jsxs)(i.Zb,{children:[a.jsx(i.Ol,{children:(0,a.jsxs)(i.ll,{className:"flex items-center gap-2",children:[a.jsx(y.Z,{className:"h-5 w-5"}),"Company Metrics"]})}),(0,a.jsxs)(i.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Total Companies"}),a.jsx("span",{className:"font-semibold",children:W})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Customers"}),a.jsx("span",{className:"font-semibold",children:H})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{className:"text-sm text-gray-600",children:"Prospects"}),a.jsx("span",{className:"font-semibold",children:B})]})]})]})]}),(0,a.jsxs)(i.Zb,{children:[a.jsx(i.Ol,{children:(0,a.jsxs)(i.ll,{className:"flex items-center gap-2",children:[a.jsx(u.Z,{className:"h-5 w-5"}),"Top Opportunities"]})}),a.jsx(i.aY,{children:0===V.length?a.jsx("div",{className:"text-center py-8 text-gray-500",children:"No opportunities with amounts found."}):a.jsx("div",{className:"space-y-3",children:V.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"w-8 h-8 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-sm font-semibold",children:["#",s+1]}),(0,a.jsxs)("div",{children:[a.jsx("div",{className:"font-medium",children:e.title}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[e.stage.replace("_"," ")," • ",e.probability||0,"% probability"]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"font-semibold text-lg",children:["$",e.amount?.toLocaleString()]}),a.jsx("div",{className:"text-sm text-gray-500",children:e.closedDate?new Date(e.closedDate).toLocaleDateString():"No close date"})]})]},e.id))})})]}),(0,a.jsxs)(i.Zb,{children:[a.jsx(i.Ol,{children:a.jsx(i.ll,{children:"Quick Actions"})}),a.jsx(i.aY,{children:(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)(n.z,{variant:"outline",onClick:()=>window.location.href="/crm/opportunities",children:[a.jsx(N.Z,{className:"w-4 h-4 mr-2"}),"New Opportunity"]}),(0,a.jsxs)(n.z,{variant:"outline",onClick:()=>window.location.href="/crm/contacts",children:[a.jsx(f.Z,{className:"w-4 h-4 mr-2"}),"Add Contact"]}),(0,a.jsxs)(n.z,{variant:"outline",onClick:()=>window.location.href="/crm/companies",children:[a.jsx(y.Z,{className:"w-4 h-4 mr-2"}),"Add Company"]}),(0,a.jsxs)(n.z,{variant:"outline",onClick:()=>window.location.href="/crm/leads",children:[a.jsx(x.Z,{className:"w-4 h-4 mr-2"}),"Manage Leads"]})]})})]})]})})}},29272:(e,s,t)=>{"use strict";t.d(s,{cl:()=>a.default});var a=t(62760);t(63102),t(17676)},29280:(e,s,t)=>{"use strict";t.d(s,{Bw:()=>h,Ph:()=>o,Ql:()=>g,i4:()=>p,ki:()=>m});var a=t(10326),r=t(17577),i=t(38785),n=t(941),l=t(96633),c=t(32933),d=t(51223);let o=i.fC;i.ZA;let m=i.B4,p=r.forwardRef(({className:e,children:s,...t},r)=>(0,a.jsxs)(i.xz,{ref:r,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...t,children:[s,a.jsx(i.JO,{asChild:!0,children:a.jsx(n.Z,{className:"h-4 w-4 opacity-50"})})]}));p.displayName=i.xz.displayName;let x=r.forwardRef(({className:e,...s},t)=>a.jsx(i.u_,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:a.jsx(l.Z,{className:"h-4 w-4"})}));x.displayName=i.u_.displayName;let u=r.forwardRef(({className:e,...s},t)=>a.jsx(i.$G,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:a.jsx(n.Z,{className:"h-4 w-4"})}));u.displayName=i.$G.displayName;let h=r.forwardRef(({className:e,children:s,position:t="popper",...r},n)=>a.jsx(i.h_,{children:(0,a.jsxs)(i.VY,{ref:n,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===t&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:t,...r,children:[a.jsx(x,{}),a.jsx(i.l_,{className:(0,d.cn)("p-1","popper"===t&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),a.jsx(u,{})]})}));h.displayName=i.VY.displayName,r.forwardRef(({className:e,...s},t)=>a.jsx(i.__,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...s})).displayName=i.__.displayName;let g=r.forwardRef(({className:e,children:s,...t},r)=>(0,a.jsxs)(i.ck,{ref:r,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(i.wU,{children:a.jsx(c.Z,{className:"h-4 w-4"})})}),a.jsx(i.eT,{children:s})]}));g.displayName=i.ck.displayName,r.forwardRef(({className:e,...s},t)=>a.jsx(i.Z0,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",e),...s})).displayName=i.Z0.displayName},13556:(e,s,t)=>{"use strict";var a,r,i,n,l,c,d;t.d(s,{b5:()=>d,rl:()=>a,tc:()=>i,uC:()=>n,x7:()=>c,yF:()=>r}),function(e){e.NEW="new",e.CONTACTED="contacted",e.QUALIFIED="qualified",e.PROPOSAL_SENT="proposal_sent",e.NEGOTIATION="negotiation",e.WON="won",e.LOST="lost"}(a||(a={})),function(e){e.WEBSITE="website",e.REFERRAL="referral",e.SOCIAL_MEDIA="social_media",e.EMAIL_CAMPAIGN="email_campaign",e.COLD_CALL="cold_call",e.TRADE_SHOW="trade_show",e.PARTNER="partner",e.OTHER="other"}(r||(r={})),function(e){e.PROSPECTING="prospecting",e.QUALIFICATION="qualification",e.PROPOSAL="proposal",e.NEGOTIATION="negotiation",e.CLOSED_WON="closed_won",e.CLOSED_LOST="closed_lost"}(i||(i={})),function(e){e.LEAD="lead",e.CUSTOMER="customer",e.PARTNER="partner",e.VENDOR="vendor",e.OTHER="other"}(n||(n={})),function(e){e.CALL="call",e.EMAIL="email",e.MEETING="meeting",e.TASK="task",e.NOTE="note",e.PROPOSAL="proposal",e.CONTRACT="contract"}(l||(l={})),function(e){e.STARTUP="startup",e.SMALL="small",e.MEDIUM="medium",e.LARGE="large",e.ENTERPRISE="enterprise"}(c||(c={})),function(e){e.TECHNOLOGY="technology",e.HEALTHCARE="healthcare",e.FINANCE="finance",e.MANUFACTURING="manufacturing",e.RETAIL="retail",e.EDUCATION="education",e.REAL_ESTATE="real_estate",e.CONSULTING="consulting",e.OTHER="other"}(d||(d={}))},53946:(e,s,t)=>{"use strict";t.d(s,{ZP:()=>n,vZ:()=>r});var a=t(41485);class r{static async getCustomers(e=0,s=100,t,r,i){let n=new URLSearchParams({skip:e.toString(),limit:s.toString()});return t&&n.append("search",t),r&&n.append("status",r),i&&n.append("customer_type",i),await a.sM.get(`/crm/customers?${n.toString()}`)}static async getCustomerById(e){return await a.sM.get(`/crm/customers/${e}`)}static async createCustomer(e){return await a.sM.post("/crm/customers",e)}static async updateCustomer(e,s){return await a.sM.put(`/crm/customers/${e}`,s)}static async deleteCustomer(e){return await a.sM.delete(`/crm/customers/${e}`)}static async getCustomerStats(){return await a.sM.get("/crm/customers/stats")}static async searchCustomers(e,s=20){return await a.sM.get(`/crm/customers/search?q=${encodeURIComponent(e)}&limit=${s}`)}}class i{constructor(){this.apiService=new a.sM}async getLeads(e,s=1,t=10){let a=new URLSearchParams;return e?.status&&a.append("status",e.status),e?.source&&a.append("source",e.source),e?.assignedTo&&a.append("assigned_to",e.assignedTo),e?.search&&a.append("search",e.search),a.append("page",s.toString()),a.append("limit",t.toString()),this.apiService.get(`/crm/leads?${a.toString()}`)}async getLead(e){return this.apiService.get(`/crm/leads/${e}`)}async createLead(e){return this.apiService.post("/crm/leads",e)}async updateLead(e,s){return this.apiService.put(`/crm/leads/${e}`,s)}async deleteLead(e){return this.apiService.delete(`/crm/leads/${e}`)}async convertLeadToContact(e,s){return this.apiService.post(`/crm/leads/${e}/convert`,s)}async getContacts(e,s=1,t=10){let a=new URLSearchParams;return e?.type&&a.append("type",e.type),e?.companyId&&a.append("company_id",e.companyId),e?.search&&a.append("search",e.search),a.append("page",s.toString()),a.append("limit",t.toString()),this.apiService.get(`/crm/contacts?${a.toString()}`)}async getContact(e){return this.apiService.get(`/crm/contacts/${e}`)}async createContact(e){return this.apiService.post("/crm/contacts",e)}async updateContact(e,s){return this.apiService.put(`/crm/contacts/${e}`,s)}async deleteContact(e){return this.apiService.delete(`/crm/contacts/${e}`)}async getCompanies(e,s=1,t=10){let a=new URLSearchParams;return e?.industry&&a.append("industry",e.industry),e?.size&&a.append("size",e.size),e?.search&&a.append("search",e.search),a.append("page",s.toString()),a.append("limit",t.toString()),this.apiService.get(`/crm/companies?${a.toString()}`)}async getCompany(e){return this.apiService.get(`/crm/companies/${e}`)}async createCompany(e){return this.apiService.post("/crm/companies",e)}async updateCompany(e,s){return this.apiService.put(`/crm/companies/${e}`,s)}async deleteCompany(e){return this.apiService.delete(`/crm/companies/${e}`)}async getOpportunities(e,s=1,t=10){let a=new URLSearchParams;return e?.stage&&a.append("stage",e.stage),e?.assignedTo&&a.append("assigned_to",e.assignedTo),e?.search&&a.append("search",e.search),a.append("page",s.toString()),a.append("limit",t.toString()),this.apiService.get(`/crm/opportunities?${a.toString()}`)}async getOpportunity(e){return this.apiService.get(`/crm/opportunities/${e}`)}async createOpportunity(e){return this.apiService.post("/crm/opportunities",e)}async updateOpportunity(e,s){return this.apiService.put(`/crm/opportunities/${e}`,s)}async deleteOpportunity(e){return this.apiService.delete(`/crm/opportunities/${e}`)}async getActivities(e,s=1,t=10){let a=new URLSearchParams;return e?.type&&a.append("type",e.type),e?.completed!==void 0&&a.append("completed",e.completed.toString()),e?.search&&a.append("search",e.search),a.append("page",s.toString()),a.append("limit",t.toString()),this.apiService.get(`/crm/activities?${a.toString()}`)}async getActivity(e){return this.apiService.get(`/crm/activities/${e}`)}async createActivity(e){return this.apiService.post("/crm/activities",e)}async updateActivity(e,s){return this.apiService.put(`/crm/activities/${e}`,s)}async deleteActivity(e){return this.apiService.delete(`/crm/activities/${e}`)}async getDashboard(){return this.apiService.get("/crm/dashboard")}getLeadStatusColor(e){return({new:"bg-blue-100 text-blue-800",contacted:"bg-yellow-100 text-yellow-800",qualified:"bg-green-100 text-green-800",proposal_sent:"bg-purple-100 text-purple-800",negotiation:"bg-orange-100 text-orange-800",won:"bg-green-100 text-green-800",lost:"bg-red-100 text-red-800"})[e]||"bg-gray-100 text-gray-800"}getOpportunityStageColor(e){return({prospecting:"bg-blue-100 text-blue-800",qualification:"bg-yellow-100 text-yellow-800",proposal:"bg-purple-100 text-purple-800",negotiation:"bg-orange-100 text-orange-800",closed_won:"bg-green-100 text-green-800",closed_lost:"bg-red-100 text-red-800"})[e]||"bg-gray-100 text-gray-800"}getActivityTypeColor(e){return({call:"bg-blue-100 text-blue-800",email:"bg-green-100 text-green-800",meeting:"bg-purple-100 text-purple-800",task:"bg-yellow-100 text-yellow-800",note:"bg-gray-100 text-gray-800",proposal:"bg-indigo-100 text-indigo-800",contract:"bg-pink-100 text-pink-800"})[e]||"bg-gray-100 text-gray-800"}formatCurrency(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}formatDate(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}formatDateTime(e){return new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}}let n=new i},26020:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`D:\TestApi\frontend\src\app\sales\analytics\page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[690,434,1571,649,39,692,9314,2760],()=>t(52590));module.exports=a})();