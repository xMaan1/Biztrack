(()=>{var e={};e.id=6823,e.ids=[6823],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},75746:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>l.a,__next_app__:()=>x,originalPathname:()=>m,pages:()=>o,routeModule:()=>u,tree:()=>c}),t(63535),t(70733),t(35866);var a=t(23191),r=t(88716),i=t(37922),l=t.n(i),n=t(95231),d={};for(let e in n)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(d[e]=()=>n[e]);t.d(s,d);let c=["",{children:["sales",{children:["invoices",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,63535)),"D:\\TestApi\\frontend\\src\\app\\sales\\invoices\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,70733)),"D:\\TestApi\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],o=["D:\\TestApi\\frontend\\src\\app\\sales\\invoices\\page.tsx"],m="/sales/invoices/page",x={require:t,loadChunk:()=>Promise.resolve()},u=new a.AppPageRouteModule({definition:{kind:r.x.APP_PAGE,page:"/sales/invoices/page",pathname:"/sales/invoices",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:c}})},23291:(e,s,t)=>{Promise.resolve().then(t.bind(t,34535))},72257:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]])},54659:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},31540:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]])},12714:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},41137:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},5932:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},231:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("MoreVertical",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"12",cy:"5",r:"1",key:"gxeob9"}],["circle",{cx:"12",cy:"19",r:"1",key:"lyex9k"}]])},70003:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},98091:(e,s,t)=>{"use strict";t.d(s,{Z:()=>a});let a=(0,t(76557).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},34535:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>Q});var a=t(10326),r=t(17577),i=t(29752),l=t(91664),n=t(41190),d=t(44794),c=t(29280),o=t(50384),m=t(24118),x=t(83855),u=t(41137),h=t(37202),p=t(54659),j=t(70003),g=t(29272),v=t(41485);class f{async createInvoice(e){return(await v.Ew.post(`${this.baseUrl}/`,e)).invoice}async getInvoices(e={},s=1,t=10){let a=new URLSearchParams;return a.append("page",s.toString()),a.append("limit",t.toString()),Object.entries(e).forEach(([e,s])=>{null!=s&&a.append(e,s.toString())}),await v.Ew.get(`${this.baseUrl}/?${a}`)}async getInvoice(e){return(await v.Ew.get(`${this.baseUrl}/${e}`)).invoice}async updateInvoice(e,s){return(await v.Ew.put(`${this.baseUrl}/${e}`,s)).invoice}async deleteInvoice(e){await v.Ew.delete(`${this.baseUrl}/${e}`)}async sendInvoice(e){await v.Ew.post(`${this.baseUrl}/${e}/send`)}async markInvoiceAsPaid(e){await v.Ew.post(`${this.baseUrl}/${e}/mark-as-paid`)}async getDashboard(){return await v.Ew.get(`${this.baseUrl}/dashboard/overview`)}async createPayment(e,s){return(await v.Ew.post(`${this.baseUrl}/${e}/payments`,s)).payment}async getInvoicePayments(e,s=1,t=10){let a=new URLSearchParams({page:s.toString(),limit:t.toString()});return await v.Ew.get(`${this.baseUrl}/${e}/payments?${a}`)}async getAllPayments(e={},s=1,t=10){let a=new URLSearchParams;return a.append("page",s.toString()),a.append("limit",t.toString()),Object.entries(e).forEach(([e,s])=>{null!=s&&a.append(e,s.toString())}),await v.Ew.get(`${this.baseUrl}/payments/?${a}`)}calculateInvoiceTotals(e,s,t){let a=e.reduce((e,s)=>e+s.quantity*s.unitPrice,0),r=t/100*a,i=a-r,l=s/100*i;return{subtotal:Math.round(100*a)/100,discount:Math.round(100*r)/100,taxAmount:Math.round(100*l)/100,total:Math.round(100*(i+l))/100}}getStatusColor(e){return({draft:"bg-gray-100 text-gray-800",sent:"bg-blue-100 text-blue-800",viewed:"bg-yellow-100 text-yellow-800",paid:"bg-green-100 text-green-800",partially_paid:"bg-orange-100 text-orange-800",overdue:"bg-red-100 text-red-800",cancelled:"bg-red-100 text-red-800",void:"bg-gray-100 text-gray-800"})[e]||"bg-gray-100 text-gray-800"}getStatusLabel(e){return({draft:"Draft",sent:"Sent",viewed:"Viewed",paid:"Paid",partially_paid:"Partially Paid",overdue:"Overdue",cancelled:"Cancelled",void:"Void"})[e]||e}getPaymentMethodLabel(e){return({credit_card:"Credit Card",bank_transfer:"Bank Transfer",cash:"Cash",check:"Check",paypal:"PayPal",stripe:"Stripe",other:"Other"})[e]||e}formatCurrency(e,s="USD"){return new Intl.NumberFormat("en-US",{style:"currency",currency:s}).format(e)}formatDate(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}isOverdue(e){return new Date(e)<new Date}getDaysOverdue(e){let s=new Date(e);return Math.max(0,Math.ceil((new Date().getTime()-s.getTime())/864e5))}constructor(){this.baseUrl="/invoices"}}let y=new f;var N=t(82015),b=t(36283),w=t(79635),C=t(38787),D=t(72257),k=t(98091);function _({open:e,onOpenChange:s,onSubmit:t,mode:o,invoice:u}){let[h,p]=(0,r.useState)({customerId:"",customerName:"",customerEmail:"",customerPhone:"",billingAddress:"",shippingAddress:"",issueDate:new Date().toISOString().split("T")[0],dueDate:new Date(Date.now()+2592e6).toISOString().split("T")[0],orderNumber:"",orderTime:new Date().toISOString().slice(0,16),paymentTerms:"Net 30",currency:"USD",taxRate:0,discount:0,notes:"",terms:"",items:[],opportunityId:"",quoteId:"",projectId:""}),[j,g]=(0,r.useState)([]),[v,f]=(0,r.useState)(!1),[_,Z]=(0,r.useState)({}),I=(e,s)=>{p(t=>({...t,[e]:s})),_[e]&&Z(s=>({...s,[e]:""}))},S=(e,s,t)=>{let a=[...j];a[e]={...a[e],[s]:t},g(a)},P=e=>{g(s=>s.filter((s,t)=>t!==e))},A=()=>{let e=j.reduce((e,s)=>e+s.quantity*s.unitPrice,0),s=h.discount/100*e,t=e-s,a=h.taxRate/100*t;return{subtotal:Math.round(100*e)/100,discount:Math.round(100*s)/100,taxAmount:Math.round(100*a)/100,total:Math.round(100*(t+a))/100}},R=()=>{let e={};return h.customerName.trim()||(e.customerName="Customer name is required"),h.customerEmail.trim()||(e.customerEmail="Customer email is required"),h.billingAddress.trim()||(e.billingAddress="Billing address is required"),h.issueDate||(e.issueDate="Issue date is required"),h.dueDate||(e.dueDate="Due date is required"),0===j.length&&(e.items="At least one item is required"),j.forEach((s,t)=>{s.description.trim()||(e[`item_${t}_description`]="Item description is required"),s.quantity<=0&&(e[`item_${t}_quantity`]="Quantity must be greater than 0"),s.unitPrice<0&&(e[`item_${t}_unitPrice`]="Unit price cannot be negative")}),Z(e),0===Object.keys(e).length},E=async e=>{if(e.preventDefault(),R()){f(!0);try{A();let e={...h,items:j};await t(e),s(!1)}catch(e){console.error("Error submitting invoice:",e)}finally{f(!1)}}},$=A();return a.jsx(m.Vq,{open:e,onOpenChange:s,children:(0,a.jsxs)(m.cZ,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[a.jsx(m.fK,{children:(0,a.jsxs)(m.$N,{className:"flex items-center gap-2",children:[a.jsx(b.Z,{className:"h-5 w-5"}),"create"===o?"Create New Invoice":"Edit Invoice"]})}),(0,a.jsxs)("form",{onSubmit:E,className:"space-y-6",children:[(0,a.jsxs)(i.Zb,{children:[a.jsx(i.Ol,{children:(0,a.jsxs)(i.ll,{className:"flex items-center gap-2",children:[a.jsx(w.Z,{className:"h-4 w-4"}),"Customer Information"]})}),(0,a.jsxs)(i.aY,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"customerName",children:"Customer Name *"}),a.jsx(n.I,{id:"customerName",value:h.customerName,onChange:e=>I("customerName",e.target.value),placeholder:"Enter customer name",className:_.customerName?"border-red-500":""}),_.customerName&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:_.customerName})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"customerEmail",children:"Customer Email *"}),a.jsx(n.I,{id:"customerEmail",type:"email",value:h.customerEmail,onChange:e=>I("customerEmail",e.target.value),placeholder:"Enter customer email",className:_.customerEmail?"border-red-500":""}),_.customerEmail&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:_.customerEmail})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"customerPhone",children:"Customer Phone (Optional)"}),a.jsx(n.I,{id:"customerPhone",type:"tel",value:h.customerPhone,onChange:e=>I("customerPhone",e.target.value),placeholder:"Enter customer phone number"})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[a.jsx(d._,{htmlFor:"billingAddress",children:"Billing Address *"}),a.jsx(N.g,{id:"billingAddress",value:h.billingAddress,onChange:e=>I("billingAddress",e.target.value),placeholder:"Enter billing address",className:_.billingAddress?"border-red-500":""}),_.billingAddress&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:_.billingAddress})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[a.jsx(d._,{htmlFor:"shippingAddress",children:"Shipping Address (Optional)"}),a.jsx(N.g,{id:"shippingAddress",value:h.shippingAddress,onChange:e=>I("shippingAddress",e.target.value),placeholder:"Enter shipping address (leave blank if same as billing)"})]})]})]}),(0,a.jsxs)(i.Zb,{children:[a.jsx(i.Ol,{children:(0,a.jsxs)(i.ll,{className:"flex items-center gap-2",children:[a.jsx(C.Z,{className:"h-4 w-4"}),"Invoice Details"]})}),(0,a.jsxs)(i.aY,{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"issueDate",children:"Issue Date *"}),a.jsx(n.I,{id:"issueDate",type:"date",value:h.issueDate,onChange:e=>I("issueDate",e.target.value),className:_.issueDate?"border-red-500":""}),_.issueDate&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:_.issueDate})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"dueDate",children:"Due Date *"}),a.jsx(n.I,{id:"dueDate",type:"date",value:h.dueDate,onChange:e=>I("dueDate",e.target.value),className:_.dueDate?"border-red-500":""}),_.dueDate&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:_.dueDate})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"orderNumber",children:"Order Number (Optional)"}),a.jsx(n.I,{id:"orderNumber",value:h.orderNumber,onChange:e=>I("orderNumber",e.target.value),placeholder:"Enter order number"})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"orderTime",children:"Order Time (Optional)"}),a.jsx(n.I,{id:"orderTime",type:"datetime-local",value:h.orderTime,onChange:e=>I("orderTime",e.target.value),placeholder:"Select order time"})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"paymentTerms",children:"Payment Terms"}),(0,a.jsxs)(c.Ph,{value:h.paymentTerms,onValueChange:e=>I("paymentTerms",e),children:[a.jsx(c.i4,{children:a.jsx(c.ki,{})}),(0,a.jsxs)(c.Bw,{children:[a.jsx(c.Ql,{value:"Net 15",children:"Net 15"}),a.jsx(c.Ql,{value:"Net 30",children:"Net 30"}),a.jsx(c.Ql,{value:"Net 45",children:"Net 45"}),a.jsx(c.Ql,{value:"Net 60",children:"Net 60"}),a.jsx(c.Ql,{value:"Due on Receipt",children:"Due on Receipt"})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"currency",children:"Currency"}),(0,a.jsxs)(c.Ph,{value:h.currency,onValueChange:e=>I("currency",e),children:[a.jsx(c.i4,{children:a.jsx(c.ki,{})}),(0,a.jsxs)(c.Bw,{children:[a.jsx(c.Ql,{value:"USD",children:"USD ($)"}),a.jsx(c.Ql,{value:"EUR",children:"EUR (€)"}),a.jsx(c.Ql,{value:"GBP",children:"GBP (\xa3)"}),a.jsx(c.Ql,{value:"CAD",children:"CAD (C$)"})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"taxRate",children:"Tax Rate (%)"}),a.jsx(n.I,{id:"taxRate",type:"number",step:"0.01",min:"0",max:"100",value:h.taxRate,onChange:e=>I("taxRate",parseFloat(e.target.value)||0),placeholder:"0.00"})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"discount",children:"Discount (%)"}),a.jsx(n.I,{id:"discount",type:"number",step:"0.01",min:"0",max:"100",value:h.discount,onChange:e=>I("discount",parseFloat(e.target.value)||0),placeholder:"0.00"})]})]})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[(0,a.jsxs)(i.ll,{className:"flex items-center gap-2",children:[a.jsx(D.Z,{className:"h-4 w-4"}),"Invoice Items"]}),_.items&&a.jsx("p",{className:"text-red-500 text-sm",children:_.items})]}),(0,a.jsxs)(i.aY,{className:"space-y-4",children:[j.map((e,s)=>(0,a.jsxs)("div",{className:"grid grid-cols-12 gap-2 items-end border p-3 rounded-lg",children:[(0,a.jsxs)("div",{className:"col-span-4",children:[a.jsx(d._,{htmlFor:`item_${s}_description`,children:"Description *"}),a.jsx(n.I,{id:`item_${s}_description`,value:e.description,onChange:e=>S(s,"description",e.target.value),placeholder:"Item description",className:_[`item_${s}_description`]?"border-red-500":""}),_[`item_${s}_description`]&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:_[`item_${s}_description`]})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[a.jsx(d._,{htmlFor:`item_${s}_quantity`,children:"Qty *"}),a.jsx(n.I,{id:`item_${s}_quantity`,type:"number",min:"0.01",step:"0.01",value:e.quantity,onChange:e=>S(s,"quantity",parseFloat(e.target.value)||0),className:_[`item_${s}_quantity`]?"border-red-500":""}),_[`item_${s}_quantity`]&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:_[`item_${s}_quantity`]})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[a.jsx(d._,{htmlFor:`item_${s}_unitPrice`,children:"Unit Price *"}),a.jsx(n.I,{id:`item_${s}_unitPrice`,type:"number",min:"0",step:"0.01",value:e.unitPrice,onChange:e=>S(s,"unitPrice",parseFloat(e.target.value)||0),placeholder:"0.00",className:_[`item_${s}_unitPrice`]?"border-red-500":""}),_[`item_${s}_unitPrice`]&&a.jsx("p",{className:"text-red-500 text-sm mt-1",children:_[`item_${s}_unitPrice`]})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[a.jsx(d._,{htmlFor:`item_${s}_discount`,children:"Discount (%)"}),a.jsx(n.I,{id:`item_${s}_discount`,type:"number",min:"0",max:"100",step:"0.01",value:e.discount,onChange:e=>S(s,"discount",parseFloat(e.target.value)||0),placeholder:"0.00"})]}),(0,a.jsxs)("div",{className:"col-span-1",children:[a.jsx(d._,{children:"Total"}),a.jsx("div",{className:"text-sm font-medium p-2 bg-gray-50 rounded",children:y.formatCurrency(e.quantity*e.unitPrice*(1-e.discount/100))})]}),a.jsx("div",{className:"col-span-1",children:a.jsx(l.z,{type:"button",variant:"outline",size:"sm",onClick:()=>P(s),className:"text-red-600 hover:text-red-700",children:a.jsx(k.Z,{className:"h-4 w-4"})})})]},s)),(0,a.jsxs)(l.z,{type:"button",variant:"outline",onClick:()=>{let e={description:"",quantity:1,unitPrice:0,discount:0,taxRate:0};g(s=>[...s,e])},className:"w-full",children:[a.jsx(x.Z,{className:"h-4 w-4 mr-2"}),"Add Item"]})]})]}),a.jsx(i.Zb,{children:a.jsx(i.aY,{className:"p-6",children:a.jsx("div",{className:"flex justify-end",children:(0,a.jsxs)("div",{className:"w-64 space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Subtotal:"}),a.jsx("span",{children:y.formatCurrency($.subtotal)})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("span",{children:["Discount (",h.discount,"%):"]}),(0,a.jsxs)("span",{children:["-",y.formatCurrency($.discount)]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsxs)("span",{children:["Tax (",h.taxRate,"%):"]}),a.jsx("span",{children:y.formatCurrency($.taxAmount)})]}),a.jsx("div",{className:"border-t pt-2 font-bold text-lg",children:(0,a.jsxs)("div",{className:"flex justify-between",children:[a.jsx("span",{children:"Total:"}),a.jsx("span",{children:y.formatCurrency($.total)})]})})]})})})}),(0,a.jsxs)(i.Zb,{children:[a.jsx(i.Ol,{children:a.jsx(i.ll,{children:"Additional Information"})}),(0,a.jsxs)(i.aY,{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"notes",children:"Notes (Optional)"}),a.jsx(N.g,{id:"notes",value:h.notes,onChange:e=>I("notes",e.target.value),placeholder:"Add any additional notes for the customer",rows:3})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"terms",children:"Terms & Conditions (Optional)"}),a.jsx(N.g,{id:"terms",value:h.terms,onChange:e=>I("terms",e.target.value),placeholder:"Add terms and conditions",rows:3})]})]})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2",children:[a.jsx(l.z,{type:"button",variant:"outline",onClick:()=>s(!1),children:"Cancel"}),a.jsx(l.z,{type:"submit",disabled:v,className:"modern-button",children:v?"Saving...":"create"===o?"Create Invoice":"Update Invoice"})]})]})]})})}var Z=t(41156),I=t(38443),S=t(10143),P=t(37358),A=t(71821),R=t(231),E=t(12714),$=t(5932),F=t(31540),T=t(37991),q=t(85999);function O({invoices:e,loading:s,onEdit:t,onDelete:i,onSend:n,onMarkAsPaid:d,currentPage:c,totalPages:o,onPageChange:m}){let[x,u]=(0,r.useState)(null),h=async e=>{try{u(e);let s=new T.S().getToken();if(!s){q.Am.error("Authentication required");return}let t=await fetch(`http://localhost:8000/invoices/${e}/download`,{method:"GET",headers:{Authorization:`Bearer ${s}`}});if(t.ok){let s=await t.blob(),a=window.URL.createObjectURL(s),r=document.createElement("a");r.href=a,r.download=`invoice-${e}.pdf`,document.body.appendChild(r),r.click(),window.URL.revokeObjectURL(a),document.body.removeChild(r),q.Am.success("Invoice downloaded successfully!")}else q.Am.error("Failed to download invoice")}catch(e){console.error("Download error:",e),q.Am.error("Error downloading invoice")}finally{u(null)}};return s?a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"text-lg",children:"Loading invoices..."})}):0===e.length?(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(b.Z,{className:"h-12 w-12 mx-auto mb-4 text-gray-400"}),a.jsx("p",{children:"No invoices found. Create your first invoice to get started."})]}):(0,a.jsxs)("div",{className:"space-y-4",children:[a.jsx("div",{className:"border rounded-lg overflow-hidden",children:(0,a.jsxs)(Z.iA,{children:[a.jsx(Z.xD,{children:(0,a.jsxs)(Z.SC,{children:[a.jsx(Z.ss,{children:"Invoice #"}),a.jsx(Z.ss,{children:"Order #"}),a.jsx(Z.ss,{children:"Customer"}),a.jsx(Z.ss,{children:"Issue Date"}),a.jsx(Z.ss,{children:"Due Date"}),a.jsx(Z.ss,{children:"Amount"}),a.jsx(Z.ss,{children:"Status"}),a.jsx(Z.ss,{children:"Balance"}),a.jsx(Z.ss,{className:"text-right",children:"Actions"})]})}),a.jsx(Z.RM,{children:e.map(e=>(0,a.jsxs)(Z.SC,{children:[a.jsx(Z.pj,{className:"font-medium",children:e.invoiceNumber}),a.jsx(Z.pj,{children:e.orderNumber||"-"}),a.jsx(Z.pj,{children:(0,a.jsxs)("div",{children:[a.jsx("div",{className:"font-medium",children:e.customerName}),a.jsx("div",{className:"text-sm text-gray-500",children:e.customerEmail}),e.customerPhone&&a.jsx("div",{className:"text-sm text-gray-500",children:e.customerPhone})]})}),a.jsx(Z.pj,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(P.Z,{className:"h-4 w-4 text-gray-500"}),y.formatDate(e.issueDate)]})}),a.jsx(Z.pj,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(P.Z,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{className:y.isOverdue(e.dueDate)?"text-red-600 font-medium":"",children:y.formatDate(e.dueDate)})]})}),a.jsx(Z.pj,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(A.Z,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{className:"font-medium",children:y.formatCurrency(e.total,e.currency)})]})}),a.jsx(Z.pj,{children:a.jsx(I.C,{className:y.getStatusColor(e.status),children:y.getStatusLabel(e.status)})}),a.jsx(Z.pj,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[a.jsx(A.Z,{className:"h-4 w-4 text-gray-500"}),a.jsx("span",{className:e.balance>0?"text-red-600 font-medium":"text-green-600 font-medium",children:y.formatCurrency(e.balance,e.currency)})]})}),a.jsx(Z.pj,{className:"text-right",children:(0,a.jsxs)(S.h_,{children:[a.jsx(S.$F,{asChild:!0,children:a.jsx(l.z,{variant:"ghost",size:"sm",children:a.jsx(R.Z,{className:"h-4 w-4"})})}),(0,a.jsxs)(S.AW,{align:"end",children:[(0,a.jsxs)(S.Xi,{onClick:()=>t(e),children:[a.jsx(E.Z,{className:"h-4 w-4 mr-2"}),"View Details"]}),(0,a.jsxs)(S.Xi,{onClick:()=>t(e),children:[a.jsx(j.Z,{className:"h-4 w-4 mr-2"}),"Edit Invoice"]}),a.jsx(S.VD,{}),"draft"===e.status&&(0,a.jsxs)(S.Xi,{onClick:()=>n(e.id),children:[a.jsx($.Z,{className:"h-4 w-4 mr-2"}),"Send Invoice"]}),"sent"===e.status&&(0,a.jsxs)(S.Xi,{onClick:()=>d(e.id),children:[a.jsx(p.Z,{className:"h-4 w-4 mr-2"}),"Mark as Paid"]}),a.jsx(S.Xi,{onClick:()=>h(e.id),disabled:x===e.id,children:x===e.id?(0,a.jsxs)(a.Fragment,{children:[a.jsx("div",{className:"mr-2 h-4 w-4 animate-spin rounded-full border-2 border-gray-300 border-t-blue-600"}),"Generating PDF..."]}):(0,a.jsxs)(a.Fragment,{children:[a.jsx(F.Z,{className:"mr-2 h-4 w-4 mr-2"}),"Download PDF"]})}),a.jsx(S.VD,{}),"draft"===e.status&&(0,a.jsxs)(S.Xi,{onClick:()=>i(e),className:"text-red-600",children:[a.jsx(k.Z,{className:"h-4 w-4 mr-2"}),"Delete Invoice"]})]})]})})]},e.id))})]})}),o>1&&(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"text-sm text-gray-700",children:["Page ",c," of ",o]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[a.jsx(l.z,{variant:"outline",size:"sm",onClick:()=>m(c-1),disabled:1===c,children:"Previous"}),a.jsx(l.z,{variant:"outline",size:"sm",onClick:()=>m(c+1),disabled:c===o,children:"Next"})]})]})]})}var M=t(48998),z=t(17069),V=t(24061),U=t(76464);function Y({dashboard:e}){let{metrics:s,recentInvoices:t,overdueInvoices:r,topCustomers:l,monthlyRevenue:n}=e;return(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[a.jsx(i.Zb,{children:a.jsx(i.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-blue-100 rounded-lg",children:a.jsx(b.Z,{className:"h-6 w-6 text-blue-600"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.totalInvoices}),a.jsx("p",{className:"text-sm text-gray-600",children:"Total Invoices"})]})]})})}),a.jsx(i.Zb,{children:a.jsx(i.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-green-100 rounded-lg",children:a.jsx(p.Z,{className:"h-6 w-6 text-green-600"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.paidInvoices}),a.jsx("p",{className:"text-sm text-gray-600",children:"Paid Invoices"})]})]})})}),a.jsx(i.Zb,{children:a.jsx(i.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-red-100 rounded-lg",children:a.jsx(h.Z,{className:"h-6 w-6 text-red-600"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.overdueInvoices}),a.jsx("p",{className:"text-sm text-gray-600",children:"Overdue Invoices"})]})]})})}),a.jsx(i.Zb,{children:a.jsx(i.aY,{className:"p-6",children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[a.jsx("div",{className:"p-3 bg-gray-100 rounded-lg",children:a.jsx(M.Z,{className:"h-6 w-6 text-gray-600"})}),(0,a.jsxs)("div",{children:[a.jsx("p",{className:"text-2xl font-bold text-gray-900",children:s.draftInvoices}),a.jsx("p",{className:"text-sm text-gray-600",children:"Draft Invoices"})]})]})})})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)(i.Zb,{children:[a.jsx(i.Ol,{children:(0,a.jsxs)(i.ll,{className:"flex items-center gap-2",children:[a.jsx(z.Z,{className:"h-5 w-5 text-green-600"}),"Total Revenue"]})}),(0,a.jsxs)(i.aY,{children:[a.jsx("p",{className:"text-3xl font-bold text-green-600",children:y.formatCurrency(s.totalRevenue)}),(0,a.jsxs)("p",{className:"text-sm text-gray-600 mt-2",children:["From ",s.paidInvoices," paid invoices"]})]})]}),(0,a.jsxs)(i.Zb,{children:[a.jsx(i.Ol,{children:(0,a.jsxs)(i.ll,{className:"flex items-center gap-2",children:[a.jsx(A.Z,{className:"h-5 w-5 text-orange-600"}),"Outstanding Amount"]})}),(0,a.jsxs)(i.aY,{children:[a.jsx("p",{className:"text-3xl font-bold text-orange-600",children:y.formatCurrency(s.outstandingAmount)}),a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Awaiting payment"})]})]}),(0,a.jsxs)(i.Zb,{children:[a.jsx(i.Ol,{children:(0,a.jsxs)(i.ll,{className:"flex items-center gap-2",children:[a.jsx(h.Z,{className:"h-5 w-5 text-red-600"}),"Overdue Amount"]})}),(0,a.jsxs)(i.aY,{children:[a.jsx("p",{className:"text-3xl font-bold text-red-600",children:y.formatCurrency(s.overdueAmount)}),a.jsx("p",{className:"text-sm text-gray-600 mt-2",children:"Past due date"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[(0,a.jsxs)(i.ll,{className:"flex items-center gap-2",children:[a.jsx(b.Z,{className:"h-5 w-5"}),"Recent Invoices"]}),a.jsx(i.SZ,{children:"Latest invoices created in the system"})]}),a.jsx(i.aY,{children:a.jsx("div",{className:"space-y-4",children:t.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:e.invoiceNumber}),a.jsx("p",{className:"text-sm text-gray-600",children:e.customerName})]}),(0,a.jsxs)("div",{className:"text-right",children:[a.jsx("p",{className:"font-medium text-gray-900",children:y.formatCurrency(e.total,e.currency)}),a.jsx(I.C,{className:y.getStatusColor(e.status),children:y.getStatusLabel(e.status)})]})]},e.id))})})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[(0,a.jsxs)(i.ll,{className:"flex items-center gap-2",children:[a.jsx(V.Z,{className:"h-5 w-5"}),"Top Customers"]}),a.jsx(i.SZ,{children:"Customers with highest invoice values"})]}),a.jsx(i.aY,{children:a.jsx("div",{className:"space-y-4",children:l.map((e,s)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[a.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:a.jsx("span",{className:"text-sm font-medium text-blue-600",children:e.name.charAt(0).toUpperCase()})}),(0,a.jsxs)("div",{children:[a.jsx("h4",{className:"font-medium text-gray-900",children:e.name}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:[e.count," invoices"]})]})]}),a.jsx("div",{className:"text-right",children:a.jsx("p",{className:"font-medium text-gray-900",children:y.formatCurrency(e.amount)})})]},s))})})]})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[(0,a.jsxs)(i.ll,{className:"flex items-center gap-2",children:[a.jsx(U.Z,{className:"h-5 w-5"}),"Monthly Revenue Trend"]}),a.jsx(i.SZ,{children:"Revenue performance over the last 6 months"})]}),a.jsx(i.aY,{children:a.jsx("div",{className:"h-64 flex items-end justify-between gap-2",children:n.map((e,s)=>(0,a.jsxs)("div",{className:"flex-1 flex flex-col items-center",children:[a.jsx("div",{className:"w-full bg-blue-100 rounded-t-sm",style:{height:`${Math.max(e.revenue/Math.max(...n.map(e=>e.revenue))*200,20)}px`}}),a.jsx("p",{className:"text-xs text-gray-600 mt-2 text-center",children:e.month}),a.jsx("p",{className:"text-xs font-medium text-gray-900 mt-1",children:y.formatCurrency(e.revenue)})]},e.month))})})]}),r.length>0&&(0,a.jsxs)(i.Zb,{className:"border-red-200 bg-red-50",children:[(0,a.jsxs)(i.Ol,{children:[(0,a.jsxs)(i.ll,{className:"flex items-center gap-2 text-red-600",children:[a.jsx(h.Z,{className:"h-5 w-5"}),"Overdue Invoices Require Attention"]}),(0,a.jsxs)(i.SZ,{children:[r.length," invoice(s) are past their due date"]})]}),a.jsx(i.aY,{children:(0,a.jsxs)("div",{className:"space-y-3",children:[r.slice(0,3).map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 bg-white rounded-lg border border-red-200",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"font-medium text-gray-900",children:[e.invoiceNumber," - ",e.customerName]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Due: ",y.formatDate(e.dueDate)," •",y.getDaysOverdue(e.dueDate)," days overdue"]})]}),a.jsx("div",{className:"text-right",children:a.jsx("p",{className:"font-medium text-red-600",children:y.formatCurrency(e.total,e.currency)})})]},e.id)),r.length>3&&(0,a.jsxs)("p",{className:"text-sm text-gray-600 text-center",children:["And ",r.length-3," more overdue invoices..."]})]})})]})]})}function Q(){let[e,s]=(0,r.useState)(null),[t,v]=(0,r.useState)([]),[f,N]=(0,r.useState)(!0),[b,w]=(0,r.useState)(null),[C,D]=(0,r.useState)("dashboard"),[k,Z]=(0,r.useState)(!1),[I,S]=(0,r.useState)(!1),[P,A]=(0,r.useState)(!1),[R,E]=(0,r.useState)(null),[$,F]=(0,r.useState)({}),[T,q]=(0,r.useState)(""),[M,z]=(0,r.useState)("all"),[V,U]=(0,r.useState)(1),[Q,L]=(0,r.useState)(1),B=(0,r.useCallback)(async()=>{try{if(N(!0),w(null),"dashboard"===C){let e=await y.getDashboard();s(e)}else{let e=await y.getInvoices({...$,search:T,status:"all"!==M?M:void 0},V,10);v(e.invoices),L(e.pagination.pages)}}catch(e){w(e instanceof Error?e.message:"Failed to load data")}finally{N(!1)}},[C,$,T,M,V]),G=async e=>{try{await y.createInvoice(e),Z(!1),B()}catch(e){w(e instanceof Error?e.message:"Failed to create invoice")}},K=async(e,s)=>{try{await y.updateInvoice(e,s),S(!1),E(null),B()}catch(e){w(e instanceof Error?e.message:"Failed to update invoice")}},X=async e=>{try{await y.deleteInvoice(e),A(!1),E(null),B()}catch(e){w(e instanceof Error?e.message:"Failed to delete invoice")}},H=async e=>{try{await y.sendInvoice(e),B()}catch(e){w(e instanceof Error?e.message:"Failed to send invoice")}},W=async e=>{try{await y.markInvoiceAsPaid(e),B()}catch(e){w(e instanceof Error?e.message:"Failed to mark invoice as paid")}},J=e=>{E(e),S(!0)},ee=e=>{F({...$,...e}),U(1)},es=()=>{U(1),B()};return f&&"dashboard"===C?a.jsx(g.cl,{children:a.jsx("div",{className:"container mx-auto p-6",children:a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"text-lg",children:"Loading Invoice Dashboard..."})})})}):b&&"dashboard"===C?a.jsx(g.cl,{children:a.jsx("div",{className:"container mx-auto p-6",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsxs)("div",{className:"text-red-600 mb-4",children:["Error: ",b]}),a.jsx(l.z,{onClick:B,children:"Retry"})]})})}):a.jsx(g.cl,{children:(0,a.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[a.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"Invoices"}),a.jsx("p",{className:"text-gray-600",children:"Manage your invoices, track payments, and monitor revenue"})]}),a.jsx("div",{className:"flex space-x-2",children:(0,a.jsxs)(l.z,{onClick:()=>Z(!0),className:"modern-button",children:[a.jsx(x.Z,{className:"h-4 w-4 mr-2"}),"Create Invoice"]})})]}),(0,a.jsxs)(o.mQ,{value:C,onValueChange:D,children:[(0,a.jsxs)(o.dr,{className:"grid w-full grid-cols-3",children:[a.jsx(o.SP,{value:"dashboard",children:"Dashboard"}),a.jsx(o.SP,{value:"invoices",children:"All Invoices"}),a.jsx(o.SP,{value:"overdue",children:"Overdue"})]}),a.jsx(o.nU,{value:"dashboard",className:"space-y-6",children:e&&a.jsx(Y,{dashboard:e})}),(0,a.jsxs)(o.nU,{value:"invoices",className:"space-y-6",children:[(0,a.jsxs)(i.Zb,{children:[a.jsx(i.Ol,{children:(0,a.jsxs)(i.ll,{className:"flex items-center gap-2",children:[a.jsx(u.Z,{className:"h-5 w-5"}),"Filters"]})}),(0,a.jsxs)(i.aY,{children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"search",children:"Search"}),a.jsx(n.I,{id:"search",placeholder:"Search invoices...",value:T,onChange:e=>q(e.target.value),onKeyPress:e=>"Enter"===e.key&&es()})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"status",children:"Status"}),(0,a.jsxs)(c.Ph,{value:M,onValueChange:z,children:[a.jsx(c.i4,{children:a.jsx(c.ki,{placeholder:"All Statuses"})}),(0,a.jsxs)(c.Bw,{children:[a.jsx(c.Ql,{value:"all",children:"All Statuses"}),a.jsx(c.Ql,{value:"draft",children:"Draft"}),a.jsx(c.Ql,{value:"sent",children:"Sent"}),a.jsx(c.Ql,{value:"viewed",children:"Viewed"}),a.jsx(c.Ql,{value:"paid",children:"Paid"}),a.jsx(c.Ql,{value:"overdue",children:"Overdue"})]})]})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"dateFrom",children:"From Date"}),a.jsx(n.I,{id:"dateFrom",type:"date",value:$.dateFrom||"",onChange:e=>ee({dateFrom:e.target.value})})]}),(0,a.jsxs)("div",{children:[a.jsx(d._,{htmlFor:"dateTo",children:"To Date"}),a.jsx(n.I,{id:"dateTo",type:"date",value:$.dateTo||"",onChange:e=>ee({dateTo:e.target.value})})]})]}),a.jsx("div",{className:"flex justify-end mt-4",children:a.jsx(l.z,{onClick:es,children:"Apply Filters"})})]})]}),a.jsx(O,{invoices:t,loading:f,onEdit:J,onDelete:e=>{E(e),A(!0)},onSend:H,onMarkAsPaid:W,currentPage:V,totalPages:Q,onPageChange:U})]}),a.jsx(o.nU,{value:"overdue",className:"space-y-6",children:(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[(0,a.jsxs)(i.ll,{className:"flex items-center gap-2 text-red-600",children:[a.jsx(h.Z,{className:"h-5 w-5"}),"Overdue Invoices"]}),a.jsx(i.SZ,{children:"Invoices that are past their due date and require immediate attention"})]}),a.jsx(i.aY,{children:e?.overdueInvoices&&e.overdueInvoices.length>0?a.jsx("div",{className:"space-y-4",children:e.overdueInvoices.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border border-red-200 rounded-lg bg-red-50",children:[(0,a.jsxs)("div",{children:[(0,a.jsxs)("h4",{className:"font-medium text-gray-900",children:[e.invoiceNumber," - ",e.customerName]}),(0,a.jsxs)("p",{className:"text-sm text-gray-600",children:["Due: ",y.formatDate(e.dueDate)," • Amount:"," ",y.formatCurrency(e.total)]})]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsxs)(l.z,{size:"sm",onClick:()=>W(e.id),className:"bg-green-600 hover:bg-green-700",children:[a.jsx(p.Z,{className:"h-4 w-4 mr-1"}),"Mark Paid"]}),(0,a.jsxs)(l.z,{size:"sm",variant:"outline",onClick:()=>J(e),children:[a.jsx(j.Z,{className:"h-4 w-4 mr-1"}),"Edit"]})]})]},e.id))}):(0,a.jsxs)("div",{className:"text-center py-8 text-gray-500",children:[a.jsx(p.Z,{className:"h-12 w-12 mx-auto mb-4 text-green-500"}),a.jsx("p",{children:"No overdue invoices! All invoices are up to date."})]})})]})})]}),a.jsx(_,{open:k,onOpenChange:Z,onSubmit:G,mode:"create"}),a.jsx(_,{open:I,onOpenChange:S,onSubmit:e=>R&&K(R.id,e),mode:"edit",invoice:R}),a.jsx(m.Vq,{open:P,onOpenChange:A,children:(0,a.jsxs)(m.cZ,{children:[a.jsx(m.fK,{children:a.jsx(m.$N,{children:"Delete Invoice"})}),a.jsx("div",{className:"py-4",children:(0,a.jsxs)("p",{children:["Are you sure you want to delete invoice"," ",a.jsx("strong",{children:R?.invoiceNumber}),"? This action cannot be undone."]})}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2",children:[a.jsx(l.z,{variant:"outline",onClick:()=>A(!1),children:"Cancel"}),a.jsx(l.z,{variant:"destructive",onClick:()=>R&&X(R.id),children:"Delete"})]})]})})]})})}},29272:(e,s,t)=>{"use strict";t.d(s,{cl:()=>a.default});var a=t(62760);t(63102),t(17676)},24118:(e,s,t)=>{"use strict";t.d(s,{$N:()=>p,Be:()=>j,Vq:()=>d,cN:()=>h,cZ:()=>x,fK:()=>u,hg:()=>c});var a=t(10326),r=t(17577),i=t(98958),l=t(94019),n=t(51223);let d=i.fC,c=i.xz,o=i.h_;i.x8;let m=r.forwardRef(({className:e,...s},t)=>a.jsx(i.aV,{ref:t,className:(0,n.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...s}));m.displayName=i.aV.displayName;let x=r.forwardRef(({className:e,children:s,...t},r)=>(0,a.jsxs)(o,{children:[a.jsx(m,{}),(0,a.jsxs)(i.VY,{ref:r,className:(0,n.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...t,children:[s,(0,a.jsxs)(i.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[a.jsx(l.Z,{className:"h-4 w-4"}),a.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));x.displayName=i.VY.displayName;let u=({className:e,...s})=>a.jsx("div",{className:(0,n.cn)("flex flex-col space-y-1.5 text-center sm:text-left",e),...s});u.displayName="DialogHeader";let h=({className:e,...s})=>a.jsx("div",{className:(0,n.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",e),...s});h.displayName="DialogFooter";let p=r.forwardRef(({className:e,...s},t)=>a.jsx(i.Dx,{ref:t,className:(0,n.cn)("text-lg font-semibold leading-none tracking-tight",e),...s}));p.displayName=i.Dx.displayName;let j=r.forwardRef(({className:e,...s},t)=>a.jsx(i.dk,{ref:t,className:(0,n.cn)("text-sm text-muted-foreground",e),...s}));j.displayName=i.dk.displayName},29280:(e,s,t)=>{"use strict";t.d(s,{Bw:()=>p,Ph:()=>o,Ql:()=>j,i4:()=>x,ki:()=>m});var a=t(10326),r=t(17577),i=t(38785),l=t(941),n=t(96633),d=t(32933),c=t(51223);let o=i.fC;i.ZA;let m=i.B4,x=r.forwardRef(({className:e,children:s,...t},r)=>(0,a.jsxs)(i.xz,{ref:r,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...t,children:[s,a.jsx(i.JO,{asChild:!0,children:a.jsx(l.Z,{className:"h-4 w-4 opacity-50"})})]}));x.displayName=i.xz.displayName;let u=r.forwardRef(({className:e,...s},t)=>a.jsx(i.u_,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:a.jsx(n.Z,{className:"h-4 w-4"})}));u.displayName=i.u_.displayName;let h=r.forwardRef(({className:e,...s},t)=>a.jsx(i.$G,{ref:t,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",e),...s,children:a.jsx(l.Z,{className:"h-4 w-4"})}));h.displayName=i.$G.displayName;let p=r.forwardRef(({className:e,children:s,position:t="popper",...r},l)=>a.jsx(i.h_,{children:(0,a.jsxs)(i.VY,{ref:l,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===t&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:t,...r,children:[a.jsx(u,{}),a.jsx(i.l_,{className:(0,c.cn)("p-1","popper"===t&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),a.jsx(h,{})]})}));p.displayName=i.VY.displayName,r.forwardRef(({className:e,...s},t)=>a.jsx(i.__,{ref:t,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...s})).displayName=i.__.displayName;let j=r.forwardRef(({className:e,children:s,...t},r)=>(0,a.jsxs)(i.ck,{ref:r,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...t,children:[a.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:a.jsx(i.wU,{children:a.jsx(d.Z,{className:"h-4 w-4"})})}),a.jsx(i.eT,{children:s})]}));j.displayName=i.ck.displayName,r.forwardRef(({className:e,...s},t)=>a.jsx(i.Z0,{ref:t,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",e),...s})).displayName=i.Z0.displayName},41156:(e,s,t)=>{"use strict";t.d(s,{RM:()=>d,SC:()=>c,iA:()=>l,pj:()=>m,ss:()=>o,xD:()=>n});var a=t(10326),r=t(17577),i=t(51223);let l=r.forwardRef(({className:e,...s},t)=>a.jsx("div",{className:"relative w-full overflow-auto",children:a.jsx("table",{ref:t,className:(0,i.cn)("w-full caption-bottom text-sm",e),...s})}));l.displayName="Table";let n=r.forwardRef(({className:e,...s},t)=>a.jsx("thead",{ref:t,className:(0,i.cn)("[&_tr]:border-b",e),...s}));n.displayName="TableHeader";let d=r.forwardRef(({className:e,...s},t)=>a.jsx("tbody",{ref:t,className:(0,i.cn)("[&_tr:last-child]:border-0",e),...s}));d.displayName="TableBody",r.forwardRef(({className:e,...s},t)=>a.jsx("tfoot",{ref:t,className:(0,i.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",e),...s})).displayName="TableFooter";let c=r.forwardRef(({className:e,...s},t)=>a.jsx("tr",{ref:t,className:(0,i.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",e),...s}));c.displayName="TableRow";let o=r.forwardRef(({className:e,...s},t)=>a.jsx("th",{ref:t,className:(0,i.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",e),...s}));o.displayName="TableHead";let m=r.forwardRef(({className:e,...s},t)=>a.jsx("td",{ref:t,className:(0,i.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",e),...s}));m.displayName="TableCell",r.forwardRef(({className:e,...s},t)=>a.jsx("caption",{ref:t,className:(0,i.cn)("mt-4 text-sm text-muted-foreground",e),...s})).displayName="TableCaption"},50384:(e,s,t)=>{"use strict";t.d(s,{SP:()=>c,dr:()=>d,mQ:()=>n,nU:()=>o});var a=t(10326),r=t(17577),i=t(28407),l=t(51223);let n=i.fC,d=r.forwardRef(({className:e,...s},t)=>a.jsx(i.aV,{ref:t,className:(0,l.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));d.displayName=i.aV.displayName;let c=r.forwardRef(({className:e,...s},t)=>a.jsx(i.xz,{ref:t,className:(0,l.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));c.displayName=i.xz.displayName;let o=r.forwardRef(({className:e,...s},t)=>a.jsx(i.VY,{ref:t,className:(0,l.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));o.displayName=i.VY.displayName},82015:(e,s,t)=>{"use strict";t.d(s,{g:()=>l});var a=t(10326),r=t(17577),i=t(51223);let l=r.forwardRef(({className:e,...s},t)=>a.jsx("textarea",{className:(0,i.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),ref:t,...s}));l.displayName="Textarea"},63535:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>a});let a=(0,t(68570).createProxy)(String.raw`D:\TestApi\frontend\src\app\sales\invoices\page.tsx#default`)},28407:(e,s,t)=>{"use strict";t.d(s,{VY:()=>P,aV:()=>I,fC:()=>Z,xz:()=>S});var a=t(17577),r=t(82561),i=t(93095),l=t(15594),n=t(9815),d=t(45226),c=t(17124),o=t(52067),m=t(88957),x=t(10326),u="Tabs",[h,p]=(0,i.b)(u,[l.Pc]),j=(0,l.Pc)(),[g,v]=h(u),f=a.forwardRef((e,s)=>{let{__scopeTabs:t,value:a,onValueChange:r,defaultValue:i,orientation:l="horizontal",dir:n,activationMode:h="automatic",...p}=e,j=(0,c.gm)(n),[v,f]=(0,o.T)({prop:a,onChange:r,defaultProp:i??"",caller:u});return(0,x.jsx)(g,{scope:t,baseId:(0,m.M)(),value:v,onValueChange:f,orientation:l,dir:j,activationMode:h,children:(0,x.jsx)(d.WV.div,{dir:j,"data-orientation":l,...p,ref:s})})});f.displayName=u;var y="TabsList",N=a.forwardRef((e,s)=>{let{__scopeTabs:t,loop:a=!0,...r}=e,i=v(y,t),n=j(t);return(0,x.jsx)(l.fC,{asChild:!0,...n,orientation:i.orientation,dir:i.dir,loop:a,children:(0,x.jsx)(d.WV.div,{role:"tablist","aria-orientation":i.orientation,...r,ref:s})})});N.displayName=y;var b="TabsTrigger",w=a.forwardRef((e,s)=>{let{__scopeTabs:t,value:a,disabled:i=!1,...n}=e,c=v(b,t),o=j(t),m=k(c.baseId,a),u=_(c.baseId,a),h=a===c.value;return(0,x.jsx)(l.ck,{asChild:!0,...o,focusable:!i,active:h,children:(0,x.jsx)(d.WV.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":u,"data-state":h?"active":"inactive","data-disabled":i?"":void 0,disabled:i,id:m,...n,ref:s,onMouseDown:(0,r.M)(e.onMouseDown,e=>{i||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(a)}),onKeyDown:(0,r.M)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(a)}),onFocus:(0,r.M)(e.onFocus,()=>{let e="manual"!==c.activationMode;h||i||!e||c.onValueChange(a)})})})});w.displayName=b;var C="TabsContent",D=a.forwardRef((e,s)=>{let{__scopeTabs:t,value:r,forceMount:i,children:l,...c}=e,o=v(C,t),m=k(o.baseId,r),u=_(o.baseId,r),h=r===o.value,p=a.useRef(h);return a.useEffect(()=>{let e=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,x.jsx)(n.z,{present:i||h,children:({present:t})=>(0,x.jsx)(d.WV.div,{"data-state":h?"active":"inactive","data-orientation":o.orientation,role:"tabpanel","aria-labelledby":m,hidden:!t,id:u,tabIndex:0,...c,ref:s,style:{...e.style,animationDuration:p.current?"0s":void 0},children:t&&l})})});function k(e,s){return`${e}-trigger-${s}`}function _(e,s){return`${e}-content-${s}`}D.displayName=C;var Z=f,I=N,S=w,P=D}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),a=s.X(0,[690,434,1571,649,39,692,547,9314,2760],()=>t(75746));module.exports=a})();