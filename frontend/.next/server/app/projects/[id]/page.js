(()=>{var e={};e.id=3626,e.ids=[3626],e.modules={72934:e=>{"use strict";e.exports=require("next/dist/client/components/action-async-storage.external.js")},54580:e=>{"use strict";e.exports=require("next/dist/client/components/request-async-storage.external.js")},45869:e=>{"use strict";e.exports=require("next/dist/client/components/static-generation-async-storage.external.js")},20399:e=>{"use strict";e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},27790:e=>{"use strict";e.exports=require("assert")},84770:e=>{"use strict";e.exports=require("crypto")},17702:e=>{"use strict";e.exports=require("events")},92048:e=>{"use strict";e.exports=require("fs")},32615:e=>{"use strict";e.exports=require("http")},35240:e=>{"use strict";e.exports=require("https")},19801:e=>{"use strict";e.exports=require("os")},55315:e=>{"use strict";e.exports=require("path")},76162:e=>{"use strict";e.exports=require("stream")},74175:e=>{"use strict";e.exports=require("tty")},17360:e=>{"use strict";e.exports=require("url")},21764:e=>{"use strict";e.exports=require("util")},71568:e=>{"use strict";e.exports=require("zlib")},21126:(e,s,t)=>{"use strict";t.r(s),t.d(s,{GlobalError:()=>c.a,__next_app__:()=>m,originalPathname:()=>o,pages:()=>x,routeModule:()=>h,tree:()=>d}),t(58231),t(70733),t(35866);var r=t(23191),a=t(88716),l=t(37922),c=t.n(l),i=t(95231),n={};for(let e in i)0>["default","tree","pages","GlobalError","originalPathname","__next_app__","routeModule"].indexOf(e)&&(n[e]=()=>i[e]);t.d(s,n);let d=["",{children:["projects",{children:["[id]",{children:["__PAGE__",{},{page:[()=>Promise.resolve().then(t.bind(t,58231)),"D:\\TestApi\\frontend\\src\\app\\projects\\[id]\\page.tsx"]}]},{}]},{}]},{layout:[()=>Promise.resolve().then(t.bind(t,70733)),"D:\\TestApi\\frontend\\src\\app\\layout.tsx"],"not-found":[()=>Promise.resolve().then(t.t.bind(t,35866,23)),"next/dist/client/components/not-found-error"]}],x=["D:\\TestApi\\frontend\\src\\app\\projects\\[id]\\page.tsx"],o="/projects/[id]/page",m={require:t,loadChunk:()=>Promise.resolve()},h=new r.AppPageRouteModule({definition:{kind:a.x.APP_PAGE,page:"/projects/[id]/page",pathname:"/projects/[id]",bundlePath:"",filename:"",appPaths:[]},userland:{loaderTree:d}})},22259:(e,s,t)=>{Promise.resolve().then(t.bind(t,42464))},86333:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(76557).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},82200:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(76557).Z)("Flag",[["path",{d:"M4 15s1-1 4-1 5 2 8 2 4-1 4-1V3s-1 1-4 1-5-2-8-2-4 1-4 1z",key:"i9b6wo"}],["line",{x1:"4",x2:"4",y1:"22",y2:"15",key:"1cm3nv"}]])},49216:(e,s,t)=>{"use strict";t.d(s,{Z:()=>r});let r=(0,t(76557).Z)("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},42464:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>O});var r,a,l=t(10326),c=t(17577),i=t(35047),n=t(90434),d=t(29752),x=t(91664),o=t(38443),m=t(3594),h=t(33269),j=t(10143),p=t(50384),u=t(33261),g=t(20345),N=t(75290),b=t(87888),f=t(86333),y=t(231),w=t(70003),v=t(98091),k=t(17069),C=t(92089),Z=t(24061),P=t(71821),T=t(36283),M=t(48998),A=t(37358),E=t(82200);(function(e){e.PLANNING="planning",e.IN_PROGRESS="in_progress",e.ON_HOLD="on_hold",e.COMPLETED="completed",e.CANCELLED="cancelled"})(r||(r={})),function(e){e.LOW="low",e.MEDIUM="medium",e.HIGH="high",e.CRITICAL="critical"}(a||(a={}));var S=t(41485),D=t(74131),_=t(29272),q=t(8399),L=t(56556);function O(){let e=(0,i.useParams)(),s=(0,i.useRouter)(),{user:t}=(0,D.a)(),O=e.id,[z,R]=(0,c.useState)(null),[I,G]=(0,c.useState)([]),[$,H]=(0,c.useState)(!0),[B,F]=(0,c.useState)(!1),[V,Q]=(0,c.useState)(null),[U,Y]=(0,c.useState)("overview"),[X,W]=(0,c.useState)(!1);(0,c.useCallback)(async()=>{try{H(!0),Q(null);let e=await S.Ew.getProject(O);R(e)}catch(e){console.error("Failed to load project:",e),Q(e.response?.data?.detail||"Failed to load project details")}finally{H(!1)}},[O]),(0,c.useCallback)(async()=>{try{F(!0);let e=await S.Ew.getTasks({project:O,includeSubtasks:!0,mainTasksOnly:!1});G(e.tasks||[])}catch(e){console.error("Failed to load tasks:",e)}finally{F(!1)}},[O]);let J=async()=>{if(confirm("Are you sure you want to delete this project? This action cannot be undone."))try{await S.Ew.deleteProject(O),s.push("/projects")}catch(e){console.error("Failed to delete project:",e),Q("Failed to delete project")}};if($)return l.jsx(_.cl,{children:l.jsx("div",{className:"container mx-auto px-6 py-8",children:l.jsx("div",{className:"flex justify-center py-8",children:l.jsx(N.Z,{className:"h-8 w-8 animate-spin text-blue-600"})})})});if(V||!z)return l.jsx(_.cl,{children:(0,l.jsxs)("div",{className:"container mx-auto px-6 py-8",children:[(0,l.jsxs)(u.bZ,{className:"mb-4 border-red-200 bg-red-50",children:[l.jsx(b.Z,{className:"h-4 w-4"}),l.jsx(u.X,{className:"text-red-800",children:V||"Project not found"})]}),(0,l.jsxs)(x.z,{onClick:()=>s.push("/projects"),className:"flex items-center space-x-2",children:[l.jsx(f.Z,{className:"h-4 w-4"}),l.jsx("span",{children:"Back to Projects"})]})]})});let K=(()=>{let e=I.length;return{totalTasks:e,completedTasks:I.filter(e=>"completed"===e.status).length,inProgressTasks:I.filter(e=>"in_progress"===e.status).length,todoTasks:I.filter(e=>"todo"===e.status).length}})();return l.jsx(_.cl,{children:(0,l.jsxs)("div",{className:"container mx-auto px-6 py-8",children:[l.jsx("div",{className:"mb-6",children:l.jsx(g.aG,{children:(0,l.jsxs)(g.Jb,{children:[l.jsx(g.gN,{children:l.jsx(g.At,{asChild:!0,children:l.jsx(n.default,{href:"/projects",children:"Projects"})})}),l.jsx(g.bg,{}),l.jsx(g.gN,{children:l.jsx(g.AG,{children:z.name})})]})})}),l.jsx(d.Zb,{className:"modern-card mb-8",children:(0,l.jsxs)(d.aY,{className:"p-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-start mb-6",children:[(0,l.jsxs)("div",{className:"flex-1",children:[l.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:z.name}),l.jsx("p",{className:"text-gray-600 mb-4",children:z.description}),(0,l.jsxs)("div",{className:"flex gap-2 flex-wrap",children:[(e=>{switch(e){case r.COMPLETED:return l.jsx(o.C,{className:"bg-green-100 text-green-800 border-green-200",children:"Completed"});case r.IN_PROGRESS:return l.jsx(o.C,{className:"bg-blue-100 text-blue-800 border-blue-200",children:"In Progress"});case r.ON_HOLD:return l.jsx(o.C,{className:"bg-yellow-100 text-yellow-800 border-yellow-200",children:"On Hold"});case r.CANCELLED:return l.jsx(o.C,{className:"bg-red-100 text-red-800 border-red-200",children:"Cancelled"});default:return l.jsx(o.C,{variant:"secondary",children:"Unknown"})}})(z.status),(e=>{switch(e){case a.CRITICAL:return l.jsx(o.C,{className:"bg-red-100 text-red-800 border-red-200",children:"Critical"});case a.HIGH:return l.jsx(o.C,{className:"bg-orange-100 text-orange-800 border-orange-200",children:"High"});case a.MEDIUM:return l.jsx(o.C,{className:"bg-blue-100 text-blue-800 border-blue-200",children:"Medium"});case a.LOW:return l.jsx(o.C,{className:"bg-green-100 text-green-800 border-green-200",children:"Low"});default:return l.jsx(o.C,{variant:"secondary",children:"Unknown"})}})(z.priority)]})]}),(t?.userRole==="super_admin"||t?.userRole==="project_manager"&&z?.projectManager.id===t.userId)&&(0,l.jsxs)(j.h_,{children:[l.jsx(j.$F,{asChild:!0,children:l.jsx(x.z,{variant:"ghost",size:"sm",children:l.jsx(y.Z,{className:"h-4 w-4"})})}),(0,l.jsxs)(j.AW,{align:"end",children:[(0,l.jsxs)(j.Xi,{onClick:()=>{W(!0)},children:[l.jsx(w.Z,{className:"mr-2 h-4 w-4"}),"Edit Project"]}),l.jsx(j.VD,{}),(0,l.jsxs)(j.Xi,{onClick:J,className:"text-red-600",children:[l.jsx(v.Z,{className:"mr-2 h-4 w-4"}),"Delete Project"]})]})]})]}),(0,l.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[(0,l.jsxs)(d.Zb,{className:"text-center p-4 bg-gradient-to-br from-blue-50 to-indigo-50 border-blue-200",children:[l.jsx(k.Z,{className:"h-10 w-10 text-blue-600 mx-auto mb-2"}),(0,l.jsxs)("div",{className:"text-3xl font-bold text-blue-600 mb-1",children:[z.completionPercent,"%"]}),l.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Completion"}),l.jsx(h.E,{value:z.completionPercent,className:"h-2"})]}),(0,l.jsxs)(d.Zb,{className:"text-center p-4 bg-gradient-to-br from-green-50 to-emerald-50 border-green-200",children:[l.jsx(C.Z,{className:"h-10 w-10 text-green-600 mx-auto mb-2"}),l.jsx("div",{className:"text-3xl font-bold text-green-600 mb-1",children:K.totalTasks}),l.jsx("div",{className:"text-sm text-gray-600",children:"Total Tasks"}),(0,l.jsxs)("div",{className:"text-xs text-green-600 mt-1",children:[K.completedTasks," completed"]})]}),(0,l.jsxs)(d.Zb,{className:"text-center p-4 bg-gradient-to-br from-purple-50 to-pink-50 border-purple-200",children:[l.jsx(Z.Z,{className:"h-10 w-10 text-purple-600 mx-auto mb-2"}),l.jsx("div",{className:"text-3xl font-bold text-purple-600 mb-1",children:z.teamMembers.length+1}),l.jsx("div",{className:"text-sm text-gray-600 mb-2",children:"Team Members"}),(0,l.jsxs)("div",{className:"flex justify-center -space-x-2",children:[l.jsx(m.qE,{className:"h-6 w-6 border-2 border-white",children:l.jsx(m.Q5,{className:"text-xs bg-gradient-primary text-white",children:z.projectManager.name.charAt(0)})}),z.teamMembers.slice(0,3).map(e=>l.jsx(m.qE,{className:"h-6 w-6 border-2 border-white",children:l.jsx(m.Q5,{className:"text-xs bg-gradient-primary text-white",children:e.name.charAt(0)})},e.id)),z.teamMembers.length>3&&l.jsx("div",{className:"h-6 w-6 rounded-full bg-gray-200 border-2 border-white flex items-center justify-center",children:(0,l.jsxs)("span",{className:"text-xs text-gray-600",children:["+",z.teamMembers.length-3]})})]})]}),(0,l.jsxs)(d.Zb,{className:"text-center p-4 bg-gradient-to-br from-yellow-50 to-orange-50 border-yellow-200",children:[l.jsx(P.Z,{className:"h-10 w-10 text-yellow-600 mx-auto mb-2"}),(0,l.jsxs)("div",{className:"text-3xl font-bold text-yellow-600 mb-1",children:["$",z.budget?.toLocaleString()||"0"]}),l.jsx("div",{className:"text-sm text-gray-600",children:"Budget"}),(0,l.jsxs)("div",{className:"text-xs text-gray-500 mt-1",children:["$",z.actualCost?.toLocaleString()||"0"," spent"]})]})]})]})}),(0,l.jsxs)(p.mQ,{value:U,onValueChange:Y,className:"mb-8",children:[(0,l.jsxs)(p.dr,{className:"grid w-full grid-cols-3",children:[(0,l.jsxs)(p.SP,{value:"overview",className:"flex items-center space-x-2",children:[l.jsx(T.Z,{className:"h-4 w-4"}),l.jsx("span",{children:"Overview"})]}),(0,l.jsxs)(p.SP,{value:"tasks",className:"flex items-center space-x-2",children:[l.jsx(C.Z,{className:"h-4 w-4"}),(0,l.jsxs)("span",{children:["Tasks (",K.totalTasks,")"]})]}),(0,l.jsxs)(p.SP,{value:"timeline",className:"flex items-center space-x-2",children:[l.jsx(M.Z,{className:"h-4 w-4"}),l.jsx("span",{children:"Timeline"})]})]}),l.jsx(p.nU,{value:"overview",className:"space-y-6",children:(0,l.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[(0,l.jsxs)("div",{className:"lg:col-span-2",children:[(0,l.jsxs)(d.Zb,{className:"modern-card mb-6",children:[l.jsx(d.Ol,{children:l.jsx(d.ll,{children:"Project Details"})}),(0,l.jsxs)(d.aY,{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[l.jsx(A.Z,{className:"h-5 w-5 text-gray-500"}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Start Date"}),l.jsx("p",{className:"font-medium",children:new Date(z.startDate).toLocaleDateString()})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[l.jsx(M.Z,{className:"h-5 w-5 text-gray-500"}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"End Date"}),l.jsx("p",{className:"font-medium",children:new Date(z.endDate).toLocaleDateString()})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[l.jsx(Z.Z,{className:"h-5 w-5 text-gray-500"}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Project Manager"}),l.jsx("p",{className:"font-medium",children:z.projectManager.name})]})]}),(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[l.jsx(E.Z,{className:"h-5 w-5 text-gray-500"}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"text-sm text-gray-500",children:"Priority"}),l.jsx("p",{className:"font-medium capitalize",children:z.priority})]})]})]}),z.notes&&(0,l.jsxs)("div",{className:"mt-6",children:[l.jsx("h4",{className:"font-semibold text-gray-900 mb-2",children:"Notes"}),l.jsx("p",{className:"text-gray-600",children:z.notes})]})]})]}),(0,l.jsxs)(d.Zb,{className:"modern-card",children:[l.jsx(d.Ol,{children:l.jsx(d.ll,{children:"Quick Actions"})}),l.jsx(d.aY,{children:(0,l.jsxs)("div",{className:"flex flex-wrap gap-3",children:[(0,l.jsxs)(x.z,{onClick:()=>s.push(`/projects/${O}/tasks`),className:"modern-button flex items-center space-x-2",children:[l.jsx(C.Z,{className:"h-4 w-4"}),l.jsx("span",{children:"Manage Tasks & Subtasks"})]}),(0,l.jsxs)(x.z,{variant:"outline",onClick:()=>Y("tasks"),className:"flex items-center space-x-2",children:[l.jsx(C.Z,{className:"h-4 w-4"}),l.jsx("span",{children:"Quick Task View"})]}),(0,l.jsxs)(x.z,{variant:"outline",onClick:()=>Y("timeline"),className:"flex items-center space-x-2",children:[l.jsx(M.Z,{className:"h-4 w-4"}),l.jsx("span",{children:"View Timeline"})]})]})})]})]}),l.jsx("div",{children:(0,l.jsxs)(d.Zb,{className:"modern-card",children:[l.jsx(d.Ol,{children:l.jsx(d.ll,{children:"Team Members"})}),l.jsx(d.aY,{children:(0,l.jsxs)("div",{className:"space-y-4",children:[(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[l.jsx(m.qE,{className:"h-10 w-10",children:l.jsx(m.Q5,{className:"bg-gradient-primary text-white",children:z.projectManager.name.charAt(0)})}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"font-medium",children:z.projectManager.name}),l.jsx("p",{className:"text-sm text-gray-500",children:"Project Manager"})]})]}),z.teamMembers.map(e=>(0,l.jsxs)("div",{className:"flex items-center space-x-3",children:[l.jsx(m.qE,{className:"h-10 w-10",children:l.jsx(m.Q5,{className:"bg-gradient-primary text-white",children:e.name.charAt(0)})}),(0,l.jsxs)("div",{children:[l.jsx("p",{className:"font-medium",children:e.name}),l.jsx("p",{className:"text-sm text-gray-500",children:e.role||"Team Member"})]})]},e.id))]})})]})})]})}),(0,l.jsxs)(p.nU,{value:"tasks",className:"space-y-6",children:[(0,l.jsxs)("div",{className:"flex justify-between items-center",children:[l.jsx("h3",{className:"text-xl font-semibold text-gray-900",children:"Project Tasks"}),(0,l.jsxs)(x.z,{onClick:()=>s.push(`/projects/${O}/tasks`),className:"modern-button flex items-center space-x-2",children:[l.jsx(C.Z,{className:"h-4 w-4"}),l.jsx("span",{children:"View Full Task Manager"})]})]}),B?l.jsx("div",{className:"flex justify-center py-8",children:l.jsx(N.Z,{className:"h-8 w-8 animate-spin text-blue-600"})}):0===I.length?l.jsx(d.Zb,{className:"modern-card",children:(0,l.jsxs)(d.aY,{className:"p-8 text-center",children:[l.jsx(C.Z,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No tasks found"}),l.jsx("p",{className:"text-gray-600 mb-4",children:"Create your first task to get started with this project."}),(0,l.jsxs)(x.z,{onClick:()=>s.push(`/projects/${O}/tasks`),className:"modern-button flex items-center space-x-2",children:[l.jsx(C.Z,{className:"h-4 w-4"}),l.jsx("span",{children:"Create Task"})]})]})}):(0,l.jsxs)("div",{className:"space-y-4",children:[l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:I.slice(0,6).map(e=>l.jsx(L.sD,{task:e,onEdit:()=>s.push(`/projects/${O}/tasks`),onDelete:()=>s.push(`/projects/${O}/tasks`),onStatusChange:()=>s.push(`/projects/${O}/tasks`),onAddSubtask:()=>s.push(`/projects/${O}/tasks`)},e.id))}),I.length>6&&l.jsx(d.Zb,{className:"modern-card",children:(0,l.jsxs)(d.aY,{className:"p-4 text-center",children:[(0,l.jsxs)("p",{className:"text-gray-600 mb-3",children:["Showing 6 of ",I.length," tasks"]}),l.jsx(x.z,{variant:"outline",onClick:()=>s.push(`/projects/${O}/tasks`),children:"View All Tasks"})]})})]})]}),l.jsx(p.nU,{value:"timeline",children:l.jsx(d.Zb,{className:"modern-card",children:(0,l.jsxs)(d.aY,{className:"p-8 text-center",children:[l.jsx(M.Z,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"Timeline View"}),l.jsx("p",{className:"text-gray-600",children:"Timeline functionality coming soon..."})]})})})]}),z&&l.jsx(q.g,{open:X,onClose:()=>W(!1),onSave:e=>{R(e),W(!1)},project:z,mode:"edit"})]})})}},20345:(e,s,t)=>{"use strict";t.d(s,{AG:()=>m,At:()=>o,Jb:()=>d,aG:()=>n,bg:()=>h,gN:()=>x});var r=t(10326),a=t(17577),l=t(34214),c=t(39183),i=(t(49216),t(51223));let n=a.forwardRef(({...e},s)=>r.jsx("nav",{ref:s,"aria-label":"breadcrumb",...e}));n.displayName="Breadcrumb";let d=a.forwardRef(({className:e,...s},t)=>r.jsx("ol",{ref:t,className:(0,i.cn)("flex flex-wrap items-center gap-1.5 break-words text-sm text-muted-foreground sm:gap-2.5",e),...s}));d.displayName="BreadcrumbList";let x=a.forwardRef(({className:e,...s},t)=>r.jsx("li",{ref:t,className:(0,i.cn)("inline-flex items-center gap-1.5",e),...s}));x.displayName="BreadcrumbItem";let o=a.forwardRef(({asChild:e,className:s,...t},a)=>{let c=e?l.g7:"a";return r.jsx(c,{ref:a,className:(0,i.cn)("transition-colors hover:text-foreground",s),...t})});o.displayName="BreadcrumbLink";let m=a.forwardRef(({className:e,...s},t)=>r.jsx("span",{ref:t,role:"link","aria-disabled":"true","aria-current":"page",className:(0,i.cn)("font-normal text-foreground",e),...s}));m.displayName="BreadcrumbPage";let h=({children:e,className:s,...t})=>r.jsx("li",{role:"presentation","aria-hidden":"true",className:(0,i.cn)("[&>svg]:size-3.5",s),...t,children:e??r.jsx(c.Z,{})});h.displayName="BreadcrumbSeparator"},58231:(e,s,t)=>{"use strict";t.r(s),t.d(s,{default:()=>r});let r=(0,t(68570).createProxy)(String.raw`D:\TestApi\frontend\src\app\projects\[id]\page.tsx#default`)}};var s=require("../../../webpack-runtime.js");s.C(e);var t=e=>s(s.s=e),r=s.X(0,[690,434,1571,649,39,692,8276,7286,9314,2760,679,6884],()=>t(21126));module.exports=r})();