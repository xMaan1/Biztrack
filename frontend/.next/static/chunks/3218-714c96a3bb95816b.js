"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3218],{11888:function(e,s,a){a.d(s,{cl:function(){return t.default}});var t=a(78742);a(28278),a(59399)},47668:function(e,s,a){a.d(s,{sD:function(){return C},ax:function(){return Y}});var t=a(57437),l=a(2265),r=a(79820),n=a(12381),i=a(69174),d=a(96246),c=a(7204),o=a(17684),u=a(94630),x=a(18930),m=a(92369),h=a(31047),j=a(85954),p=a(99397),g=a(22135),f=a(40875),v=a(66901),N=a(40519),b=a(32060),y=a(28977);let w=e=>{switch(e){case y.T.CRITICAL:return(0,t.jsx)(i.C,{className:"bg-red-100 text-red-800 border-red-200",children:"Critical"});case y.T.HIGH:return(0,t.jsx)(i.C,{className:"bg-orange-100 text-orange-800 border-orange-200",children:"High"});case y.T.MEDIUM:return(0,t.jsx)(i.C,{className:"bg-blue-100 text-blue-800 border-blue-200",children:"Medium"});case y.T.LOW:return(0,t.jsx)(i.C,{className:"bg-green-100 text-green-800 border-green-200",children:"Low"});default:return(0,t.jsx)(i.C,{variant:"secondary",children:"Unknown"})}},k=e=>{switch(e){case y.h.TODO:return(0,t.jsx)(i.C,{className:"bg-yellow-100 text-yellow-800 border-yellow-200",children:"To Do"});case y.h.IN_PROGRESS:return(0,t.jsx)(i.C,{className:"bg-blue-100 text-blue-800 border-blue-200",children:"In Progress"});case y.h.COMPLETED:return(0,t.jsx)(i.C,{className:"bg-green-100 text-green-800 border-green-200",children:"Completed"});case y.h.CANCELLED:return(0,t.jsx)(i.C,{className:"bg-red-100 text-red-800 border-red-200",children:"Cancelled"});default:return(0,t.jsx)(i.C,{variant:"secondary",children:"Unknown"})}},C=e=>{let{task:s,onEdit:a,onDelete:C,onStatusChange:T,onAddSubtask:D,onEditSubtask:E,onDeleteSubtask:S,onSubtaskStatusChange:Z}=e,[O,P]=(0,l.useState)(!1),[A,I]=(0,l.useState)(!1),[H,z]=(0,l.useState)(null),L=s.subtaskCount>0?Math.round(s.completedSubtaskCount/s.subtaskCount*100):s.status===y.h.COMPLETED?100:0;return(0,t.jsx)(r.Zb,{className:"modern-card relative",children:(0,t.jsxs)(r.aY,{className:"p-4",children:[(0,t.jsxs)("div",{className:"flex justify-between items-start mb-2",children:[(0,t.jsx)("div",{className:"flex-1 pr-2",children:(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900",children:s.title})}),(0,t.jsxs)(b.h_,{open:A,onOpenChange:I,children:[(0,t.jsx)(b.$F,{asChild:!0,children:(0,t.jsx)(n.z,{variant:"ghost",size:"icon",className:"ml-2",children:(0,t.jsx)(o.Z,{className:"h-4 w-4"})})}),(0,t.jsxs)(b.AW,{align:"end",children:[(0,t.jsxs)(b.Xi,{onClick:()=>null==a?void 0:a(s),children:[(0,t.jsx)(u.Z,{className:"mr-2 h-4 w-4"})," Edit Task"]}),(0,t.jsx)(b.VD,{}),(0,t.jsx)(b.Xi,{onClick:()=>null==T?void 0:T(s.id,y.h.TODO),children:"To Do"}),(0,t.jsx)(b.Xi,{onClick:()=>null==T?void 0:T(s.id,y.h.IN_PROGRESS),children:"In Progress"}),(0,t.jsx)(b.Xi,{onClick:()=>null==T?void 0:T(s.id,y.h.COMPLETED),children:"Completed"}),(0,t.jsx)(b.VD,{}),(0,t.jsxs)(b.Xi,{onClick:()=>null==C?void 0:C(s.id),className:"text-red-600",children:[(0,t.jsx)(x.Z,{className:"mr-2 h-4 w-4"})," Delete Task"]})]})]})]}),s.description&&(0,t.jsx)("p",{className:"text-gray-600 mb-2 text-sm",children:s.description}),(0,t.jsxs)("div",{className:"flex gap-2 mb-2 flex-wrap",children:[k(s.status),w(s.priority),s.tags.map((e,s)=>(0,t.jsx)(i.C,{variant:"outline",className:"text-xs border-gray-300 text-gray-600",children:e},s))]}),(0,t.jsxs)("div",{className:"flex items-center gap-4 mb-2 flex-wrap",children:[s.assignedTo&&s.assignedTo.name&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(m.Z,{className:"h-4 w-4 text-gray-400"}),(0,t.jsx)(d.qE,{className:"h-6 w-6",children:(0,t.jsx)(d.Q5,{className:"text-xs bg-gradient-primary text-white",children:s.assignedTo.name.charAt(0)})}),(0,t.jsx)("span",{className:"text-xs text-gray-700",children:s.assignedTo.name})]}),s.dueDate&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(h.Z,{className:"h-4 w-4 text-gray-400"}),(0,t.jsx)("span",{className:"text-xs text-gray-700",children:new Date(s.dueDate).toLocaleDateString()})]}),s.estimatedHours&&(0,t.jsxs)("div",{className:"flex items-center gap-1",children:[(0,t.jsx)(j.Z,{className:"h-4 w-4 text-gray-400"}),(0,t.jsxs)("span",{className:"text-xs text-gray-700",children:[s.actualHours,"h / ",s.estimatedHours,"h"]})]})]}),s.subtaskCount>0&&(0,t.jsxs)("div",{className:"mb-2",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between mb-1",children:[(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:["Subtasks (",s.completedSubtaskCount,"/",s.subtaskCount,")"]}),(0,t.jsxs)("span",{className:"text-xs text-gray-500",children:[L,"%"]})]}),(0,t.jsx)(c.E,{value:L,className:"h-2 rounded bg-gray-200"})]}),(0,t.jsxs)("div",{className:"flex justify-between items-center mt-4",children:[(0,t.jsxs)("div",{className:"flex gap-1",children:[D&&(0,t.jsx)(n.z,{variant:"ghost",size:"icon",onClick:()=>D(s.id),title:"Add Subtask",children:(0,t.jsx)(p.Z,{className:"h-4 w-4"})}),s.subtaskCount>0&&(0,t.jsx)(n.z,{variant:"ghost",size:"icon",onClick:()=>P(!O),title:O?"Hide Subtasks":"Show Subtasks",children:O?(0,t.jsx)(g.Z,{className:"h-4 w-4"}):(0,t.jsx)(f.Z,{className:"h-4 w-4"})})]}),(0,t.jsxs)("span",{className:"text-xs text-gray-400",children:["Created ",new Date(s.createdAt).toLocaleDateString()]})]}),O&&(0,t.jsx)("div",{className:"mt-3 border-t pt-2 space-y-2",children:(s.subtasks||[]).map(e=>(0,t.jsxs)("div",{className:"flex items-center gap-2 pl-4 group",children:[(0,t.jsx)("button",{className:"flex items-center justify-center h-5 w-5 rounded-full border border-gray-300 bg-white text-gray-400 hover:bg-gray-100 focus:outline-none","aria-label":"Toggle subtask status",onClick:()=>null==Z?void 0:Z(e.id,e.status===y.h.COMPLETED?y.h.TODO:y.h.COMPLETED),children:e.status===y.h.COMPLETED?(0,t.jsx)(v.Z,{className:"h-4 w-4 text-green-600"}):(0,t.jsx)(N.Z,{className:"h-4 w-4 text-gray-400"})}),(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("span",{className:e.status===y.h.COMPLETED?"line-through opacity-70 text-gray-500":"",children:e.title}),(0,t.jsxs)("div",{className:"flex gap-2 items-center text-xs mt-1",children:[w(e.priority),e.assignedTo&&e.assignedTo.name&&(0,t.jsxs)("span",{className:"text-gray-500",children:["@",e.assignedTo.name]}),e.dueDate&&(0,t.jsxs)("span",{className:"text-gray-400",children:["Due: ",new Date(e.dueDate).toLocaleDateString()]})]})]}),(0,t.jsxs)(b.h_,{open:H===e.id,onOpenChange:s=>z(s?e.id:null),children:[(0,t.jsx)(b.$F,{asChild:!0,children:(0,t.jsx)(n.z,{variant:"ghost",size:"icon",className:"opacity-0 group-hover:opacity-100",children:(0,t.jsx)(o.Z,{className:"h-4 w-4"})})}),(0,t.jsxs)(b.AW,{align:"end",children:[(0,t.jsxs)(b.Xi,{onClick:()=>null==E?void 0:E(e),children:[(0,t.jsx)(u.Z,{className:"mr-2 h-4 w-4"})," Edit Subtask"]}),(0,t.jsx)(b.VD,{}),(0,t.jsxs)(b.Xi,{onClick:()=>null==S?void 0:S(e.id),className:"text-red-600",children:[(0,t.jsx)(x.Z,{className:"mr-2 h-4 w-4"})," Delete Subtask"]})]})]})]},e.id))})]})})};var T=a(74291),D=a(40279),E=a(23675),S=a(75060),Z=a(95937),O=a(15291),P=a(22252),A=a(32489),I=a(15863);let H=[{value:y.h.TODO,label:"To Do"},{value:y.h.IN_PROGRESS,label:"In Progress"},{value:y.h.COMPLETED,label:"Completed"},{value:y.h.CANCELLED,label:"Cancelled"}],z=[{value:y.T.LOW,label:"Low"},{value:y.T.MEDIUM,label:"Medium"},{value:y.T.HIGH,label:"High"},{value:y.T.CRITICAL,label:"Critical"}],L=e=>{var s;let{open:a,onClose:r,onSubmit:d,task:c,projects:o,users:u,parentTask:x,loading:m=!1,error:j,defaultProjectId:g}=e,[f,v]=(0,l.useState)({title:"",description:"",status:y.h.TODO,priority:y.T.MEDIUM,project:"",assignedTo:"",dueDate:"",estimatedHours:0,actualHours:0,tags:[]}),[N,b]=(0,l.useState)(""),w=!!c,k=!!x;(0,l.useEffect)(()=>{if(c){var e;v({title:c.title,description:c.description||"",status:c.status,priority:c.priority,assignedTo:(null===(e=c.assignedTo)||void 0===e?void 0:e.id)||"unassigned",dueDate:c.dueDate||"",estimatedHours:c.estimatedHours||0,actualHours:c.actualHours||0,tags:c.tags||[]})}else v({title:"",description:"",status:y.h.TODO,priority:y.T.MEDIUM,project:g||"",parentTaskId:null==x?void 0:x.id,assignedTo:"unassigned",dueDate:"",estimatedHours:0,actualHours:0,tags:[]})},[c,x,g]);let C=(e,s)=>{v(a=>({...a,[e]:s}))},L=()=>{var e;let s=N.trim();!s||(null===(e=f.tags)||void 0===e?void 0:e.includes(s))||(C("tags",[...f.tags||[],s]),b(""))},_=e=>{var s;C("tags",(null===(s=f.tags)||void 0===s?void 0:s.filter(s=>s!==e))||[])},R=()=>{b(""),r()};return(0,t.jsx)(T.Vq,{open:a,onOpenChange:R,children:(0,t.jsxs)(T.cZ,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,t.jsxs)(T.fK,{children:[(0,t.jsx)(T.$N,{className:"text-xl font-semibold bg-gradient-primary bg-clip-text text-transparent",children:w?"Edit ".concat(k?"Subtask":"Task"):"Create ".concat(k?"Subtask":"Task")}),x&&(0,t.jsxs)("p",{className:"text-sm text-gray-600 mt-1",children:["Parent Task: ",x.title]})]}),(0,t.jsxs)("div",{className:"space-y-6",children:[j&&(0,t.jsxs)(Z.bZ,{variant:"destructive",children:[(0,t.jsx)(P.Z,{className:"h-4 w-4"}),(0,t.jsx)(Z.X,{children:j})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)(S._,{htmlFor:"title",children:"Title *"}),(0,t.jsx)(D.I,{id:"title",value:f.title,onChange:e=>C("title",e.target.value),placeholder:"Enter task title",className:"mt-1"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)(S._,{htmlFor:"description",children:"Description"}),(0,t.jsx)(E.g,{id:"description",value:f.description,onChange:e=>C("description",e.target.value),placeholder:"Enter task description",rows:3,className:"mt-1"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(S._,{htmlFor:"status",children:"Status"}),(0,t.jsxs)(O.Ph,{value:f.status,onValueChange:e=>C("status",e),children:[(0,t.jsx)(O.i4,{className:"mt-1",children:(0,t.jsx)(O.ki,{placeholder:"Select status"})}),(0,t.jsx)(O.Bw,{children:H.map(e=>(0,t.jsx)(O.Ql,{value:e.value,children:e.label},e.value))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(S._,{htmlFor:"priority",children:"Priority"}),(0,t.jsxs)(O.Ph,{value:f.priority,onValueChange:e=>C("priority",e),children:[(0,t.jsx)(O.i4,{className:"mt-1",children:(0,t.jsx)(O.ki,{placeholder:"Select priority"})}),(0,t.jsx)(O.Bw,{children:z.map(e=>(0,t.jsx)(O.Ql,{value:e.value,children:e.label},e.value))})]})]}),!k&&(0,t.jsxs)("div",{children:[(0,t.jsx)(S._,{htmlFor:"project",children:"Project *"}),(0,t.jsxs)(O.Ph,{value:c?"object"==typeof c.project&&c.project&&"id"in c.project?c.project.id:"string"==typeof c.project?c.project:"":f.project,onValueChange:e=>C("project",e),disabled:!!c,children:[(0,t.jsx)(O.i4,{className:"mt-1",children:(0,t.jsx)(O.ki,{placeholder:"Select project"})}),(0,t.jsx)(O.Bw,{children:o.map(e=>(0,t.jsx)(O.Ql,{value:e.id,children:e.name},e.id))})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(S._,{htmlFor:"assignedTo",children:"Assigned To"}),(0,t.jsxs)(O.Ph,{value:f.assignedTo,onValueChange:e=>C("assignedTo",e),children:[(0,t.jsx)(O.i4,{className:"mt-1",children:(0,t.jsx)(O.ki,{placeholder:"Select assignee"})}),(0,t.jsxs)(O.Bw,{children:[(0,t.jsx)(O.Ql,{value:"unassigned",children:"Unassigned"}),u.map(e=>(0,t.jsxs)(O.Ql,{value:e.id,children:[e.name," (",e.email,")"]},e.id))]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(S._,{htmlFor:"dueDate",children:"Due Date"}),(0,t.jsxs)("div",{className:"relative mt-1",children:[(0,t.jsx)(D.I,{id:"dueDate",type:"date",value:f.dueDate,onChange:e=>C("dueDate",e.target.value),className:"pl-10"}),(0,t.jsx)(h.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)(S._,{htmlFor:"estimatedHours",children:"Estimated Hours"}),(0,t.jsx)(D.I,{id:"estimatedHours",type:"number",value:f.estimatedHours,onChange:e=>C("estimatedHours",parseFloat(e.target.value)||0),min:"0",step:"0.5",className:"mt-1"})]}),w&&(0,t.jsxs)("div",{children:[(0,t.jsx)(S._,{htmlFor:"actualHours",children:"Actual Hours"}),(0,t.jsx)(D.I,{id:"actualHours",type:"number",value:f.actualHours,onChange:e=>C("actualHours",parseFloat(e.target.value)||0),min:"0",step:"0.5",className:"mt-1"})]}),(0,t.jsxs)("div",{className:"md:col-span-2",children:[(0,t.jsx)(S._,{children:"Tags"}),(0,t.jsxs)("div",{className:"mt-1",children:[(0,t.jsx)("div",{className:"flex flex-wrap gap-2 mb-2",children:null===(s=f.tags)||void 0===s?void 0:s.map((e,s)=>(0,t.jsxs)(i.C,{variant:"secondary",className:"flex items-center gap-1",children:[e,(0,t.jsx)("button",{type:"button",onClick:()=>_(e),className:"ml-1 hover:text-red-600",children:(0,t.jsx)(A.Z,{className:"h-3 w-3"})})]},s))}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(D.I,{placeholder:"Add tag",value:N,onChange:e=>b(e.target.value),onKeyPress:e=>{"Enter"===e.key&&(e.preventDefault(),L())},className:"flex-1"}),(0,t.jsx)(n.z,{type:"button",onClick:L,variant:"outline",size:"sm",children:(0,t.jsx)(p.Z,{className:"h-4 w-4"})})]})]})]})]})]}),(0,t.jsxs)(T.cN,{children:[(0,t.jsx)(n.z,{type:"button",variant:"outline",onClick:R,disabled:m,children:"Cancel"}),(0,t.jsxs)(n.z,{type:"button",onClick:()=>{var e,s;let a={...f};(null===(e=a.description)||void 0===e?void 0:e.trim())||delete a.description,"unassigned"===a.assignedTo&&delete a.assignedTo,a.dueDate||delete a.dueDate,a.estimatedHours||delete a.estimatedHours,a.actualHours||delete a.actualHours,(null===(s=a.tags)||void 0===s?void 0:s.length)||delete a.tags,d(a)},disabled:m||!f.title.trim()||!k&&!c&&!f.project,className:"modern-button",children:[m&&(0,t.jsx)(I.Z,{className:"mr-2 h-4 w-4 animate-spin"}),m?"Saving...":w?"Update":"Create"]})]})]})})};var _=a(82431),R=a(34853),M=a(91723),F=a(73247),V=a(90740),Q=a(45131),U=a(89441),G=a(93448);let Y=e=>{let{projectId:s,showProjectFilter:a=!0}=e,[i,d]=(0,l.useState)([]),[c,o]=(0,l.useState)([]),[u,x]=(0,l.useState)([]),[m,h]=(0,l.useState)(!0),[j,g]=(0,l.useState)(null),[f,N]=(0,l.useState)(!1),[b,w]=(0,l.useState)(null),[k,T]=(0,l.useState)(null),[E,S]=(0,l.useState)(!1),[Z,P]=(0,l.useState)(null),[A,H]=(0,l.useState)({project:s||"",status:"",assignedTo:"",search:"",mainTasksOnly:!1}),[z,Y]=(0,l.useState)(1),[B,X]=(0,l.useState)(1),[$,W]=(0,l.useState)(0);(0,l.useEffect)(()=>{q()},[]),(0,l.useEffect)(()=>{K()},[A,z]);let q=async()=>{try{let[e,s]=await Promise.all([U.Ew.getProjects(),U.Ew.getUsers()]);o(e.projects||[]),x(s.users||[])}catch(e){console.error("Failed to load initial data:",e),g("Failed to load projects and users")}},K=async()=>{try{var e,s;h(!0),g(null);let a={page:z,limit:10,includeSubtasks:!0,mainTasksOnly:A.mainTasksOnly,...A.project&&{project:A.project},...A.status&&{status:A.status},...A.assignedTo&&{assignedTo:A.assignedTo}},t=await U.Ew.getTasks(a),l=[];if(Array.isArray(t)?l=t:t.tasks&&Array.isArray(t.tasks)?l=t.tasks:t.data&&Array.isArray(t.data)?l=t.data:(console.warn("Unexpected response structure:",t),l=[]),A.search){let e=A.search.toLowerCase();l=l.filter(s=>s.title&&s.title.toLowerCase().includes(e)||s.description&&s.description.toLowerCase().includes(e)||Array.isArray(s.tags)&&s.tags.some(s=>s&&s.toLowerCase().includes(e)))}d(l),X((null===(e=t.pagination)||void 0===e?void 0:e.pages)||1),W((null===(s=t.pagination)||void 0===s?void 0:s.total)||l.length)}catch(e){console.error("Failed to load tasks:",e),g("Failed to load tasks")}finally{h(!1)}},J=()=>{w(null),T(null),P(null),N(!0)},ee=e=>{w(e),T(null),P(null),N(!0)},es=e=>{let s=i.find(s=>s.id===e);s&&(w(null),T(s),P(null),N(!0))},ea=e=>{var s;w({...e,project:(null===(s=i.find(s=>s.subtasks.some(s=>s.id===e.id)))||void 0===s?void 0:s.project)||"",subtasks:[],subtaskCount:0,completedSubtaskCount:0}),T(null),P(null),N(!0)},et=async e=>{try{S(!0),P(null),b?await U.Ew.updateTask(b.id,e):k?await U.Ew.createSubtask(k.id,e):await U.Ew.createTask(e),N(!1),w(null),T(null),await K()}catch(e){var s,a;console.error("Failed to save task:",e),P((null===(a=e.response)||void 0===a?void 0:null===(s=a.data)||void 0===s?void 0:s.detail)||"Failed to save task")}finally{S(!1)}},el=async e=>{if(confirm("Are you sure you want to delete this task?"))try{await U.Ew.deleteTask(e),await K()}catch(e){console.error("Failed to delete task:",e),g("Failed to delete task")}},er=async e=>{if(confirm("Are you sure you want to delete this subtask?"))try{await U.Ew.deleteTask(e),await K()}catch(e){console.error("Failed to delete subtask:",e),g("Failed to delete subtask")}},en=async(e,s)=>{try{await U.Ew.updateTask(e,{status:s}),await K()}catch(e){console.error("Failed to update task status:",e),g("Failed to update task status")}},ei=(e,s)=>{let a="all"===s?"":s;H(s=>({...s,[e]:a})),Y(1)},ed=(()=>{let e=i.length;return{totalTasks:e,completedTasks:i.filter(e=>e.status===y.h.COMPLETED).length,inProgressTasks:i.filter(e=>e.status===y.h.IN_PROGRESS).length,todoTasks:i.filter(e=>e.status===y.h.TODO).length}})();return(0,t.jsxs)("div",{className:"space-y-6",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold bg-gradient-primary bg-clip-text text-transparent",children:"Tasks"}),$>0&&(0,t.jsxs)("p",{className:"text-gray-600 mt-1",children:[$," tasks total"]})]}),(0,t.jsxs)("div",{className:"flex gap-3",children:[(0,t.jsx)(n.z,{variant:"outline",size:"icon",onClick:K,disabled:m,children:(0,t.jsx)(_.Z,{className:(0,G.cn)("h-4 w-4",m&&"animate-spin")})}),(0,t.jsxs)(n.z,{onClick:J,className:"modern-button",children:[(0,t.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"Add Task"]})]})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,t.jsx)(r.Zb,{className:"modern-card",children:(0,t.jsx)(r.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,t.jsx)(v.Z,{className:"h-5 w-5 text-blue-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:ed.totalTasks}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Total Tasks"})]})]})})}),(0,t.jsx)(r.Zb,{className:"modern-card",children:(0,t.jsx)(r.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-green-100 rounded-lg",children:(0,t.jsx)(v.Z,{className:"h-5 w-5 text-green-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:ed.completedTasks}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Completed"})]})]})})}),(0,t.jsx)(r.Zb,{className:"modern-card",children:(0,t.jsx)(r.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-blue-100 rounded-lg",children:(0,t.jsx)(R.Z,{className:"h-5 w-5 text-blue-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:ed.inProgressTasks}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"In Progress"})]})]})})}),(0,t.jsx)(r.Zb,{className:"modern-card",children:(0,t.jsx)(r.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:"p-2 bg-yellow-100 rounded-lg",children:(0,t.jsx)(M.Z,{className:"h-5 w-5 text-yellow-600"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-2xl font-bold text-gray-900",children:ed.todoTasks}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"To Do"})]})]})})})]}),(0,t.jsx)(r.Zb,{className:"modern-card",children:(0,t.jsx)(r.aY,{className:"p-6",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-6 gap-4 items-end",children:[(0,t.jsx)("div",{className:"md:col-span-2",children:(0,t.jsxs)("div",{className:"relative",children:[(0,t.jsx)(F.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),(0,t.jsx)(D.I,{placeholder:"Search tasks...",value:A.search,onChange:e=>ei("search",e.target.value),className:"pl-10"})]})}),a&&(0,t.jsx)("div",{children:(0,t.jsxs)(O.Ph,{value:A.project||"all",onValueChange:e=>ei("project",e),children:[(0,t.jsx)(O.i4,{children:(0,t.jsx)(O.ki,{placeholder:"All Projects"})}),(0,t.jsxs)(O.Bw,{children:[(0,t.jsx)(O.Ql,{value:"all",children:"All Projects"}),c.map(e=>(0,t.jsx)(O.Ql,{value:e.id,children:e.name},e.id))]})]})}),(0,t.jsx)("div",{children:(0,t.jsxs)(O.Ph,{value:A.status||"all",onValueChange:e=>ei("status",e),children:[(0,t.jsx)(O.i4,{children:(0,t.jsx)(O.ki,{placeholder:"All Status"})}),(0,t.jsxs)(O.Bw,{children:[(0,t.jsx)(O.Ql,{value:"all",children:"All Status"}),(0,t.jsx)(O.Ql,{value:y.h.TODO,children:"To Do"}),(0,t.jsx)(O.Ql,{value:y.h.IN_PROGRESS,children:"In Progress"}),(0,t.jsx)(O.Ql,{value:y.h.COMPLETED,children:"Completed"}),(0,t.jsx)(O.Ql,{value:y.h.CANCELLED,children:"Cancelled"})]})]})}),(0,t.jsx)("div",{children:(0,t.jsxs)(O.Ph,{value:A.assignedTo||"all",onValueChange:e=>ei("assignedTo",e),children:[(0,t.jsx)(O.i4,{children:(0,t.jsx)(O.ki,{placeholder:"All Users"})}),(0,t.jsxs)(O.Bw,{children:[(0,t.jsx)(O.Ql,{value:"all",children:"All Users"}),u.map(e=>{var s,a;return(0,t.jsx)(O.Ql,{value:e.id||e.userId||"",children:"".concat(null!==(s=e.firstName)&&void 0!==s?s:""," ").concat(null!==(a=e.lastName)&&void 0!==a?a:"").trim()||e.userName},e.id||e.userId||"")})]})]})}),(0,t.jsx)("div",{children:(0,t.jsxs)(O.Ph,{value:A.mainTasksOnly?"main":"all",onValueChange:e=>ei("mainTasksOnly","main"===e),children:[(0,t.jsx)(O.i4,{children:(0,t.jsx)(O.ki,{placeholder:"View"})}),(0,t.jsxs)(O.Bw,{children:[(0,t.jsx)(O.Ql,{value:"all",children:"All Tasks"}),(0,t.jsx)(O.Ql,{value:"main",children:"Main Tasks Only"})]})]})}),(0,t.jsx)("div",{children:(0,t.jsxs)(n.z,{variant:"outline",onClick:()=>{H({project:s||"",status:"",assignedTo:"",search:"",mainTasksOnly:!1}),Y(1)},className:"w-full",children:[(0,t.jsx)(V.Z,{className:"h-4 w-4 mr-2"}),"Clear"]})})]})})}),j&&(0,t.jsx)(r.Zb,{className:"border-red-200 bg-red-50",children:(0,t.jsx)(r.aY,{className:"p-4",children:(0,t.jsxs)("div",{className:"flex items-center gap-2 text-red-800",children:[(0,t.jsx)(Q.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{children:j}),(0,t.jsx)(n.z,{variant:"ghost",size:"sm",onClick:()=>g(null),className:"ml-auto text-red-600 hover:text-red-800",children:"\xd7"})]})})}),m&&(0,t.jsx)("div",{className:"flex justify-center py-8",children:(0,t.jsx)(I.Z,{className:"h-8 w-8 animate-spin text-blue-600"})}),!m&&(0,t.jsx)(t.Fragment,{children:0===i.length?(0,t.jsx)(r.Zb,{className:"modern-card",children:(0,t.jsxs)(r.aY,{className:"p-8 text-center",children:[(0,t.jsx)(v.Z,{className:"h-16 w-16 text-gray-400 mx-auto mb-4"}),(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-2",children:"No tasks found"}),(0,t.jsx)("p",{className:"text-gray-600 mb-4",children:Object.values(A).some(e=>e)?"Try adjusting your filters or create a new task.":"Get started by creating your first task."}),(0,t.jsxs)(n.z,{onClick:J,className:"modern-button",children:[(0,t.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"Create Task"]})]})}):(0,t.jsxs)("div",{className:"space-y-4",children:[i.map(e=>(0,t.jsx)(C,{task:e,onEdit:ee,onDelete:el,onStatusChange:en,onAddSubtask:es,onEditSubtask:ea,onDeleteSubtask:er,onSubtaskStatusChange:en},e.id)),B>1&&(0,t.jsxs)("div",{className:"flex justify-center gap-2 mt-6",children:[(0,t.jsx)(n.z,{variant:"outline",onClick:()=>Y(Math.max(1,z-1)),disabled:1===z,children:"Previous"}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:Array.from({length:Math.min(5,B)},(e,s)=>{let a=s+1;return(0,t.jsx)(n.z,{variant:z===a?"default":"outline",size:"sm",onClick:()=>Y(a),children:a},a)})}),(0,t.jsx)(n.z,{variant:"outline",onClick:()=>Y(Math.min(B,z+1)),disabled:z===B,children:"Next"})]})]})}),(0,t.jsx)(L,{open:f,onClose:()=>N(!1),onSubmit:et,task:null!=b?b:void 0,parentTask:null!=k?k:void 0,projects:c,users:u.map(e=>{var s,a;return{id:e.id||e.userId||"",name:"".concat(null!==(s=e.firstName)&&void 0!==s?s:""," ").concat(null!==(a=e.lastName)&&void 0!==a?a:"").trim()||e.userName,email:e.email}}),loading:E,error:null!=Z?Z:void 0,defaultProjectId:s})]})}},95937:function(e,s,a){a.d(s,{X:function(){return c},bZ:function(){return d}});var t=a(57437),l=a(2265),r=a(90535),n=a(93448);let i=(0,r.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",success:"border-green-500/50 text-green-700 bg-green-50 [&>svg]:text-green-600",warning:"border-yellow-500/50 text-yellow-700 bg-yellow-50 [&>svg]:text-yellow-600",info:"border-blue-500/50 text-blue-700 bg-blue-50 [&>svg]:text-blue-600"}},defaultVariants:{variant:"default"}}),d=l.forwardRef((e,s)=>{let{className:a,variant:l,...r}=e;return(0,t.jsx)("div",{ref:s,role:"alert",className:(0,n.cn)(i({variant:l}),a),...r})});d.displayName="Alert",l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("h5",{ref:s,className:(0,n.cn)("mb-1 font-medium leading-none tracking-tight",a),...l})}).displayName="AlertTitle";let c=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("div",{ref:s,className:(0,n.cn)("text-sm [&_p]:leading-relaxed",a),...l})});c.displayName="AlertDescription"},74291:function(e,s,a){a.d(s,{$N:function(){return j},Be:function(){return p},Vq:function(){return d},cN:function(){return h},cZ:function(){return x},fK:function(){return m},hg:function(){return c}});var t=a(57437),l=a(2265),r=a(49027),n=a(32489),i=a(93448);let d=r.fC,c=r.xz,o=r.h_;r.x8;let u=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.aV,{ref:s,className:(0,i.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...l})});u.displayName=r.aV.displayName;let x=l.forwardRef((e,s)=>{let{className:a,children:l,...d}=e;return(0,t.jsxs)(o,{children:[(0,t.jsx)(u,{}),(0,t.jsxs)(r.VY,{ref:s,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...d,children:[l,(0,t.jsxs)(r.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,t.jsx)(n.Z,{className:"h-4 w-4"}),(0,t.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});x.displayName=r.VY.displayName;let m=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",s),...a})};m.displayName="DialogHeader";let h=e=>{let{className:s,...a}=e;return(0,t.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",s),...a})};h.displayName="DialogFooter";let j=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.Dx,{ref:s,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",a),...l})});j.displayName=r.Dx.displayName;let p=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.dk,{ref:s,className:(0,i.cn)("text-sm text-muted-foreground",a),...l})});p.displayName=r.dk.displayName},40279:function(e,s,a){a.d(s,{I:function(){return n}});var t=a(57437),l=a(2265),r=a(93448);let n=l.forwardRef((e,s)=>{let{className:a,type:l,...n}=e;return(0,t.jsx)("input",{type:l,className:(0,r.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:s,...n})});n.displayName="Input"},75060:function(e,s,a){a.d(s,{_:function(){return c}});var t=a(57437),l=a(2265),r=a(6394),n=a(90535),i=a(93448);let d=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),c=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.f,{ref:s,className:(0,i.cn)(d(),a),...l})});c.displayName=r.f.displayName},7204:function(e,s,a){a.d(s,{E:function(){return i}});var t=a(57437),l=a(2265),r=a(60610),n=a(93448);let i=l.forwardRef((e,s)=>{let{className:a,value:l,...i}=e;return(0,t.jsx)(r.fC,{ref:s,className:(0,n.cn)("relative h-4 w-full overflow-hidden rounded-full bg-secondary",a),...i,children:(0,t.jsx)(r.z$,{className:"h-full w-full flex-1 bg-gradient-to-r from-blue-500 to-purple-600 transition-all",style:{transform:"translateX(-".concat(100-(l||0),"%)")}})})});i.displayName=r.fC.displayName},15291:function(e,s,a){a.d(s,{Bw:function(){return j},Ph:function(){return o},Ql:function(){return p},i4:function(){return x},ki:function(){return u}});var t=a(57437),l=a(2265),r=a(33911),n=a(40875),i=a(22135),d=a(30401),c=a(93448);let o=r.fC;r.ZA;let u=r.B4,x=l.forwardRef((e,s)=>{let{className:a,children:l,...i}=e;return(0,t.jsxs)(r.xz,{ref:s,className:(0,c.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",a),...i,children:[l,(0,t.jsx)(r.JO,{asChild:!0,children:(0,t.jsx)(n.Z,{className:"h-4 w-4 opacity-50"})})]})});x.displayName=r.xz.displayName;let m=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.u_,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...l,children:(0,t.jsx)(i.Z,{className:"h-4 w-4"})})});m.displayName=r.u_.displayName;let h=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.$G,{ref:s,className:(0,c.cn)("flex cursor-default items-center justify-center py-1",a),...l,children:(0,t.jsx)(n.Z,{className:"h-4 w-4"})})});h.displayName=r.$G.displayName;let j=l.forwardRef((e,s)=>{let{className:a,children:l,position:n="popper",...i}=e;return(0,t.jsx)(r.h_,{children:(0,t.jsxs)(r.VY,{ref:s,className:(0,c.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",a),position:n,...i,children:[(0,t.jsx)(m,{}),(0,t.jsx)(r.l_,{className:(0,c.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:l}),(0,t.jsx)(h,{})]})})});j.displayName=r.VY.displayName,l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.__,{ref:s,className:(0,c.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",a),...l})}).displayName=r.__.displayName;let p=l.forwardRef((e,s)=>{let{className:a,children:l,...n}=e;return(0,t.jsxs)(r.ck,{ref:s,className:(0,c.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",a),...n,children:[(0,t.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,t.jsx)(r.wU,{children:(0,t.jsx)(d.Z,{className:"h-4 w-4"})})}),(0,t.jsx)(r.eT,{children:l})]})});p.displayName=r.ck.displayName,l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)(r.Z0,{ref:s,className:(0,c.cn)("-mx-1 my-1 h-px bg-muted",a),...l})}).displayName=r.Z0.displayName},23675:function(e,s,a){a.d(s,{g:function(){return n}});var t=a(57437),l=a(2265),r=a(93448);let n=l.forwardRef((e,s)=>{let{className:a,...l}=e;return(0,t.jsx)("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:s,...l})});n.displayName="Textarea"},28977:function(e,s,a){var t,l,r,n;a.d(s,{T:function(){return l},h:function(){return t}}),(r=t||(t={})).TODO="todo",r.IN_PROGRESS="in_progress",r.COMPLETED="completed",r.CANCELLED="cancelled",(n=l||(l={})).LOW="low",n.MEDIUM="medium",n.HIGH="high",n.CRITICAL="critical"}}]);