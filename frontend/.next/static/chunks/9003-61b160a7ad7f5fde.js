"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9003],{32660:function(e,t,n){n.d(t,{Z:function(){return a}});let a=(0,n(39763).Z)("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]])},15863:function(e,t,n){n.d(t,{Z:function(){return a}});let a=(0,n(39763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},83229:function(e,t,n){n.d(t,{Z:function(){return a}});let a=(0,n(39763).Z)("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]])},11888:function(e,t,n){n.d(t,{cl:function(){return a.default}});var a=n(78742);n(28278),n(59399)},40279:function(e,t,n){n.d(t,{I:function(){return i}});var a=n(57437),r=n(2265),o=n(93448);let i=r.forwardRef((e,t)=>{let{className:n,type:r,...i}=e;return(0,a.jsx)("input",{type:r,className:(0,o.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...i})});i.displayName="Input"},75060:function(e,t,n){n.d(t,{_:function(){return l}});var a=n(57437),r=n(2265),o=n(6394),i=n(90535),s=n(93448);let c=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)(o.f,{ref:t,className:(0,s.cn)(c(),n),...r})});l.displayName=o.f.displayName},94589:function(e,t,n){n.d(t,{r:function(){return s}});var a=n(57437),r=n(2265),o=n(50721),i=n(93448);let s=r.forwardRef((e,t)=>{let{className:n,...r}=e;return(0,a.jsx)(o.fC,{className:(0,i.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",n),...r,ref:t,children:(0,a.jsx)(o.bU,{className:(0,i.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})})});s.displayName=o.fC.displayName},14362:function(e,t,n){n.d(t,{AuthProvider:function(){return c},a:function(){return l}});var a=n(57437),r=n(2265),o=n(89441),i=n(60621);let s=(0,r.createContext)(void 0);function c(e){let{children:t}=e,[n,c]=(0,r.useState)(null),[l,u]=(0,r.useState)(!0),[d,p]=(0,r.useState)([]),[w,f]=(0,r.useState)(null);(0,r.useEffect)(()=>{(async()=>{try{let e=new i.S;if(e.isSessionValid()){if(e.isTokenExpired()&&!await e.refreshAccessToken()){e.clearSession(),c(null),u(!1);return}let t=e.getSession();if(t&&t.token&&t.user){c(t.user);let e=o.Ew.getUserTenants();if(e.length>0){p(e);let t=o.Ew.getCurrentTenant();t?f(t):(f(e[0]),o.Ew.setTenantId(e[0].id))}}else e.clearSession(),c(null)}else e.clearSession(),c(null)}catch(e){console.error("AuthContext - Auth initialization error:",e),new i.S().clearSession(),c(null)}finally{u(!1)}})()},[]);let g=async e=>{try{u(!0);let t=await o.Ew.login(e);if(t.success&&t.user){c(t.user);let e=o.Ew.getUserTenants();if(e.length>0){p(e);let t=o.Ew.getCurrentTenant();t&&f(t)}return!0}return!1}catch(e){return console.error("AuthContext - Login failed:",e),!1}finally{u(!1)}},y=async()=>{try{await o.Ew.logout()}catch(e){console.error("AuthContext - Logout error:",e)}finally{let e=new i.S;c(null),p([]),f(null),e.clearSession(),o.Ew.setTenantId(null),window.location.href="/login"}},v=async e=>{try{let t=await o.Ew.switchTenant(e);return f(t),!0}catch(e){return console.error("AuthContext - Failed to switch tenant:",e),!1}};return(0,a.jsx)(s.Provider,{value:{user:n,loading:l,isAuthenticated:!!n,tenants:d,currentTenant:w,login:g,logout:y,switchTenant:v},children:t})}function l(){let e=(0,r.useContext)(s);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},46735:function(e,t,n){n.d(t,{j:function(){return o}});var a=n(89441);class r{async getWarehouses(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return(await a.Ew.get("/inventory/warehouses?skip=".concat(e,"&limit=").concat(t))).data}async getWarehouse(e){return(await a.Ew.get("/inventory/warehouses/".concat(e))).data}async createWarehouse(e){return(await a.Ew.post("/inventory/warehouses",e)).data}async updateWarehouse(e,t){return(await a.Ew.put("/inventory/warehouses/".concat(e),t)).data}async deleteWarehouse(e){await a.Ew.delete("/inventory/warehouses/".concat(e))}async getStorageLocations(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,r=new URLSearchParams;return e&&r.append("warehouse_id",e),r.append("skip",t.toString()),r.append("limit",n.toString()),(await a.Ew.get("/inventory/storage-locations?".concat(r.toString()))).data}async getStorageLocation(e){return(await a.Ew.get("/inventory/storage-locations/".concat(e))).data}async createStorageLocation(e){return(await a.Ew.post("/inventory/storage-locations",e)).data}async updateStorageLocation(e,t){return(await a.Ew.put("/inventory/storage-locations/".concat(e),t)).data}async deleteStorageLocation(e){await a.Ew.delete("/inventory/storage-locations/".concat(e))}async getStockMovements(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,o=new URLSearchParams;return e&&o.append("product_id",e),t&&o.append("warehouse_id",t),o.append("skip",n.toString()),o.append("limit",r.toString()),(await a.Ew.get("/inventory/stock-movements?".concat(o.toString()))).data}async getStockMovement(e){return(await a.Ew.get("/inventory/stock-movements/".concat(e))).data}async createStockMovement(e){return(await a.Ew.post("/inventory/stock-movements",e)).data}async updateStockMovement(e,t){return(await a.Ew.put("/inventory/stock-movements/".concat(e),t)).data}async getSuppliers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return(await a.Ew.get("/inventory/suppliers?skip=".concat(e,"&limit=").concat(t))).data}async getSupplier(e){return(await a.Ew.get("/inventory/suppliers/".concat(e))).data}async createSupplier(e){return(await a.Ew.post("/inventory/suppliers",e)).data}async updateSupplier(e,t){return(await a.Ew.put("/inventory/suppliers/".concat(e),t)).data}async deleteSupplier(e){await a.Ew.delete("/inventory/suppliers/".concat(e))}async getPurchaseOrders(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,r=new URLSearchParams;return e&&r.append("status",e),r.append("skip",t.toString()),r.append("limit",n.toString()),(await a.Ew.get("/inventory/purchase-orders?".concat(r.toString()))).data}async getPurchaseOrder(e){return(await a.Ew.get("/inventory/purchase-orders/".concat(e))).data}async createPurchaseOrder(e){return(await a.Ew.post("/inventory/purchase-orders",e)).data}async updatePurchaseOrder(e,t){return(await a.Ew.put("/inventory/purchase-orders/".concat(e),t)).data}async deletePurchaseOrder(e){await a.Ew.delete("/inventory/purchase-orders/".concat(e))}async getReceivings(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,r=new URLSearchParams;return e&&r.append("status",e),r.append("skip",t.toString()),r.append("limit",n.toString()),(await a.Ew.get("/inventory/receivings?".concat(r.toString()))).data}async getReceiving(e){return(await a.Ew.get("/inventory/receivings/".concat(e))).data}async createReceiving(e){return(await a.Ew.post("/inventory/receivings",e)).data}async updateReceiving(e,t){return(await a.Ew.put("/inventory/receivings/".concat(e),t)).data}async deleteReceiving(e){await a.Ew.delete("/inventory/receivings/".concat(e))}async getInventoryDashboard(){return(await a.Ew.get("/inventory/dashboard")).data}}let o=new r},6394:function(e,t,n){n.d(t,{f:function(){return s}});var a=n(2265),r=n(66840),o=n(57437),i=a.forwardRef((e,t)=>(0,o.jsx)(r.WV.label,{...e,ref:t,onMouseDown:t=>{var n;t.target.closest("button, input, select, textarea")||(null===(n=e.onMouseDown)||void 0===n||n.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var s=i},50721:function(e,t,n){n.d(t,{bU:function(){return k},fC:function(){return E}});var a=n(2265),r=n(6741),o=n(98575),i=n(73966),s=n(80886),c=n(6718),l=n(90420),u=n(66840),d=n(57437),p="Switch",[w,f]=(0,i.b)(p),[g,y]=w(p),v=a.forwardRef((e,t)=>{let{__scopeSwitch:n,name:i,checked:c,defaultChecked:l,required:w,disabled:f,value:y="on",onCheckedChange:v,form:h,...b}=e,[E,k]=a.useState(null),x=(0,o.e)(t,e=>k(e)),R=a.useRef(!1),C=!E||h||!!E.closest("form"),[P,L]=(0,s.T)({prop:c,defaultProp:null!=l&&l,onChange:v,caller:p});return(0,d.jsxs)(g,{scope:n,checked:P,disabled:f,children:[(0,d.jsx)(u.WV.button,{type:"button",role:"switch","aria-checked":P,"aria-required":w,"data-state":S(P),"data-disabled":f?"":void 0,disabled:f,value:y,...b,ref:x,onClick:(0,r.M)(e.onClick,e=>{L(e=>!e),C&&(R.current=e.isPropagationStopped(),R.current||e.stopPropagation())})}),C&&(0,d.jsx)(m,{control:E,bubbles:!R.current,name:i,value:y,checked:P,required:w,disabled:f,form:h,style:{transform:"translateX(-100%)"}})]})});v.displayName=p;var h="SwitchThumb",b=a.forwardRef((e,t)=>{let{__scopeSwitch:n,...a}=e,r=y(h,n);return(0,d.jsx)(u.WV.span,{"data-state":S(r.checked),"data-disabled":r.disabled?"":void 0,...a,ref:t})});b.displayName=h;var m=a.forwardRef((e,t)=>{let{__scopeSwitch:n,control:r,checked:i,bubbles:s=!0,...u}=e,p=a.useRef(null),w=(0,o.e)(p,t),f=(0,c.D)(i),g=(0,l.t)(r);return a.useEffect(()=>{let e=p.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(f!==i&&t){let n=new Event("click",{bubbles:s});t.call(e,i),e.dispatchEvent(n)}},[f,i,s]),(0,d.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i,...u,tabIndex:-1,ref:w,style:{...u.style,...g,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function S(e){return e?"checked":"unchecked"}m.displayName="SwitchBubbleInput";var E=v,k=b}}]);