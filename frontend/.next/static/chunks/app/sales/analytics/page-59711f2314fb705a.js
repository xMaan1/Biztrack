(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[357],{83025:function(e,t,s){Promise.resolve().then(s.bind(s,16313))},16313:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return b}});var a=s(57437),n=s(2265),r=s(79820),i=s(12381),l=s(15291),c=s(75060),d=s(69174),o=s(87766),m=s(43163),u=s(11888),p=s(95252),x=s(58896),h=s(70525),g=s(46221),f=s(48664);let j=(0,s(39763).Z)("Activity",[["path",{d:"M22 12h-4l-3 9L9 3l-3 9H2",key:"d5dnw9"}]]);var y=s(95805),N=s(60044),v=s(99397);function b(){let[e,t]=(0,n.useState)([]),[s,b]=(0,n.useState)([]),[w,S]=(0,n.useState)([]),[C,O]=(0,n.useState)(!0),[L,A]=(0,n.useState)("30"),[E,T]=(0,n.useState)("all");(0,n.useEffect)(()=>{R()},[]);let R=async()=>{try{O(!0);let[e,s,a]=await Promise.all([o.ZP.getOpportunities({},1,100),o.ZP.getContacts({},1,100),o.ZP.getCompanies({},1,100)]);t(e.opportunities||[]),b(s.contacts||[]),S(a.companies||[])}catch(e){console.error("Error loading analytics data:",e)}finally{O(!1)}},{opportunities:_,contacts:Z,companies:D}=(()=>{let t=new Date(new Date().getTime()-864e5*parseInt(L));return{opportunities:e.filter(e=>!e.createdAt||new Date(e.createdAt)>=t),contacts:s.filter(e=>!e.createdAt||new Date(e.createdAt)>=t),companies:w.filter(e=>!e.createdAt||new Date(e.createdAt)>=t)}})(),P=Object.values(m.tc).map(e=>{let t=_.filter(t=>t.stage===e);return{stage:e,totalValue:t.reduce((e,t)=>e+(t.amount||0),0),count:t.length}}),I=_.reduce((e,t)=>e+(t.amount||0),0),M=_.reduce((e,t)=>e+(t.amount||0)*(t.probability||0)/100,0),k=_.length,U=_.filter(e=>e.stage===m.tc.CLOSED_WON).length,F=_.filter(e=>e.stage===m.tc.CLOSED_LOST).length,Y=k>0?U/k*100:0,z=k>0?F/k*100:0,G=_.filter(e=>e.stage===m.tc.CLOSED_WON).reduce((e,t)=>e+(t.amount||0),0),W=U>0?G/U:0,Q=Z.length,H=Z.filter(e=>e.type===m.uC.LEAD).length,$=Z.filter(e=>e.type===m.uC.CUSTOMER).length,V=H>0?$/H*100:0,B=D.length,q=D.filter(e=>e.industry===m.b5.TECHNOLOGY).length,J=D.filter(e=>e.industry===m.b5.FINANCE).length,K=_.filter(e=>e.amount&&e.amount>0).sort((e,t)=>(t.amount||0)-(e.amount||0)).slice(0,5);return C?(0,a.jsx)(u.cl,{children:(0,a.jsx)("div",{className:"container mx-auto p-6",children:(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"}),(0,a.jsx)("p",{className:"mt-4 text-lg",children:"Loading Analytics..."})]})})})}):(0,a.jsx)(u.cl,{children:(0,a.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Sales Analytics"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Comprehensive sales performance insights"})]}),(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(c._,{htmlFor:"timeRange",children:"Time Range"}),(0,a.jsxs)(l.Ph,{value:L,onValueChange:A,children:[(0,a.jsx)(l.i4,{className:"w-32",children:(0,a.jsx)(l.ki,{})}),(0,a.jsxs)(l.Bw,{children:[(0,a.jsx)(l.Ql,{value:"7",children:"Last 7 days"}),(0,a.jsx)(l.Ql,{value:"30",children:"Last 30 days"}),(0,a.jsx)(l.Ql,{value:"90",children:"Last 90 days"}),(0,a.jsx)(l.Ql,{value:"365",children:"Last year"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(c._,{htmlFor:"stage",children:"Stage Filter"}),(0,a.jsxs)(l.Ph,{value:E,onValueChange:T,children:[(0,a.jsx)(l.i4,{className:"w-40",children:(0,a.jsx)(l.ki,{placeholder:"All stages"})}),(0,a.jsxs)(l.Bw,{children:[(0,a.jsx)(l.Ql,{value:"all",children:"All stages"}),Object.values(m.tc).map(e=>(0,a.jsx)(l.Ql,{value:e,children:e.replace("_"," ")},e))]})]})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.ll,{className:"text-sm font-medium",children:"Total Pipeline"}),(0,a.jsx)(p.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(r.aY,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:["$",I.toLocaleString()]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[_.length," opportunities"]})]})]}),(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.ll,{className:"text-sm font-medium",children:"Weighted Pipeline"}),(0,a.jsx)(x.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(r.aY,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:["$",M.toLocaleString()]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Probability-adjusted"})]})]}),(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.ll,{className:"text-sm font-medium",children:"Win Rate"}),(0,a.jsx)(h.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(r.aY,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:[Y.toFixed(1),"%"]}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[U," won / ",k," total"]})]})]}),(0,a.jsxs)(r.Zb,{children:[(0,a.jsxs)(r.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(r.ll,{className:"text-sm font-medium",children:"Total Revenue"}),(0,a.jsx)(p.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(r.aY,{children:[(0,a.jsxs)("div",{className:"text-2xl font-bold",children:["$",G.toLocaleString()]}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Closed won deals"})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[(0,a.jsxs)(r.Zb,{children:[(0,a.jsx)(r.Ol,{children:(0,a.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(g.Z,{className:"h-5 w-5"}),"Pipeline by Stage"]})}),(0,a.jsx)(r.aY,{children:(0,a.jsx)("div",{className:"space-y-4",children:P.map(e=>{let{stage:t,totalValue:s,count:n}=e;return(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(d.C,{variant:"outline",children:t.replace("_"," ")}),(0,a.jsxs)("span",{className:"text-sm text-gray-600",children:["(",n,")"]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"font-semibold",children:["$",s.toLocaleString()]}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[I>0?(s/I*100).toFixed(1):0,"%"]})]})]},t)})})})]}),(0,a.jsxs)(r.Zb,{children:[(0,a.jsx)(r.Ol,{children:(0,a.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(f.Z,{className:"h-5 w-5"}),"Conversion Metrics"]})}),(0,a.jsx)(r.aY,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Win Rate"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-green-600 h-2 rounded-full",style:{width:"".concat(Y,"%")}})}),(0,a.jsxs)("span",{className:"text-sm font-semibold",children:[Y.toFixed(1),"%"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Loss Rate"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-red-600 h-2 rounded-full",style:{width:"".concat(z,"%")}})}),(0,a.jsxs)("span",{className:"text-sm font-semibold",children:[z.toFixed(1),"%"]})]})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("span",{className:"text-sm font-medium",children:"Lead to Customer"}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:(0,a.jsx)("div",{className:"bg-blue-600 h-2 rounded-full",style:{width:"".concat(V,"%")}})}),(0,a.jsxs)("span",{className:"text-sm font-semibold",children:[V.toFixed(1),"%"]})]})]})]})})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[(0,a.jsxs)(r.Zb,{children:[(0,a.jsx)(r.Ol,{children:(0,a.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(j,{className:"h-5 w-5"}),"Sales Performance"]})}),(0,a.jsxs)(r.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Avg Deal Size"}),(0,a.jsxs)("span",{className:"font-semibold",children:["$",W.toLocaleString()]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Avg Sales Cycle"}),(0,a.jsxs)("span",{className:"font-semibold",children:[30," days"]})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Total Deals"}),(0,a.jsx)("span",{className:"font-semibold",children:k})]})]})]}),(0,a.jsxs)(r.Zb,{children:[(0,a.jsx)(r.Ol,{children:(0,a.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(y.Z,{className:"h-5 w-5"}),"Contact Metrics"]})}),(0,a.jsxs)(r.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Total Contacts"}),(0,a.jsx)("span",{className:"font-semibold",children:Q})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Leads"}),(0,a.jsx)("span",{className:"font-semibold",children:H})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Customers"}),(0,a.jsx)("span",{className:"font-semibold",children:$})]})]})]}),(0,a.jsxs)(r.Zb,{children:[(0,a.jsx)(r.Ol,{children:(0,a.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(N.Z,{className:"h-5 w-5"}),"Company Metrics"]})}),(0,a.jsxs)(r.aY,{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Total Companies"}),(0,a.jsx)("span",{className:"font-semibold",children:B})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Customers"}),(0,a.jsx)("span",{className:"font-semibold",children:q})]}),(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("span",{className:"text-sm text-gray-600",children:"Prospects"}),(0,a.jsx)("span",{className:"font-semibold",children:J})]})]})]})]}),(0,a.jsxs)(r.Zb,{children:[(0,a.jsx)(r.Ol,{children:(0,a.jsxs)(r.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(h.Z,{className:"h-5 w-5"}),"Top Opportunities"]})}),(0,a.jsx)(r.aY,{children:0===K.length?(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No opportunities with amounts found."}):(0,a.jsx)("div",{className:"space-y-3",children:K.map((e,t)=>{var s;return(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsxs)("div",{className:"w-8 h-8 bg-blue-100 text-blue-600 rounded-full flex items-center justify-center text-sm font-semibold",children:["#",t+1]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.title}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[e.stage.replace("_"," ")," â€¢ ",e.probability||0,"% probability"]})]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"font-semibold text-lg",children:["$",null===(s=e.amount)||void 0===s?void 0:s.toLocaleString()]}),(0,a.jsx)("div",{className:"text-sm text-gray-500",children:e.closedDate?new Date(e.closedDate).toLocaleDateString():"No close date"})]})]},e.id)})})})]}),(0,a.jsxs)(r.Zb,{children:[(0,a.jsx)(r.Ol,{children:(0,a.jsx)(r.ll,{children:"Quick Actions"})}),(0,a.jsx)(r.aY,{children:(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)(i.z,{variant:"outline",onClick:()=>window.location.href="/crm/opportunities",children:[(0,a.jsx)(v.Z,{className:"w-4 h-4 mr-2"}),"New Opportunity"]}),(0,a.jsxs)(i.z,{variant:"outline",onClick:()=>window.location.href="/crm/contacts",children:[(0,a.jsx)(y.Z,{className:"w-4 h-4 mr-2"}),"Add Contact"]}),(0,a.jsxs)(i.z,{variant:"outline",onClick:()=>window.location.href="/crm/companies",children:[(0,a.jsx)(N.Z,{className:"w-4 h-4 mr-2"}),"Add Company"]}),(0,a.jsxs)(i.z,{variant:"outline",onClick:()=>window.location.href="/crm/leads",children:[(0,a.jsx)(x.Z,{className:"w-4 h-4 mr-2"}),"Manage Leads"]})]})})]})]})})}},11888:function(e,t,s){"use strict";s.d(t,{cl:function(){return a.default}});var a=s(78742);s(28278),s(59399)},75060:function(e,t,s){"use strict";s.d(t,{_:function(){return d}});var a=s(57437),n=s(2265),r=s(6394),i=s(90535),l=s(93448);let c=(0,i.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.f,{ref:t,className:(0,l.cn)(c(),s),...n})});d.displayName=r.f.displayName},15291:function(e,t,s){"use strict";s.d(t,{Bw:function(){return h},Ph:function(){return o},Ql:function(){return g},i4:function(){return u},ki:function(){return m}});var a=s(57437),n=s(2265),r=s(33911),i=s(40875),l=s(22135),c=s(30401),d=s(93448);let o=r.fC;r.ZA;let m=r.B4,u=n.forwardRef((e,t)=>{let{className:s,children:n,...l}=e;return(0,a.jsxs)(r.xz,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...l,children:[n,(0,a.jsx)(r.JO,{asChild:!0,children:(0,a.jsx)(i.Z,{className:"h-4 w-4 opacity-50"})})]})});u.displayName=r.xz.displayName;let p=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.u_,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...n,children:(0,a.jsx)(l.Z,{className:"h-4 w-4"})})});p.displayName=r.u_.displayName;let x=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.$G,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...n,children:(0,a.jsx)(i.Z,{className:"h-4 w-4"})})});x.displayName=r.$G.displayName;let h=n.forwardRef((e,t)=>{let{className:s,children:n,position:i="popper",...l}=e;return(0,a.jsx)(r.h_,{children:(0,a.jsxs)(r.VY,{ref:t,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===i&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:i,...l,children:[(0,a.jsx)(p,{}),(0,a.jsx)(r.l_,{className:(0,d.cn)("p-1","popper"===i&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:n}),(0,a.jsx)(x,{})]})})});h.displayName=r.VY.displayName,n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.__,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...n})}).displayName=r.__.displayName;let g=n.forwardRef((e,t)=>{let{className:s,children:n,...i}=e;return(0,a.jsxs)(r.ck,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...i,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(r.wU,{children:(0,a.jsx)(c.Z,{className:"h-4 w-4"})})}),(0,a.jsx)(r.eT,{children:n})]})});g.displayName=r.ck.displayName,n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)(r.Z0,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",s),...n})}).displayName=r.Z0.displayName},43163:function(e,t,s){"use strict";var a,n,r,i,l,c,d,o,m,u,p,x,h,g;s.d(t,{b5:function(){return d},rl:function(){return a},tc:function(){return r},uC:function(){return i},x7:function(){return c},yF:function(){return n}}),(o=a||(a={})).NEW="new",o.CONTACTED="contacted",o.QUALIFIED="qualified",o.PROPOSAL_SENT="proposal_sent",o.NEGOTIATION="negotiation",o.WON="won",o.LOST="lost",(m=n||(n={})).WEBSITE="website",m.REFERRAL="referral",m.SOCIAL_MEDIA="social_media",m.EMAIL_CAMPAIGN="email_campaign",m.COLD_CALL="cold_call",m.TRADE_SHOW="trade_show",m.PARTNER="partner",m.OTHER="other",(u=r||(r={})).PROSPECTING="prospecting",u.QUALIFICATION="qualification",u.PROPOSAL="proposal",u.NEGOTIATION="negotiation",u.CLOSED_WON="closed_won",u.CLOSED_LOST="closed_lost",(p=i||(i={})).LEAD="lead",p.CUSTOMER="customer",p.PARTNER="partner",p.VENDOR="vendor",p.OTHER="other",(x=l||(l={})).CALL="call",x.EMAIL="email",x.MEETING="meeting",x.TASK="task",x.NOTE="note",x.PROPOSAL="proposal",x.CONTRACT="contract",(h=c||(c={})).STARTUP="startup",h.SMALL="small",h.MEDIUM="medium",h.LARGE="large",h.ENTERPRISE="enterprise",(g=d||(d={})).TECHNOLOGY="technology",g.HEALTHCARE="healthcare",g.FINANCE="finance",g.MANUFACTURING="manufacturing",g.RETAIL="retail",g.EDUCATION="education",g.REAL_ESTATE="real_estate",g.CONSULTING="consulting",g.OTHER="other"},87766:function(e,t,s){"use strict";s.d(t,{vZ:function(){return n}});var a=s(89441);class n{static async getCustomers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,s=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,r=arguments.length>4?arguments[4]:void 0,i=new URLSearchParams({skip:e.toString(),limit:t.toString()});return s&&i.append("search",s),n&&i.append("status",n),r&&i.append("customer_type",r),await a.sM.get("/crm/customers?".concat(i.toString()))}static async getCustomerById(e){return await a.sM.get("/crm/customers/".concat(e))}static async createCustomer(e){return await a.sM.post("/crm/customers",e)}static async updateCustomer(e,t){return await a.sM.put("/crm/customers/".concat(e),t)}static async deleteCustomer(e){return await a.sM.delete("/crm/customers/".concat(e))}static async getCustomerStats(){return await a.sM.get("/crm/customers/stats")}static async searchCustomers(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return await a.sM.get("/crm/customers/search?q=".concat(encodeURIComponent(e),"&limit=").concat(t))}}class r{async getLeads(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=new URLSearchParams;return(null==e?void 0:e.status)&&a.append("status",e.status),(null==e?void 0:e.source)&&a.append("source",e.source),(null==e?void 0:e.assignedTo)&&a.append("assigned_to",e.assignedTo),(null==e?void 0:e.search)&&a.append("search",e.search),a.append("page",t.toString()),a.append("limit",s.toString()),this.apiService.get("/crm/leads?".concat(a.toString()))}async getLead(e){return this.apiService.get("/crm/leads/".concat(e))}async createLead(e){return this.apiService.post("/crm/leads",e)}async updateLead(e,t){return this.apiService.put("/crm/leads/".concat(e),t)}async deleteLead(e){return this.apiService.delete("/crm/leads/".concat(e))}async convertLeadToContact(e,t){return this.apiService.post("/crm/leads/".concat(e,"/convert"),t)}async getContacts(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=new URLSearchParams;return(null==e?void 0:e.type)&&a.append("type",e.type),(null==e?void 0:e.companyId)&&a.append("company_id",e.companyId),(null==e?void 0:e.search)&&a.append("search",e.search),a.append("page",t.toString()),a.append("limit",s.toString()),this.apiService.get("/crm/contacts?".concat(a.toString()))}async getContact(e){return this.apiService.get("/crm/contacts/".concat(e))}async createContact(e){return this.apiService.post("/crm/contacts",e)}async updateContact(e,t){return this.apiService.put("/crm/contacts/".concat(e),t)}async deleteContact(e){return this.apiService.delete("/crm/contacts/".concat(e))}async getCompanies(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=new URLSearchParams;return(null==e?void 0:e.industry)&&a.append("industry",e.industry),(null==e?void 0:e.size)&&a.append("size",e.size),(null==e?void 0:e.search)&&a.append("search",e.search),a.append("page",t.toString()),a.append("limit",s.toString()),this.apiService.get("/crm/companies?".concat(a.toString()))}async getCompany(e){return this.apiService.get("/crm/companies/".concat(e))}async createCompany(e){return this.apiService.post("/crm/companies",e)}async updateCompany(e,t){return this.apiService.put("/crm/companies/".concat(e),t)}async deleteCompany(e){return this.apiService.delete("/crm/companies/".concat(e))}async getOpportunities(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=new URLSearchParams;return(null==e?void 0:e.stage)&&a.append("stage",e.stage),(null==e?void 0:e.assignedTo)&&a.append("assigned_to",e.assignedTo),(null==e?void 0:e.search)&&a.append("search",e.search),a.append("page",t.toString()),a.append("limit",s.toString()),this.apiService.get("/crm/opportunities?".concat(a.toString()))}async getOpportunity(e){return this.apiService.get("/crm/opportunities/".concat(e))}async createOpportunity(e){return this.apiService.post("/crm/opportunities",e)}async updateOpportunity(e,t){return this.apiService.put("/crm/opportunities/".concat(e),t)}async deleteOpportunity(e){return this.apiService.delete("/crm/opportunities/".concat(e))}async getActivities(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=new URLSearchParams;return(null==e?void 0:e.type)&&a.append("type",e.type),(null==e?void 0:e.completed)!==void 0&&a.append("completed",e.completed.toString()),(null==e?void 0:e.search)&&a.append("search",e.search),a.append("page",t.toString()),a.append("limit",s.toString()),this.apiService.get("/crm/activities?".concat(a.toString()))}async getActivity(e){return this.apiService.get("/crm/activities/".concat(e))}async createActivity(e){return this.apiService.post("/crm/activities",e)}async updateActivity(e,t){return this.apiService.put("/crm/activities/".concat(e),t)}async deleteActivity(e){return this.apiService.delete("/crm/activities/".concat(e))}async getDashboard(){return this.apiService.get("/crm/dashboard")}getLeadStatusColor(e){return({new:"bg-blue-100 text-blue-800",contacted:"bg-yellow-100 text-yellow-800",qualified:"bg-green-100 text-green-800",proposal_sent:"bg-purple-100 text-purple-800",negotiation:"bg-orange-100 text-orange-800",won:"bg-green-100 text-green-800",lost:"bg-red-100 text-red-800"})[e]||"bg-gray-100 text-gray-800"}getOpportunityStageColor(e){return({prospecting:"bg-blue-100 text-blue-800",qualification:"bg-yellow-100 text-yellow-800",proposal:"bg-purple-100 text-purple-800",negotiation:"bg-orange-100 text-orange-800",closed_won:"bg-green-100 text-green-800",closed_lost:"bg-red-100 text-red-800"})[e]||"bg-gray-100 text-gray-800"}getActivityTypeColor(e){return({call:"bg-blue-100 text-blue-800",email:"bg-green-100 text-green-800",meeting:"bg-purple-100 text-purple-800",task:"bg-yellow-100 text-yellow-800",note:"bg-gray-100 text-gray-800",proposal:"bg-indigo-100 text-indigo-800",contract:"bg-pink-100 text-pink-800"})[e]||"bg-gray-100 text-gray-800"}formatCurrency(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}formatDate(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}formatDateTime(e){return new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}constructor(){this.apiService=new a.sM}}t.ZP=new r},6394:function(e,t,s){"use strict";s.d(t,{f:function(){return l}});var a=s(2265),n=s(66840),r=s(57437),i=a.forwardRef((e,t)=>(0,r.jsx)(n.WV.label,{...e,ref:t,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||(null===(s=e.onMouseDown)||void 0===s||s.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var l=i}},function(e){e.O(0,[7846,7648,4259,2709,2451,4975,9515,5200,2971,2117,1744],function(){return e(e.s=83025)}),_N_E=e.O()}]);