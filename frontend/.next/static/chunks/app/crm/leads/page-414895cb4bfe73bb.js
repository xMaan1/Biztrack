(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2937],{58714:function(e,t,a){Promise.resolve().then(a.bind(a,89872))},98420:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(39763).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},42208:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(39763).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},90740:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(39763).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},94630:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(39763).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},18930:function(e,t,a){"use strict";a.d(t,{Z:function(){return s}});let s=(0,a(39763).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},89872:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return _}});var s=a(57437),r=a(2265),n=a(79820),i=a(12381),l=a(69174),c=a(40279),o=a(15291),d=a(74291),u=a(75060),h=a(23675),p=a(99397),m=a(90740),x=a(73247),g=a(95805),v=a(98420),j=a(42208),f=a(94630),y=a(18930),N=a(87766),C=a(43163),S=a(11888),b=a(66928),w=a(36171);function _(){let[e,t]=(0,r.useState)([]),[a,_]=(0,r.useState)(!0),[A,E]=(0,r.useState)(null),[L,T]=(0,r.useState)({}),[I,O]=(0,r.useState)(""),[D,F]=(0,r.useState)(1),[k,P]=(0,r.useState)(1),[R,M]=(0,r.useState)(null),[Z,U]=(0,r.useState)(!1),[z,B]=(0,r.useState)(!1),[V,W]=(0,r.useState)(!1),[q,Q]=(0,r.useState)(!1),{customLeadSources:H,createCustomLeadSource:G,loading:K}=(0,b.x)(),[J,Y]=(0,r.useState)({firstName:"",lastName:"",email:"",phone:"",company:"",jobTitle:"",status:C.rl.NEW,source:C.yF.WEBSITE,notes:"",tags:[],score:0,budget:void 0,timeline:""}),$=(0,r.useCallback)(async()=>{try{_(!0);let e=await N.ZP.getLeads(L,D,10);t(e.leads),P(e.pagination.pages)}catch(e){E("Failed to load leads"),console.error("Leads load error:",e)}finally{_(!1)}},[L,D]);(0,r.useEffect)(()=>{$()},[$]);let X=async(e,t)=>{try{await G(e,t)}catch(e){console.error("Failed to create custom lead source:",e)}},ee=async()=>{try{await N.ZP.createLead(J),U(!1),Y({firstName:"",lastName:"",email:"",phone:"",company:"",jobTitle:"",status:C.rl.NEW,source:C.yF.WEBSITE,notes:"",tags:[],score:0,budget:void 0,timeline:""}),$()}catch(e){console.error("Create lead error:",e)}},et=async()=>{if(R)try{await N.ZP.updateLead(R.id,J),B(!1),$()}catch(e){console.error("Update lead error:",e)}},ea=async e=>{if(confirm("Are you sure you want to delete this lead?"))try{await N.ZP.deleteLead(e),$()}catch(e){console.error("Delete lead error:",e)}},es=()=>{T(e=>({...e,search:I})),F(1)},er=(e,t)=>{T(a=>({...a,[e]:"all"===t?void 0:t})),F(1)};return a?(0,s.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"}),(0,s.jsx)("p",{className:"mt-4 text-lg",children:"Loading Leads..."})]})}):(0,s.jsx)(S.cl,{children:(0,s.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"CRM Leads"}),(0,s.jsx)("p",{className:"text-gray-600",children:"Manage and track your sales leads"})]}),(0,s.jsxs)(i.z,{onClick:()=>U(!0),children:[(0,s.jsx)(p.Z,{className:"w-4 h-4 mr-2"}),"New Lead"]})]}),(0,s.jsxs)(n.Zb,{children:[(0,s.jsx)(n.Ol,{children:(0,s.jsxs)(n.ll,{className:"flex items-center",children:[(0,s.jsx)(m.Z,{className:"w-4 h-4 mr-2"}),"Filters & Search"]})}),(0,s.jsx)(n.aY,{children:(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"search",children:"Search"}),(0,s.jsxs)("div",{className:"flex space-x-2",children:[(0,s.jsx)(c.I,{id:"search",placeholder:"Search leads...",value:I,onChange:e=>O(e.target.value),onKeyPress:e=>"Enter"===e.key&&es()}),(0,s.jsx)(i.z,{onClick:es,children:(0,s.jsx)(x.Z,{className:"w-4 h-4"})})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"status",children:"Status"}),(0,s.jsxs)(o.Ph,{value:L.status||"all",onValueChange:e=>er("status",e),children:[(0,s.jsx)(o.i4,{children:(0,s.jsx)(o.ki,{placeholder:"All Statuses"})}),(0,s.jsxs)(o.Bw,{children:[(0,s.jsx)(o.Ql,{value:"all",children:"All Statuses"}),Object.values(C.rl).map(e=>(0,s.jsx)(o.Ql,{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"source",children:"Source"}),(0,s.jsxs)(o.Ph,{value:L.source||"all",onValueChange:e=>er("source",e),children:[(0,s.jsx)(o.i4,{children:(0,s.jsx)(o.ki,{placeholder:"All Sources"})}),(0,s.jsxs)(o.Bw,{children:[(0,s.jsx)(o.Ql,{value:"all",children:"All Sources"}),Object.values(C.yF).map(e=>(0,s.jsx)(o.Ql,{value:e,children:e.replace("_"," ").charAt(0).toUpperCase()+e.replace("_"," ").slice(1)},e))]})]})]}),(0,s.jsx)("div",{className:"flex items-end",children:(0,s.jsx)(i.z,{variant:"outline",onClick:()=>{T({}),O(""),F(1)},children:"Reset Filters"})})]})})]}),(0,s.jsxs)(n.Zb,{children:[(0,s.jsxs)(n.Ol,{children:[(0,s.jsxs)(n.ll,{children:["Leads (",e.length,")"]}),(0,s.jsx)(n.SZ,{children:"Manage your sales leads and track their progress"})]}),(0,s.jsxs)(n.aY,{children:[(0,s.jsx)("div",{className:"space-y-4",children:e.map(e=>(0,s.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[(0,s.jsxs)("div",{className:"flex-1",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(g.Z,{className:"w-5 h-5 text-gray-500"}),(0,s.jsxs)("div",{children:[(0,s.jsxs)("div",{className:"font-medium",children:[e.firstName," ",e.lastName]}),(0,s.jsx)("div",{className:"text-sm text-gray-500",children:e.email})]})]}),e.company&&(0,s.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[(0,s.jsx)(v.Z,{className:"w-4 h-4"}),(0,s.jsx)("span",{children:e.company})]}),e.jobTitle&&(0,s.jsx)("span",{className:"text-sm text-gray-500",children:e.jobTitle})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[(0,s.jsx)(l.C,{className:N.ZP.getLeadStatusColor(e.status),children:e.status.charAt(0).toUpperCase()+e.status.slice(1)}),(0,s.jsx)(l.C,{variant:"outline",children:e.source.replace("_"," ").charAt(0).toUpperCase()+e.source.replace("_"," ").slice(1)}),e.score>0&&(0,s.jsxs)(l.C,{variant:"secondary",children:["Score: ",e.score]}),e.budget&&(0,s.jsxs)(l.C,{variant:"outline",children:["Budget: ",N.ZP.formatCurrency(e.budget)]})]}),e.notes&&(0,s.jsx)("div",{className:"text-sm text-gray-600 mt-2",children:e.notes}),(0,s.jsxs)("div",{className:"flex items-center space-x-4 mt-2 text-xs text-gray-500",children:[(0,s.jsxs)("span",{children:["Created: ",N.ZP.formatDate(e.createdAt)]}),e.lastContactDate&&(0,s.jsxs)("span",{children:["Last Contact:"," ",N.ZP.formatDate(e.lastContactDate)]}),e.nextFollowUpDate&&(0,s.jsxs)("span",{children:["Next Follow-up:"," ",N.ZP.formatDate(e.nextFollowUpDate)]})]})]}),(0,s.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,s.jsx)(i.z,{variant:"outline",size:"sm",onClick:()=>{M(e),W(!0)},children:(0,s.jsx)(j.Z,{className:"w-4 h-4"})}),(0,s.jsx)(i.z,{variant:"outline",size:"sm",onClick:()=>{M(e),Y({firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone||"",company:e.company||"",jobTitle:e.jobTitle||"",status:e.status,source:e.source,notes:e.notes||"",tags:e.tags,score:e.score,budget:e.budget,timeline:e.timeline||""}),B(!0)},children:(0,s.jsx)(f.Z,{className:"w-4 h-4"})}),(0,s.jsx)(i.z,{variant:"outline",size:"sm",onClick:()=>ea(e.id),children:(0,s.jsx)(y.Z,{className:"w-4 h-4"})})]})]},e.id))}),k>1&&(0,s.jsxs)("div",{className:"flex justify-center items-center space-x-2 mt-6",children:[(0,s.jsx)(i.z,{variant:"outline",onClick:()=>F(Math.max(1,D-1)),disabled:1===D,children:"Previous"}),(0,s.jsxs)("span",{className:"text-sm",children:["Page ",D," of ",k]}),(0,s.jsx)(i.z,{variant:"outline",onClick:()=>F(Math.min(k,D+1)),disabled:D===k,children:"Next"})]})]})]}),(0,s.jsx)(d.Vq,{open:Z,onOpenChange:U,children:(0,s.jsxs)(d.cZ,{className:"max-w-2xl",children:[(0,s.jsxs)(d.fK,{children:[(0,s.jsx)(d.$N,{children:"Create New Lead"}),(0,s.jsx)(d.Be,{children:"Add a new lead to your CRM system"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"firstName",children:"First Name *"}),(0,s.jsx)(c.I,{id:"firstName",value:J.firstName,onChange:e=>Y(t=>({...t,firstName:e.target.value}))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"lastName",children:"Last Name *"}),(0,s.jsx)(c.I,{id:"lastName",value:J.lastName,onChange:e=>Y(t=>({...t,lastName:e.target.value}))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"email",children:"Email *"}),(0,s.jsx)(c.I,{id:"email",type:"email",value:J.email,onChange:e=>Y(t=>({...t,email:e.target.value}))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"phone",children:"Phone"}),(0,s.jsx)(c.I,{id:"phone",value:J.phone,onChange:e=>Y(t=>({...t,phone:e.target.value}))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"company",children:"Company"}),(0,s.jsx)(c.I,{id:"company",value:J.company,onChange:e=>Y(t=>({...t,company:e.target.value}))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"jobTitle",children:"Job Title"}),(0,s.jsx)(c.I,{id:"jobTitle",value:J.jobTitle,onChange:e=>Y(t=>({...t,jobTitle:e.target.value}))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"status",children:"Status"}),(0,s.jsxs)(o.Ph,{value:J.status,onValueChange:e=>Y(t=>({...t,status:e})),children:[(0,s.jsx)(o.i4,{children:(0,s.jsx)(o.ki,{})}),(0,s.jsx)(o.Bw,{children:Object.values(C.rl).map(e=>(0,s.jsx)(o.Ql,{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"source",children:"Source"}),(0,s.jsxs)(o.Ph,{value:J.source,onValueChange:e=>{"create_new"===e?Q(!0):Y(t=>({...t,source:e}))},children:[(0,s.jsx)(o.i4,{children:(0,s.jsx)(o.ki,{})}),(0,s.jsxs)(o.Bw,{children:[Object.values(C.yF).map(e=>(0,s.jsx)(o.Ql,{value:e,children:e.replace("_"," ").charAt(0).toUpperCase()+e.replace("_"," ").slice(1)},e)),H&&H.length>0&&H.map(e=>(0,s.jsx)(o.Ql,{value:e.id,children:e.name},e.id)),(0,s.jsx)(o.Ql,{value:"create_new",className:"font-semibold text-blue-600",children:"+ Create New Lead Source"})]})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"score",children:"Score"}),(0,s.jsx)(c.I,{id:"score",type:"number",value:J.score,onChange:e=>Y(t=>({...t,score:parseInt(e.target.value)||0}))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"budget",children:"Budget"}),(0,s.jsx)(c.I,{id:"budget",type:"number",value:J.budget||"",onChange:e=>Y(t=>({...t,budget:e.target.value?parseFloat(e.target.value):void 0}))})]}),(0,s.jsxs)("div",{className:"col-span-2",children:[(0,s.jsx)(u._,{htmlFor:"notes",children:"Notes"}),(0,s.jsx)(h.g,{id:"notes",value:J.notes,onChange:e=>Y(t=>({...t,notes:e.target.value}))})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,s.jsx)(i.z,{variant:"outline",onClick:()=>U(!1),children:"Cancel"}),(0,s.jsx)(i.z,{onClick:ee,children:"Create Lead"})]})]})}),(0,s.jsx)(d.Vq,{open:z,onOpenChange:B,children:(0,s.jsxs)(d.cZ,{className:"max-w-2xl",children:[(0,s.jsxs)(d.fK,{children:[(0,s.jsx)(d.$N,{children:"Edit Lead"}),(0,s.jsx)(d.Be,{children:"Update lead information"})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"editFirstName",children:"First Name *"}),(0,s.jsx)(c.I,{id:"editFirstName",value:J.firstName,onChange:e=>Y(t=>({...t,firstName:e.target.value}))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"editLastName",children:"Last Name *"}),(0,s.jsx)(c.I,{id:"editLastName",value:J.lastName,onChange:e=>Y(t=>({...t,lastName:e.target.value}))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"editEmail",children:"Email *"}),(0,s.jsx)(c.I,{id:"editEmail",type:"email",value:J.email,onChange:e=>Y(t=>({...t,email:e.target.value}))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"editPhone",children:"Phone"}),(0,s.jsx)(c.I,{id:"editPhone",value:J.phone,onChange:e=>Y(t=>({...t,phone:e.target.value}))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"editCompany",children:"Company"}),(0,s.jsx)(c.I,{id:"editCompany",value:J.company,onChange:e=>Y(t=>({...t,company:e.target.value}))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"editJobTitle",children:"Job Title"}),(0,s.jsx)(c.I,{id:"editJobTitle",value:J.jobTitle,onChange:e=>Y(t=>({...t,jobTitle:e.target.value}))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"editStatus",children:"Status"}),(0,s.jsxs)(o.Ph,{value:J.status,onValueChange:e=>Y(t=>({...t,status:e})),children:[(0,s.jsx)(o.i4,{children:(0,s.jsx)(o.ki,{})}),(0,s.jsx)(o.Bw,{children:Object.values(C.rl).map(e=>(0,s.jsx)(o.Ql,{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"editSource",children:"Source"}),(0,s.jsxs)(o.Ph,{value:J.source,onValueChange:e=>Y(t=>({...t,source:e})),children:[(0,s.jsx)(o.i4,{children:(0,s.jsx)(o.ki,{})}),(0,s.jsx)(o.Bw,{children:Object.values(C.yF).map(e=>(0,s.jsx)(o.Ql,{value:e,children:e.replace("_"," ").charAt(0).toUpperCase()+e.replace("_"," ").slice(1)},e))})]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"editScore",children:"Score"}),(0,s.jsx)(c.I,{id:"editScore",type:"number",value:J.score,onChange:e=>Y(t=>({...t,score:parseInt(e.target.value)||0}))})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{htmlFor:"editBudget",children:"Budget"}),(0,s.jsx)(c.I,{id:"editBudget",type:"number",value:J.budget||"",onChange:e=>Y(t=>({...t,budget:e.target.value?parseFloat(e.target.value):void 0}))})]}),(0,s.jsxs)("div",{className:"col-span-2",children:[(0,s.jsx)(u._,{htmlFor:"editNotes",children:"Notes"}),(0,s.jsx)(h.g,{id:"editNotes",value:J.notes,onChange:e=>Y(t=>({...t,notes:e.target.value}))})]})]}),(0,s.jsxs)("div",{className:"flex justify-end space-x-2",children:[(0,s.jsx)(i.z,{variant:"outline",onClick:()=>B(!1),children:"Cancel"}),(0,s.jsx)(i.z,{onClick:et,children:"Update Lead"})]})]})}),(0,s.jsx)(d.Vq,{open:V,onOpenChange:W,children:(0,s.jsxs)(d.cZ,{className:"max-w-2xl",children:[(0,s.jsxs)(d.fK,{children:[(0,s.jsx)(d.$N,{children:"Lead Details"}),(0,s.jsx)(d.Be,{children:"View complete lead information"})]}),R&&(0,s.jsxs)("div",{className:"space-y-4",children:[(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{className:"font-medium",children:"Name"}),(0,s.jsxs)("p",{children:[R.firstName," ",R.lastName]})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{className:"font-medium",children:"Email"}),(0,s.jsx)("p",{children:R.email})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{className:"font-medium",children:"Phone"}),(0,s.jsx)("p",{children:R.phone||"N/A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{className:"font-medium",children:"Company"}),(0,s.jsx)("p",{children:R.company||"N/A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{className:"font-medium",children:"Job Title"}),(0,s.jsx)("p",{children:R.jobTitle||"N/A"})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{className:"font-medium",children:"Status"}),(0,s.jsx)(l.C,{className:N.ZP.getLeadStatusColor(R.status),children:R.status.charAt(0).toUpperCase()+R.status.slice(1)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{className:"font-medium",children:"Source"}),(0,s.jsx)(l.C,{variant:"outline",children:R.source.replace("_"," ").charAt(0).toUpperCase()+R.source.replace("_"," ").slice(1)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{className:"font-medium",children:"Score"}),(0,s.jsx)("p",{children:R.score})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{className:"font-medium",children:"Budget"}),(0,s.jsx)("p",{children:R.budget?N.ZP.formatCurrency(R.budget):"N/A"})]})]}),R.notes&&(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{className:"font-medium",children:"Notes"}),(0,s.jsx)("p",{className:"text-gray-600",children:R.notes})]}),(0,s.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{className:"font-medium",children:"Created"}),(0,s.jsx)("p",{children:N.ZP.formatDateTime(R.createdAt)})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{className:"font-medium",children:"Last Updated"}),(0,s.jsx)("p",{children:N.ZP.formatDateTime(R.updatedAt)})]}),R.lastContactDate&&(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{className:"font-medium",children:"Last Contact"}),(0,s.jsx)("p",{children:N.ZP.formatDate(R.lastContactDate)})]}),R.nextFollowUpDate&&(0,s.jsxs)("div",{children:[(0,s.jsx)(u._,{className:"font-medium",children:"Next Follow-up"}),(0,s.jsx)("p",{children:N.ZP.formatDate(R.nextFollowUpDate)})]})]})]}),(0,s.jsx)("div",{className:"flex justify-end",children:(0,s.jsx)(i.z,{variant:"outline",onClick:()=>W(!1),children:"Close"})})]})}),(0,s.jsx)(w.O,{open:q,onOpenChange:Q,title:"Create New Lead Source",description:"Create a custom lead source that will be available for your tenant.",optionName:"Lead Source",placeholder:"e.g., LinkedIn Campaign, Webinar",onSubmit:X,loading:K.leadSource})]})})}},11888:function(e,t,a){"use strict";a.d(t,{cl:function(){return s.default}});var s=a(78742);a(28278),a(59399)},43163:function(e,t,a){"use strict";var s,r,n,i,l,c,o,d,u,h,p,m,x,g;a.d(t,{b5:function(){return o},rl:function(){return s},tc:function(){return n},uC:function(){return i},x7:function(){return c},yF:function(){return r}}),(d=s||(s={})).NEW="new",d.CONTACTED="contacted",d.QUALIFIED="qualified",d.PROPOSAL_SENT="proposal_sent",d.NEGOTIATION="negotiation",d.WON="won",d.LOST="lost",(u=r||(r={})).WEBSITE="website",u.REFERRAL="referral",u.SOCIAL_MEDIA="social_media",u.EMAIL_CAMPAIGN="email_campaign",u.COLD_CALL="cold_call",u.TRADE_SHOW="trade_show",u.PARTNER="partner",u.OTHER="other",(h=n||(n={})).PROSPECTING="prospecting",h.QUALIFICATION="qualification",h.PROPOSAL="proposal",h.NEGOTIATION="negotiation",h.CLOSED_WON="closed_won",h.CLOSED_LOST="closed_lost",(p=i||(i={})).LEAD="lead",p.CUSTOMER="customer",p.PARTNER="partner",p.VENDOR="vendor",p.OTHER="other",(m=l||(l={})).CALL="call",m.EMAIL="email",m.MEETING="meeting",m.TASK="task",m.NOTE="note",m.PROPOSAL="proposal",m.CONTRACT="contract",(x=c||(c={})).STARTUP="startup",x.SMALL="small",x.MEDIUM="medium",x.LARGE="large",x.ENTERPRISE="enterprise",(g=o||(o={})).TECHNOLOGY="technology",g.HEALTHCARE="healthcare",g.FINANCE="finance",g.MANUFACTURING="manufacturing",g.RETAIL="retail",g.EDUCATION="education",g.REAL_ESTATE="real_estate",g.CONSULTING="consulting",g.OTHER="other"},87766:function(e,t,a){"use strict";a.d(t,{vZ:function(){return r}});var s=a(89441);class r{static async getCustomers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,a=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,n=arguments.length>4?arguments[4]:void 0,i=new URLSearchParams({skip:e.toString(),limit:t.toString()});return a&&i.append("search",a),r&&i.append("status",r),n&&i.append("customer_type",n),await s.sM.get("/crm/customers?".concat(i.toString()))}static async getCustomerById(e){return await s.sM.get("/crm/customers/".concat(e))}static async createCustomer(e){return await s.sM.post("/crm/customers",e)}static async updateCustomer(e,t){return await s.sM.put("/crm/customers/".concat(e),t)}static async deleteCustomer(e){return await s.sM.delete("/crm/customers/".concat(e))}static async getCustomerStats(){return await s.sM.get("/crm/customers/stats")}static async searchCustomers(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return await s.sM.get("/crm/customers/search?q=".concat(encodeURIComponent(e),"&limit=").concat(t))}}class n{async getLeads(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,s=new URLSearchParams;return(null==e?void 0:e.status)&&s.append("status",e.status),(null==e?void 0:e.source)&&s.append("source",e.source),(null==e?void 0:e.assignedTo)&&s.append("assigned_to",e.assignedTo),(null==e?void 0:e.search)&&s.append("search",e.search),s.append("page",t.toString()),s.append("limit",a.toString()),this.apiService.get("/crm/leads?".concat(s.toString()))}async getLead(e){return this.apiService.get("/crm/leads/".concat(e))}async createLead(e){return this.apiService.post("/crm/leads",e)}async updateLead(e,t){return this.apiService.put("/crm/leads/".concat(e),t)}async deleteLead(e){return this.apiService.delete("/crm/leads/".concat(e))}async convertLeadToContact(e,t){return this.apiService.post("/crm/leads/".concat(e,"/convert"),t)}async getContacts(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,s=new URLSearchParams;return(null==e?void 0:e.type)&&s.append("type",e.type),(null==e?void 0:e.companyId)&&s.append("company_id",e.companyId),(null==e?void 0:e.search)&&s.append("search",e.search),s.append("page",t.toString()),s.append("limit",a.toString()),this.apiService.get("/crm/contacts?".concat(s.toString()))}async getContact(e){return this.apiService.get("/crm/contacts/".concat(e))}async createContact(e){return this.apiService.post("/crm/contacts",e)}async updateContact(e,t){return this.apiService.put("/crm/contacts/".concat(e),t)}async deleteContact(e){return this.apiService.delete("/crm/contacts/".concat(e))}async getCompanies(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,s=new URLSearchParams;return(null==e?void 0:e.industry)&&s.append("industry",e.industry),(null==e?void 0:e.size)&&s.append("size",e.size),(null==e?void 0:e.search)&&s.append("search",e.search),s.append("page",t.toString()),s.append("limit",a.toString()),this.apiService.get("/crm/companies?".concat(s.toString()))}async getCompany(e){return this.apiService.get("/crm/companies/".concat(e))}async createCompany(e){return this.apiService.post("/crm/companies",e)}async updateCompany(e,t){return this.apiService.put("/crm/companies/".concat(e),t)}async deleteCompany(e){return this.apiService.delete("/crm/companies/".concat(e))}async getOpportunities(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,s=new URLSearchParams;return(null==e?void 0:e.stage)&&s.append("stage",e.stage),(null==e?void 0:e.assignedTo)&&s.append("assigned_to",e.assignedTo),(null==e?void 0:e.search)&&s.append("search",e.search),s.append("page",t.toString()),s.append("limit",a.toString()),this.apiService.get("/crm/opportunities?".concat(s.toString()))}async getOpportunity(e){return this.apiService.get("/crm/opportunities/".concat(e))}async createOpportunity(e){return this.apiService.post("/crm/opportunities",e)}async updateOpportunity(e,t){return this.apiService.put("/crm/opportunities/".concat(e),t)}async deleteOpportunity(e){return this.apiService.delete("/crm/opportunities/".concat(e))}async getActivities(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,s=new URLSearchParams;return(null==e?void 0:e.type)&&s.append("type",e.type),(null==e?void 0:e.completed)!==void 0&&s.append("completed",e.completed.toString()),(null==e?void 0:e.search)&&s.append("search",e.search),s.append("page",t.toString()),s.append("limit",a.toString()),this.apiService.get("/crm/activities?".concat(s.toString()))}async getActivity(e){return this.apiService.get("/crm/activities/".concat(e))}async createActivity(e){return this.apiService.post("/crm/activities",e)}async updateActivity(e,t){return this.apiService.put("/crm/activities/".concat(e),t)}async deleteActivity(e){return this.apiService.delete("/crm/activities/".concat(e))}async getDashboard(){return this.apiService.get("/crm/dashboard")}getLeadStatusColor(e){return({new:"bg-blue-100 text-blue-800",contacted:"bg-yellow-100 text-yellow-800",qualified:"bg-green-100 text-green-800",proposal_sent:"bg-purple-100 text-purple-800",negotiation:"bg-orange-100 text-orange-800",won:"bg-green-100 text-green-800",lost:"bg-red-100 text-red-800"})[e]||"bg-gray-100 text-gray-800"}getOpportunityStageColor(e){return({prospecting:"bg-blue-100 text-blue-800",qualification:"bg-yellow-100 text-yellow-800",proposal:"bg-purple-100 text-purple-800",negotiation:"bg-orange-100 text-orange-800",closed_won:"bg-green-100 text-green-800",closed_lost:"bg-red-100 text-red-800"})[e]||"bg-gray-100 text-gray-800"}getActivityTypeColor(e){return({call:"bg-blue-100 text-blue-800",email:"bg-green-100 text-green-800",meeting:"bg-purple-100 text-purple-800",task:"bg-yellow-100 text-yellow-800",note:"bg-gray-100 text-gray-800",proposal:"bg-indigo-100 text-indigo-800",contract:"bg-pink-100 text-pink-800"})[e]||"bg-gray-100 text-gray-800"}formatCurrency(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}formatDate(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}formatDateTime(e){return new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}constructor(){this.apiService=new s.sM}}t.ZP=new n},49027:function(e,t,a){"use strict";a.d(t,{Dx:function(){return es},VY:function(){return ea},aV:function(){return et},dk:function(){return er},fC:function(){return $},h_:function(){return ee},x8:function(){return en},xz:function(){return X}});var s=a(2265),r=a(6741),n=a(98575),i=a(73966),l=a(99255),c=a(80886),o=a(15278),d=a(99103),u=a(83832),h=a(71599),p=a(66840),m=a(86097),x=a(99157),g=a(5478),v=a(37053),j=a(57437),f="Dialog",[y,N]=(0,i.b)(f),[C,S]=y(f),b=e=>{let{__scopeDialog:t,children:a,open:r,defaultOpen:n,onOpenChange:i,modal:o=!0}=e,d=s.useRef(null),u=s.useRef(null),[h,p]=(0,c.T)({prop:r,defaultProp:null!=n&&n,onChange:i,caller:f});return(0,j.jsx)(C,{scope:t,triggerRef:d,contentRef:u,contentId:(0,l.M)(),titleId:(0,l.M)(),descriptionId:(0,l.M)(),open:h,onOpenChange:p,onOpenToggle:s.useCallback(()=>p(e=>!e),[p]),modal:o,children:a})};b.displayName=f;var w="DialogTrigger",_=s.forwardRef((e,t)=>{let{__scopeDialog:a,...s}=e,i=S(w,a),l=(0,n.e)(t,i.triggerRef);return(0,j.jsx)(p.WV.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Q(i.open),...s,ref:l,onClick:(0,r.M)(e.onClick,i.onOpenToggle)})});_.displayName=w;var A="DialogPortal",[E,L]=y(A,{forceMount:void 0}),T=e=>{let{__scopeDialog:t,forceMount:a,children:r,container:n}=e,i=S(A,t);return(0,j.jsx)(E,{scope:t,forceMount:a,children:s.Children.map(r,e=>(0,j.jsx)(h.z,{present:a||i.open,children:(0,j.jsx)(u.h,{asChild:!0,container:n,children:e})}))})};T.displayName=A;var I="DialogOverlay",O=s.forwardRef((e,t)=>{let a=L(I,e.__scopeDialog),{forceMount:s=a.forceMount,...r}=e,n=S(I,e.__scopeDialog);return n.modal?(0,j.jsx)(h.z,{present:s||n.open,children:(0,j.jsx)(F,{...r,ref:t})}):null});O.displayName=I;var D=(0,v.Z8)("DialogOverlay.RemoveScroll"),F=s.forwardRef((e,t)=>{let{__scopeDialog:a,...s}=e,r=S(I,a);return(0,j.jsx)(x.Z,{as:D,allowPinchZoom:!0,shards:[r.contentRef],children:(0,j.jsx)(p.WV.div,{"data-state":Q(r.open),...s,ref:t,style:{pointerEvents:"auto",...s.style}})})}),k="DialogContent",P=s.forwardRef((e,t)=>{let a=L(k,e.__scopeDialog),{forceMount:s=a.forceMount,...r}=e,n=S(k,e.__scopeDialog);return(0,j.jsx)(h.z,{present:s||n.open,children:n.modal?(0,j.jsx)(R,{...r,ref:t}):(0,j.jsx)(M,{...r,ref:t})})});P.displayName=k;var R=s.forwardRef((e,t)=>{let a=S(k,e.__scopeDialog),i=s.useRef(null),l=(0,n.e)(t,a.contentRef,i);return s.useEffect(()=>{let e=i.current;if(e)return(0,g.Ry)(e)},[]),(0,j.jsx)(Z,{...e,ref:l,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,r.M)(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null===(t=a.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:(0,r.M)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,a=0===t.button&&!0===t.ctrlKey;(2===t.button||a)&&e.preventDefault()}),onFocusOutside:(0,r.M)(e.onFocusOutside,e=>e.preventDefault())})}),M=s.forwardRef((e,t)=>{let a=S(k,e.__scopeDialog),r=s.useRef(!1),n=s.useRef(!1);return(0,j.jsx)(Z,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var s,i;null===(s=e.onCloseAutoFocus)||void 0===s||s.call(e,t),t.defaultPrevented||(r.current||null===(i=a.triggerRef.current)||void 0===i||i.focus(),t.preventDefault()),r.current=!1,n.current=!1},onInteractOutside:t=>{var s,i;null===(s=e.onInteractOutside)||void 0===s||s.call(e,t),t.defaultPrevented||(r.current=!0,"pointerdown"!==t.detail.originalEvent.type||(n.current=!0));let l=t.target;(null===(i=a.triggerRef.current)||void 0===i?void 0:i.contains(l))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&n.current&&t.preventDefault()}})}),Z=s.forwardRef((e,t)=>{let{__scopeDialog:a,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:l,...c}=e,u=S(k,a),h=s.useRef(null),p=(0,n.e)(t,h);return(0,m.EW)(),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(d.M,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:l,children:(0,j.jsx)(o.XB,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Q(u.open),...c,ref:p,onDismiss:()=>u.onOpenChange(!1)})}),(0,j.jsxs)(j.Fragment,{children:[(0,j.jsx)(J,{titleId:u.titleId}),(0,j.jsx)(Y,{contentRef:h,descriptionId:u.descriptionId})]})]})}),U="DialogTitle",z=s.forwardRef((e,t)=>{let{__scopeDialog:a,...s}=e,r=S(U,a);return(0,j.jsx)(p.WV.h2,{id:r.titleId,...s,ref:t})});z.displayName=U;var B="DialogDescription",V=s.forwardRef((e,t)=>{let{__scopeDialog:a,...s}=e,r=S(B,a);return(0,j.jsx)(p.WV.p,{id:r.descriptionId,...s,ref:t})});V.displayName=B;var W="DialogClose",q=s.forwardRef((e,t)=>{let{__scopeDialog:a,...s}=e,n=S(W,a);return(0,j.jsx)(p.WV.button,{type:"button",...s,ref:t,onClick:(0,r.M)(e.onClick,()=>n.onOpenChange(!1))})});function Q(e){return e?"open":"closed"}q.displayName=W;var H="DialogTitleWarning",[G,K]=(0,i.k)(H,{contentName:k,titleName:U,docsSlug:"dialog"}),J=e=>{let{titleId:t}=e,a=K(H),r="`".concat(a.contentName,"` requires a `").concat(a.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(a.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(a.docsSlug);return s.useEffect(()=>{t&&!document.getElementById(t)&&console.error(r)},[r,t]),null},Y=e=>{let{contentRef:t,descriptionId:a}=e,r=K("DialogDescriptionWarning"),n="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(r.contentName,"}.");return s.useEffect(()=>{var e;let s=null===(e=t.current)||void 0===e?void 0:e.getAttribute("aria-describedby");a&&s&&!document.getElementById(a)&&console.warn(n)},[n,t,a]),null},$=b,X=_,ee=T,et=O,ea=P,es=z,er=V,en=q},6394:function(e,t,a){"use strict";a.d(t,{f:function(){return l}});var s=a(2265),r=a(66840),n=a(57437),i=s.forwardRef((e,t)=>(0,n.jsx)(r.WV.label,{...e,ref:t,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null===(a=e.onMouseDown)||void 0===a||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var l=i}},function(e){e.O(0,[7846,7648,4259,2709,2451,4975,9515,5200,5372,2971,2117,1744],function(){return e(e.s=58714)}),_N_E=e.O()}]);