(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5891],{42968:function(e,t,s){Promise.resolve().then(s.bind(s,65506))},65506:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return I}});var a=s(57437),n=s(2265),i=s(79820),r=s(12381),l=s(69174),c=s(40279),d=s(23675),o=s(75060),u=s(95937),m=s(15291),p=s(74291),h=s(99397),x=s(90740),v=s(73247),g=s(98420),y=s(29202),j=s(13041),C=s(83774),N=s(42208),f=s(94630),S=s(18930),b=s(87766),w=s(43163),A=s(11888),_=s(66928),E=s(36171);function I(){var e;let[t,s]=(0,n.useState)([]),[I,R]=(0,n.useState)(!0),[O,T]=(0,n.useState)({}),[L,P]=(0,n.useState)(""),[z,F]=(0,n.useState)(!1),[k,D]=(0,n.useState)(null),[U,Z]=(0,n.useState)(null),[M,Y]=(0,n.useState)(null),[Q,q]=(0,n.useState)(!1),[V,B]=(0,n.useState)(!1),[G,H]=(0,n.useState)(""),[W,K]=(0,n.useState)(""),[$,X]=(0,n.useState)(!1),{customIndustries:J,createCustomIndustry:ee,loading:et}=(0,_.x)(),[es,ea]=(0,n.useState)({name:"",industry:void 0,size:void 0,website:"",phone:"",address:"",city:"",state:"",country:"",postalCode:"",description:"",notes:"",tags:[],isActive:!0,annualRevenue:void 0,employeeCount:void 0,foundedYear:void 0}),en=(0,n.useCallback)(async()=>{try{R(!0);let e=await b.ZP.getCompanies(O,1,100);s(e.companies)}catch(e){console.error("Companies load error:",e)}finally{R(!1)}},[O]);(0,n.useEffect)(()=>{en()},[en]);let ei=()=>{T(e=>({...e,search:L}))},er=async(e,t)=>{try{await ee(e,t)}catch(e){console.error("Failed to create custom industry:",e)}},el=()=>{ea({name:"",industry:void 0,size:void 0,website:"",phone:"",address:"",city:"",state:"",country:"",postalCode:"",description:"",notes:"",tags:[],isActive:!0,annualRevenue:void 0,employeeCount:void 0,foundedYear:void 0})},ec=async e=>{if(e.preventDefault(),!es.name.trim()){alert("Company name is required");return}q(!0);try{k?(await b.ZP.updateCompany(k.id,es),H("Company updated successfully!"),F(!1),D(null)):(await b.ZP.createCompany(es),H("Company created successfully!"),F(!1)),el(),en(),setTimeout(()=>H(""),3e3)}catch(e){console.error("Error saving company:",e),K("Error saving company. Please try again."),setTimeout(()=>K(""),5e3)}finally{q(!1)}},ed=e=>{D(e),K(""),H(""),ea({name:e.name,industry:e.industry,size:e.size,website:e.website||"",phone:e.phone||"",address:e.address||"",city:e.city||"",state:e.state||"",country:e.country||"",postalCode:e.postalCode||"",description:e.description||"",notes:e.notes||"",tags:e.tags||[],isActive:e.isActive,annualRevenue:e.annualRevenue,employeeCount:e.employeeCount,foundedYear:e.foundedYear}),F(!0)},eo=async e=>{Y(e)},eu=async()=>{if(M){B(!0);try{await b.ZP.deleteCompany(M.id),H("Company deleted successfully!"),Y(null),en(),setTimeout(()=>H(""),3e3)}catch(e){console.error("Error deleting company:",e),K("Error deleting company. Please try again."),setTimeout(()=>K(""),5e3)}finally{B(!1)}}},em=e=>{Z(e)};return I?(0,a.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,a.jsxs)("div",{className:"text-center",children:[(0,a.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"}),(0,a.jsx)("p",{className:"mt-4 text-lg",children:"Loading Companies..."})]})}):(0,a.jsx)(A.cl,{children:(0,a.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"CRM Companies"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Manage your company database and relationships"}),G&&(0,a.jsx)("div",{className:"mt-2 p-3 bg-green-50 border border-green-200 rounded-md",children:(0,a.jsx)("p",{className:"text-green-800 text-sm",children:G})})]}),(0,a.jsxs)(r.z,{onClick:()=>{D(null),el(),K(""),H(""),F(!0)},children:[(0,a.jsx)(h.Z,{className:"w-4 h-4 mr-2"}),"New Company"]})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsx)(i.Ol,{children:(0,a.jsxs)(i.ll,{className:"flex items-center",children:[(0,a.jsx)(x.Z,{className:"w-4 h-4 mr-2"}),"Filters & Search"]})}),(0,a.jsx)(i.aY,{children:(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Search"}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(c.I,{placeholder:"Search companies...",value:L,onChange:e=>P(e.target.value),onKeyPress:e=>"Enter"===e.key&&ei()}),(0,a.jsx)(r.z,{onClick:ei,children:(0,a.jsx)(v.Z,{className:"w-4 h-4"})})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Industry"}),(0,a.jsxs)(m.Ph,{value:O.industry||"all",onValueChange:e=>T(t=>({...t,industry:"all"===e?void 0:e})),children:[(0,a.jsx)(m.i4,{children:(0,a.jsx)(m.ki,{placeholder:"All Industries"})}),(0,a.jsxs)(m.Bw,{children:[(0,a.jsx)(m.Ql,{value:"all",children:"All Industries"}),Object.values(w.b5).map(e=>(0,a.jsx)(m.Ql,{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)("label",{className:"text-sm font-medium",children:"Size"}),(0,a.jsxs)(m.Ph,{value:O.size||"all",onValueChange:e=>T(t=>({...t,size:"all"===e?void 0:e})),children:[(0,a.jsx)(m.i4,{children:(0,a.jsx)(m.ki,{placeholder:"All Sizes"})}),(0,a.jsxs)(m.Bw,{children:[(0,a.jsx)(m.Ql,{value:"all",children:"All Sizes"}),Object.values(w.x7).map(e=>(0,a.jsx)(m.Ql,{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))]})]})]}),(0,a.jsx)("div",{className:"flex items-end",children:(0,a.jsx)(r.z,{variant:"outline",onClick:()=>{T({}),P("")},children:"Reset Filters"})})]})})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[(0,a.jsxs)(i.ll,{children:["Companies (",t.length,")"]}),(0,a.jsx)(i.SZ,{children:"Manage your company database and track business relationships"})]}),(0,a.jsx)(i.aY,{children:(0,a.jsx)("div",{className:"space-y-4",children:t.map(e=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(g.Z,{className:"w-5 h-5 text-gray-500"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"font-medium",children:e.name}),(0,a.jsxs)("div",{className:"text-sm text-gray-500",children:[e.industry&&(0,a.jsx)("span",{className:"mr-2",children:e.industry}),e.size&&(0,a.jsxs)("span",{children:["â€¢ ",e.size]})]})]})]}),e.website&&(0,a.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[(0,a.jsx)(y.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:e.website})]}),e.phone&&(0,a.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[(0,a.jsx)(j.Z,{className:"w-4 h-4"}),(0,a.jsx)("span",{children:e.phone})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[e.industry&&(0,a.jsx)(l.C,{variant:"outline",children:e.industry.charAt(0).toUpperCase()+e.industry.slice(1)}),e.size&&(0,a.jsx)(l.C,{variant:"secondary",children:e.size.charAt(0).toUpperCase()+e.size.slice(1)}),(0,a.jsx)(l.C,{variant:e.isActive?"default":"secondary",children:e.isActive?"Active":"Inactive"})]}),e.description&&(0,a.jsx)("div",{className:"text-sm text-gray-600 mt-2",children:e.description}),(0,a.jsxs)("div",{className:"flex items-center space-x-4 mt-2 text-xs text-gray-500",children:[(0,a.jsxs)("span",{children:["Created: ",b.ZP.formatDate(e.createdAt)]}),e.city&&e.state&&(0,a.jsxs)("div",{className:"flex items-center space-x-1",children:[(0,a.jsx)(C.Z,{className:"w-3 h-3"}),(0,a.jsxs)("span",{children:[e.city,", ",e.state]})]}),e.employeeCount&&(0,a.jsxs)("span",{children:[e.employeeCount," employees"]}),e.annualRevenue&&(0,a.jsxs)("span",{children:["Revenue:"," ",b.ZP.formatCurrency(e.annualRevenue)]})]})]}),(0,a.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,a.jsx)(r.z,{variant:"outline",size:"sm",onClick:()=>em(e),children:(0,a.jsx)(N.Z,{className:"w-4 h-4"})}),(0,a.jsx)(r.z,{variant:"outline",size:"sm",onClick:()=>ed(e),children:(0,a.jsx)(f.Z,{className:"w-4 h-4"})}),(0,a.jsx)(r.z,{variant:"outline",size:"sm",onClick:()=>eo(e),children:(0,a.jsx)(S.Z,{className:"w-4 h-4"})})]})]},e.id))})})]}),(0,a.jsx)(p.Vq,{open:z,onOpenChange:F,children:(0,a.jsxs)(p.cZ,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)(p.fK,{children:(0,a.jsx)(p.$N,{children:k?"Edit Company":"Create New Company"})}),(0,a.jsxs)("form",{onSubmit:ec,className:"space-y-6",children:[W&&(0,a.jsx)(u.bZ,{variant:"destructive",children:(0,a.jsx)(u.X,{children:W})}),(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)(o._,{htmlFor:"name",children:"Company Name *"}),(0,a.jsx)(c.I,{id:"name",value:es.name,onChange:e=>ea({...es,name:e.target.value}),placeholder:"Enter company name",required:!0})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o._,{htmlFor:"industry",children:"Industry"}),(0,a.jsxs)(m.Ph,{value:es.industry||"all",onValueChange:e=>{"create_new"===e?X(!0):ea({...es,industry:"all"===e?void 0:e})},children:[(0,a.jsx)(m.i4,{children:(0,a.jsx)(m.ki,{placeholder:"Select industry"})}),(0,a.jsxs)(m.Bw,{children:[(0,a.jsx)(m.Ql,{value:"all",children:"Select Industry"}),Object.values(w.b5).map(e=>(0,a.jsx)(m.Ql,{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e)),J&&J.length>0&&J.map(e=>(0,a.jsx)(m.Ql,{value:e.id,children:e.name},e.id)),(0,a.jsx)(m.Ql,{value:"create_new",className:"font-semibold text-blue-600",children:"+ Create New Industry"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o._,{htmlFor:"size",children:"Company Size"}),(0,a.jsxs)(m.Ph,{value:es.size||"all",onValueChange:e=>ea({...es,size:"all"===e?void 0:e}),children:[(0,a.jsx)(m.i4,{children:(0,a.jsx)(m.ki,{placeholder:"Select size"})}),(0,a.jsxs)(m.Bw,{children:[(0,a.jsx)(m.Ql,{value:"all",children:"Select Size"}),Object.values(w.x7).map(e=>(0,a.jsx)(m.Ql,{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o._,{htmlFor:"website",children:"Website"}),(0,a.jsx)(c.I,{id:"website",value:es.website,onChange:e=>ea({...es,website:e.target.value}),placeholder:"https://example.com",type:"url"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o._,{htmlFor:"phone",children:"Phone"}),(0,a.jsx)(c.I,{id:"phone",value:es.phone,onChange:e=>ea({...es,phone:e.target.value}),placeholder:"+1 (555) 123-4567"})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)(o._,{htmlFor:"address",children:"Address"}),(0,a.jsx)(c.I,{id:"address",value:es.address,onChange:e=>ea({...es,address:e.target.value}),placeholder:"123 Business St"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o._,{htmlFor:"city",children:"City"}),(0,a.jsx)(c.I,{id:"city",value:es.city,onChange:e=>ea({...es,city:e.target.value}),placeholder:"City"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o._,{htmlFor:"state",children:"State/Province"}),(0,a.jsx)(c.I,{id:"state",value:es.state,onChange:e=>ea({...es,state:e.target.value}),placeholder:"State"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o._,{htmlFor:"country",children:"Country"}),(0,a.jsx)(c.I,{id:"country",value:es.country,onChange:e=>ea({...es,country:e.target.value}),placeholder:"Country"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o._,{htmlFor:"postalCode",children:"Postal Code"}),(0,a.jsx)(c.I,{id:"postalCode",value:es.postalCode,onChange:e=>ea({...es,postalCode:e.target.value}),placeholder:"12345"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o._,{htmlFor:"annualRevenue",children:"Annual Revenue"}),(0,a.jsx)(c.I,{id:"annualRevenue",value:es.annualRevenue||"",onChange:e=>ea({...es,annualRevenue:e.target.value?parseFloat(e.target.value):void 0}),placeholder:"1000000",type:"number",min:"0",step:"1000"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o._,{htmlFor:"employeeCount",children:"Employee Count"}),(0,a.jsx)(c.I,{id:"employeeCount",value:es.employeeCount||"",onChange:e=>ea({...es,employeeCount:e.target.value?parseInt(e.target.value):void 0}),placeholder:"50",type:"number",min:"1"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o._,{htmlFor:"foundedYear",children:"Founded Year"}),(0,a.jsx)(c.I,{id:"foundedYear",value:es.foundedYear||"",onChange:e=>ea({...es,foundedYear:e.target.value?parseInt(e.target.value):void 0}),placeholder:"2020",type:"number",min:"1800",max:new Date().getFullYear()})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)(o._,{htmlFor:"description",children:"Description"}),(0,a.jsx)(d.g,{id:"description",value:es.description,onChange:e=>ea({...es,description:e.target.value}),placeholder:"Brief description of the company",rows:3})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)(o._,{htmlFor:"notes",children:"Notes"}),(0,a.jsx)(d.g,{id:"notes",value:es.notes,onChange:e=>ea({...es,notes:e.target.value}),placeholder:"Additional notes about the company",rows:3})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)(o._,{htmlFor:"tags",children:"Tags (comma-separated)"}),(0,a.jsx)(c.I,{id:"tags",value:(null===(e=es.tags)||void 0===e?void 0:e.join(", "))||"",onChange:e=>ea({...es,tags:e.target.value?e.target.value.split(",").map(e=>e.trim()):[]}),placeholder:"tag1, tag2, tag3"})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)(o._,{htmlFor:"isActive",children:"Status"}),(0,a.jsxs)(m.Ph,{value:es.isActive?"active":"inactive",onValueChange:e=>ea({...es,isActive:"active"===e}),children:[(0,a.jsx)(m.i4,{children:(0,a.jsx)(m.ki,{})}),(0,a.jsxs)(m.Bw,{children:[(0,a.jsx)(m.Ql,{value:"active",children:"Active"}),(0,a.jsx)(m.Ql,{value:"inactive",children:"Inactive"})]})]})]})]}),(0,a.jsxs)(p.cN,{children:[(0,a.jsx)(r.z,{type:"button",variant:"outline",onClick:()=>{F(!1),D(null),el(),K(""),H("")},children:"Cancel"}),(0,a.jsx)(r.z,{type:"submit",disabled:Q,children:Q?"Saving...":k?"Update Company":"Create Company"})]})]})]})}),(0,a.jsx)(p.Vq,{open:!!U,onOpenChange:()=>Z(null),children:(0,a.jsxs)(p.cZ,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)(p.fK,{children:(0,a.jsx)(p.$N,{children:"Company Details"})}),U&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)(o._,{className:"text-sm font-medium text-gray-500",children:"Company Name"}),(0,a.jsx)("p",{className:"text-lg font-semibold",children:U.name})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o._,{className:"text-sm font-medium text-gray-500",children:"Industry"}),(0,a.jsx)("p",{children:U.industry?U.industry.charAt(0).toUpperCase()+U.industry.slice(1):"Not specified"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o._,{className:"text-sm font-medium text-gray-500",children:"Company Size"}),(0,a.jsx)("p",{children:U.size?U.size.charAt(0).toUpperCase()+U.size.slice(1):"Not specified"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o._,{className:"text-sm font-medium text-gray-500",children:"Website"}),(0,a.jsx)("p",{children:U.website||"Not specified"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o._,{className:"text-sm font-medium text-gray-500",children:"Phone"}),(0,a.jsx)("p",{children:U.phone||"Not specified"})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)(o._,{className:"text-sm font-medium text-gray-500",children:"Address"}),(0,a.jsx)("p",{children:U.address||"Not specified"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o._,{className:"text-sm font-medium text-gray-500",children:"City"}),(0,a.jsx)("p",{children:U.city||"Not specified"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o._,{className:"text-sm font-medium text-gray-500",children:"State/Province"}),(0,a.jsx)("p",{children:U.state||"Not specified"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o._,{className:"text-sm font-medium text-gray-500",children:"Country"}),(0,a.jsx)("p",{children:U.country||"Not specified"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o._,{className:"text-sm font-medium text-gray-500",children:"Postal Code"}),(0,a.jsx)("p",{children:U.postalCode||"Not specified"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o._,{className:"text-sm font-medium text-gray-500",children:"Annual Revenue"}),(0,a.jsx)("p",{children:U.annualRevenue?b.ZP.formatCurrency(U.annualRevenue):"Not specified"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o._,{className:"text-sm font-medium text-gray-500",children:"Employee Count"}),(0,a.jsx)("p",{children:U.employeeCount||"Not specified"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(o._,{className:"text-sm font-medium text-gray-500",children:"Founded Year"}),(0,a.jsx)("p",{children:U.foundedYear||"Not specified"})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)(o._,{className:"text-sm font-medium text-gray-500",children:"Description"}),(0,a.jsx)("p",{children:U.description||"Not specified"})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)(o._,{className:"text-sm font-medium text-gray-500",children:"Notes"}),(0,a.jsx)("p",{children:U.notes||"Not specified"})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)(o._,{className:"text-sm font-medium text-gray-500",children:"Tags"}),(0,a.jsx)("div",{className:"flex flex-wrap gap-2",children:U.tags&&U.tags.length>0?U.tags.map((e,t)=>(0,a.jsx)(l.C,{variant:"outline",children:e},t)):(0,a.jsx)("p",{children:"No tags"})})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)(o._,{className:"text-sm font-medium text-gray-500",children:"Status"}),(0,a.jsx)(l.C,{variant:U.isActive?"default":"secondary",children:U.isActive?"Active":"Inactive"})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)(o._,{className:"text-sm font-medium text-gray-500",children:"Created"}),(0,a.jsx)("p",{children:b.ZP.formatDate(U.createdAt)})]}),(0,a.jsxs)("div",{className:"md:col-span-2",children:[(0,a.jsx)(o._,{className:"text-sm font-medium text-gray-500",children:"Last Updated"}),(0,a.jsx)("p",{children:b.ZP.formatDate(U.updatedAt)})]})]}),(0,a.jsxs)(p.cN,{children:[(0,a.jsx)(r.z,{type:"button",variant:"outline",onClick:()=>Z(null),children:"Close"}),(0,a.jsx)(r.z,{type:"button",onClick:()=>{Z(null),ed(U)},children:"Edit Company"})]})]})]})}),(0,a.jsx)(p.Vq,{open:!!M,onOpenChange:()=>Y(null),children:(0,a.jsxs)(p.cZ,{className:"max-w-md",children:[(0,a.jsx)(p.fK,{children:(0,a.jsx)(p.$N,{children:"Delete Company"})}),M&&(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("p",{className:"text-gray-600",children:["Are you sure you want to delete"," ",(0,a.jsxs)("strong",{children:['"',M.name,'"']}),"? This action cannot be undone."]}),(0,a.jsxs)(p.cN,{children:[(0,a.jsx)(r.z,{type:"button",variant:"outline",onClick:()=>Y(null),children:"Cancel"}),(0,a.jsx)(r.z,{type:"button",variant:"destructive",onClick:eu,disabled:V,children:V?"Deleting...":"Delete Company"})]})]})]})}),(0,a.jsx)(E.O,{open:$,onOpenChange:X,title:"Create New Industry",description:"Create a custom industry that will be available for your tenant.",optionName:"Industry",placeholder:"e.g., Fintech, EdTech",onSubmit:er,loading:et.industry})]})})}},11888:function(e,t,s){"use strict";s.d(t,{cl:function(){return a.default}});var a=s(78742);s(28278),s(59399)},95937:function(e,t,s){"use strict";s.d(t,{X:function(){return d},bZ:function(){return c}});var a=s(57437),n=s(2265),i=s(90535),r=s(93448);let l=(0,i.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",success:"border-green-500/50 text-green-700 bg-green-50 [&>svg]:text-green-600",warning:"border-yellow-500/50 text-yellow-700 bg-yellow-50 [&>svg]:text-yellow-600",info:"border-blue-500/50 text-blue-700 bg-blue-50 [&>svg]:text-blue-600"}},defaultVariants:{variant:"default"}}),c=n.forwardRef((e,t)=>{let{className:s,variant:n,...i}=e;return(0,a.jsx)("div",{ref:t,role:"alert",className:(0,r.cn)(l({variant:n}),s),...i})});c.displayName="Alert",n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("h5",{ref:t,className:(0,r.cn)("mb-1 font-medium leading-none tracking-tight",s),...n})}).displayName="AlertTitle";let d=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,r.cn)("text-sm [&_p]:leading-relaxed",s),...n})});d.displayName="AlertDescription"},43163:function(e,t,s){"use strict";var a,n,i,r,l,c,d,o,u,m,p,h,x,v;s.d(t,{b5:function(){return d},rl:function(){return a},tc:function(){return i},uC:function(){return r},x7:function(){return c},yF:function(){return n}}),(o=a||(a={})).NEW="new",o.CONTACTED="contacted",o.QUALIFIED="qualified",o.PROPOSAL_SENT="proposal_sent",o.NEGOTIATION="negotiation",o.WON="won",o.LOST="lost",(u=n||(n={})).WEBSITE="website",u.REFERRAL="referral",u.SOCIAL_MEDIA="social_media",u.EMAIL_CAMPAIGN="email_campaign",u.COLD_CALL="cold_call",u.TRADE_SHOW="trade_show",u.PARTNER="partner",u.OTHER="other",(m=i||(i={})).PROSPECTING="prospecting",m.QUALIFICATION="qualification",m.PROPOSAL="proposal",m.NEGOTIATION="negotiation",m.CLOSED_WON="closed_won",m.CLOSED_LOST="closed_lost",(p=r||(r={})).LEAD="lead",p.CUSTOMER="customer",p.PARTNER="partner",p.VENDOR="vendor",p.OTHER="other",(h=l||(l={})).CALL="call",h.EMAIL="email",h.MEETING="meeting",h.TASK="task",h.NOTE="note",h.PROPOSAL="proposal",h.CONTRACT="contract",(x=c||(c={})).STARTUP="startup",x.SMALL="small",x.MEDIUM="medium",x.LARGE="large",x.ENTERPRISE="enterprise",(v=d||(d={})).TECHNOLOGY="technology",v.HEALTHCARE="healthcare",v.FINANCE="finance",v.MANUFACTURING="manufacturing",v.RETAIL="retail",v.EDUCATION="education",v.REAL_ESTATE="real_estate",v.CONSULTING="consulting",v.OTHER="other"},87766:function(e,t,s){"use strict";s.d(t,{vZ:function(){return n}});var a=s(89441);class n{static async getCustomers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,s=arguments.length>2?arguments[2]:void 0,n=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,r=new URLSearchParams({skip:e.toString(),limit:t.toString()});return s&&r.append("search",s),n&&r.append("status",n),i&&r.append("customer_type",i),await a.sM.get("/crm/customers?".concat(r.toString()))}static async getCustomerById(e){return await a.sM.get("/crm/customers/".concat(e))}static async createCustomer(e){return await a.sM.post("/crm/customers",e)}static async updateCustomer(e,t){return await a.sM.put("/crm/customers/".concat(e),t)}static async deleteCustomer(e){return await a.sM.delete("/crm/customers/".concat(e))}static async getCustomerStats(){return await a.sM.get("/crm/customers/stats")}static async searchCustomers(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return await a.sM.get("/crm/customers/search?q=".concat(encodeURIComponent(e),"&limit=").concat(t))}}class i{async getLeads(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=new URLSearchParams;return(null==e?void 0:e.status)&&a.append("status",e.status),(null==e?void 0:e.source)&&a.append("source",e.source),(null==e?void 0:e.assignedTo)&&a.append("assigned_to",e.assignedTo),(null==e?void 0:e.search)&&a.append("search",e.search),a.append("page",t.toString()),a.append("limit",s.toString()),this.apiService.get("/crm/leads?".concat(a.toString()))}async getLead(e){return this.apiService.get("/crm/leads/".concat(e))}async createLead(e){return this.apiService.post("/crm/leads",e)}async updateLead(e,t){return this.apiService.put("/crm/leads/".concat(e),t)}async deleteLead(e){return this.apiService.delete("/crm/leads/".concat(e))}async convertLeadToContact(e,t){return this.apiService.post("/crm/leads/".concat(e,"/convert"),t)}async getContacts(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=new URLSearchParams;return(null==e?void 0:e.type)&&a.append("type",e.type),(null==e?void 0:e.companyId)&&a.append("company_id",e.companyId),(null==e?void 0:e.search)&&a.append("search",e.search),a.append("page",t.toString()),a.append("limit",s.toString()),this.apiService.get("/crm/contacts?".concat(a.toString()))}async getContact(e){return this.apiService.get("/crm/contacts/".concat(e))}async createContact(e){return this.apiService.post("/crm/contacts",e)}async updateContact(e,t){return this.apiService.put("/crm/contacts/".concat(e),t)}async deleteContact(e){return this.apiService.delete("/crm/contacts/".concat(e))}async getCompanies(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=new URLSearchParams;return(null==e?void 0:e.industry)&&a.append("industry",e.industry),(null==e?void 0:e.size)&&a.append("size",e.size),(null==e?void 0:e.search)&&a.append("search",e.search),a.append("page",t.toString()),a.append("limit",s.toString()),this.apiService.get("/crm/companies?".concat(a.toString()))}async getCompany(e){return this.apiService.get("/crm/companies/".concat(e))}async createCompany(e){return this.apiService.post("/crm/companies",e)}async updateCompany(e,t){return this.apiService.put("/crm/companies/".concat(e),t)}async deleteCompany(e){return this.apiService.delete("/crm/companies/".concat(e))}async getOpportunities(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=new URLSearchParams;return(null==e?void 0:e.stage)&&a.append("stage",e.stage),(null==e?void 0:e.assignedTo)&&a.append("assigned_to",e.assignedTo),(null==e?void 0:e.search)&&a.append("search",e.search),a.append("page",t.toString()),a.append("limit",s.toString()),this.apiService.get("/crm/opportunities?".concat(a.toString()))}async getOpportunity(e){return this.apiService.get("/crm/opportunities/".concat(e))}async createOpportunity(e){return this.apiService.post("/crm/opportunities",e)}async updateOpportunity(e,t){return this.apiService.put("/crm/opportunities/".concat(e),t)}async deleteOpportunity(e){return this.apiService.delete("/crm/opportunities/".concat(e))}async getActivities(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=new URLSearchParams;return(null==e?void 0:e.type)&&a.append("type",e.type),(null==e?void 0:e.completed)!==void 0&&a.append("completed",e.completed.toString()),(null==e?void 0:e.search)&&a.append("search",e.search),a.append("page",t.toString()),a.append("limit",s.toString()),this.apiService.get("/crm/activities?".concat(a.toString()))}async getActivity(e){return this.apiService.get("/crm/activities/".concat(e))}async createActivity(e){return this.apiService.post("/crm/activities",e)}async updateActivity(e,t){return this.apiService.put("/crm/activities/".concat(e),t)}async deleteActivity(e){return this.apiService.delete("/crm/activities/".concat(e))}async getDashboard(){return this.apiService.get("/crm/dashboard")}getLeadStatusColor(e){return({new:"bg-blue-100 text-blue-800",contacted:"bg-yellow-100 text-yellow-800",qualified:"bg-green-100 text-green-800",proposal_sent:"bg-purple-100 text-purple-800",negotiation:"bg-orange-100 text-orange-800",won:"bg-green-100 text-green-800",lost:"bg-red-100 text-red-800"})[e]||"bg-gray-100 text-gray-800"}getOpportunityStageColor(e){return({prospecting:"bg-blue-100 text-blue-800",qualification:"bg-yellow-100 text-yellow-800",proposal:"bg-purple-100 text-purple-800",negotiation:"bg-orange-100 text-orange-800",closed_won:"bg-green-100 text-green-800",closed_lost:"bg-red-100 text-red-800"})[e]||"bg-gray-100 text-gray-800"}getActivityTypeColor(e){return({call:"bg-blue-100 text-blue-800",email:"bg-green-100 text-green-800",meeting:"bg-purple-100 text-purple-800",task:"bg-yellow-100 text-yellow-800",note:"bg-gray-100 text-gray-800",proposal:"bg-indigo-100 text-indigo-800",contract:"bg-pink-100 text-pink-800"})[e]||"bg-gray-100 text-gray-800"}formatCurrency(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}formatDate(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}formatDateTime(e){return new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}constructor(){this.apiService=new a.sM}}t.ZP=new i}},function(e){e.O(0,[7846,7648,4259,2709,2451,4975,4687,9515,5200,5372,2971,2117,1744],function(){return e(e.s=42968)}),_N_E=e.O()}]);