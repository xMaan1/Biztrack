(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6045],{60629:function(e,t,s){Promise.resolve().then(s.bind(s,87082))},22252:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]])},98420:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},65302:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},56266:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("MoreHorizontal",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]])},94630:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},13041:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},18930:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},45131:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]])},87082:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return T}});var a=s(57437),r=s(2265),i=s(79820),n=s(12381),l=s(69174),c=s(40279),d=s(75060),o=s(15291),u=s(74291),m=s(33804),h=s(32060),x=s(65302),p=s(45131),f=s(22252),g=s(92369),j=s(98420),v=s(99397),y=s(95805),N=s(73247),b=s(13041),w=s(56266),C=s(94630),S=s(18930),k=s(87766),_=s(11888),Z=s(14438);function T(){var e,t;let[s,T]=(0,r.useState)([]),[F,L]=(0,r.useState)(null),[I,M]=(0,r.useState)(!0),[R,A]=(0,r.useState)(""),[z,B]=(0,r.useState)("all"),[P,D]=(0,r.useState)("all"),[Q,V]=(0,r.useState)(1),[O,q]=(0,r.useState)(1),[E,U]=(0,r.useState)(!1),[Y,H]=(0,r.useState)(!1),[$,J]=(0,r.useState)(null),[K,X]=(0,r.useState)({firstName:"",lastName:"",email:"",phone:"",mobile:"",cnic:"",customerType:"individual",customerStatus:"active",creditLimit:0,currentBalance:0,paymentTerms:"immediate",tags:[]});(0,r.useEffect)(()=>{G(),W()},[Q,R,z,P]);let G=async()=>{try{M(!0);let e=(Q-1)*10,t=await k.vZ.getCustomers(e,10,R||void 0,"all"===z?void 0:z,"all"===P?void 0:P),s=t.customers||t;T(s),q(Math.ceil((t.total||s.length)/10))}catch(e){console.error("Error loading customers:",e),Z.Am.error("Failed to load customers")}finally{M(!1)}},W=async()=>{try{let e=await k.vZ.getCustomerStats();L(e)}catch(e){console.error("Error loading stats:",e)}},ee=async()=>{try{await k.vZ.createCustomer(K),Z.Am.success("Customer created successfully"),U(!1),ea(),G(),W()}catch(e){console.error("Error creating customer:",e),Z.Am.error("Failed to create customer")}},et=async()=>{if($)try{await k.vZ.updateCustomer($.id,K),Z.Am.success("Customer updated successfully"),H(!1),ea(),G(),W()}catch(e){console.error("Error updating customer:",e),Z.Am.error("Failed to update customer")}},es=async e=>{try{await k.vZ.deleteCustomer(e),Z.Am.success("Customer deleted successfully"),G(),W()}catch(e){console.error("Error deleting customer:",e),Z.Am.error("Failed to delete customer")}},ea=()=>{X({firstName:"",lastName:"",email:"",phone:"",mobile:"",cnic:"",customerType:"individual",customerStatus:"active",creditLimit:0,currentBalance:0,paymentTerms:"immediate",tags:[]}),J(null)},er=e=>{J(e),X({firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone||"",mobile:e.mobile||"",cnic:e.cnic||"",customerType:e.customerType,customerStatus:e.customerStatus,creditLimit:e.creditLimit,currentBalance:e.currentBalance,paymentTerms:e.paymentTerms,tags:e.tags}),H(!0)},ei=e=>{let t={active:{color:"bg-green-100 text-green-800",icon:x.Z},inactive:{color:"bg-gray-100 text-gray-800",icon:p.Z},blocked:{color:"bg-red-100 text-red-800",icon:f.Z}},s=t[e]||t.inactive,r=s.icon;return(0,a.jsxs)(l.C,{className:s.color,children:[(0,a.jsx)(r,{className:"w-3 h-3 mr-1"}),e]})},en=e=>{let t={individual:{color:"bg-blue-100 text-blue-800",icon:g.Z},business:{color:"bg-purple-100 text-purple-800",icon:j.Z}},s=t[e]||t.individual,r=s.icon;return(0,a.jsxs)(l.C,{className:s.color,children:[(0,a.jsx)(r,{className:"w-3 h-3 mr-1"}),e]})};return(0,a.jsx)(_.cl,{children:(0,a.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"Customers"}),(0,a.jsx)("p",{className:"text-gray-600",children:"Manage your customer relationships and information"})]}),(0,a.jsxs)(u.Vq,{open:E,onOpenChange:U,children:[(0,a.jsx)(u.hg,{asChild:!0,children:(0,a.jsxs)(n.z,{onClick:()=>ea(),children:[(0,a.jsx)(v.Z,{className:"w-4 h-4 mr-2"}),"Add Customer"]})}),(0,a.jsxs)(u.cZ,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(u.fK,{children:[(0,a.jsx)(u.$N,{children:"Create New Customer"}),(0,a.jsx)(u.Be,{children:"Add a new customer to your CRM system"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(d._,{htmlFor:"firstName",children:"First Name *"}),(0,a.jsx)(c.I,{id:"firstName",value:K.firstName,onChange:e=>X({...K,firstName:e.target.value}),placeholder:"John"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d._,{htmlFor:"lastName",children:"Last Name *"}),(0,a.jsx)(c.I,{id:"lastName",value:K.lastName,onChange:e=>X({...K,lastName:e.target.value}),placeholder:"Doe"})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)(d._,{htmlFor:"email",children:"Email *"}),(0,a.jsx)(c.I,{id:"email",type:"email",value:K.email,onChange:e=>X({...K,email:e.target.value}),placeholder:"john.doe@example.com"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d._,{htmlFor:"phone",children:"Phone"}),(0,a.jsx)(c.I,{id:"phone",value:K.phone,onChange:e=>X({...K,phone:e.target.value}),placeholder:"+92 300 1234567"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d._,{htmlFor:"mobile",children:"Mobile"}),(0,a.jsx)(c.I,{id:"mobile",value:K.mobile,onChange:e=>X({...K,mobile:e.target.value}),placeholder:"+92 300 1234567"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d._,{htmlFor:"cnic",children:"CNIC"}),(0,a.jsx)(c.I,{id:"cnic",value:K.cnic,onChange:e=>X({...K,cnic:e.target.value}),placeholder:"12345-1234567-1"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d._,{htmlFor:"customerType",children:"Customer Type"}),(0,a.jsxs)(o.Ph,{value:K.customerType,onValueChange:e=>X({...K,customerType:e}),children:[(0,a.jsx)(o.i4,{children:(0,a.jsx)(o.ki,{})}),(0,a.jsxs)(o.Bw,{children:[(0,a.jsx)(o.Ql,{value:"individual",children:"Individual"}),(0,a.jsx)(o.Ql,{value:"business",children:"Business"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d._,{htmlFor:"customerStatus",children:"Status"}),(0,a.jsxs)(o.Ph,{value:K.customerStatus,onValueChange:e=>X({...K,customerStatus:e}),children:[(0,a.jsx)(o.i4,{children:(0,a.jsx)(o.ki,{})}),(0,a.jsxs)(o.Bw,{children:[(0,a.jsx)(o.Ql,{value:"active",children:"Active"}),(0,a.jsx)(o.Ql,{value:"inactive",children:"Inactive"}),(0,a.jsx)(o.Ql,{value:"blocked",children:"Blocked"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d._,{htmlFor:"creditLimit",children:"Credit Limit"}),(0,a.jsx)(c.I,{id:"creditLimit",type:"number",value:K.creditLimit,onChange:e=>X({...K,creditLimit:parseFloat(e.target.value)||0}),placeholder:"0.00"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d._,{htmlFor:"paymentTerms",children:"Payment Terms"}),(0,a.jsxs)(o.Ph,{value:K.paymentTerms,onValueChange:e=>X({...K,paymentTerms:e}),children:[(0,a.jsx)(o.i4,{children:(0,a.jsx)(o.ki,{})}),(0,a.jsxs)(o.Bw,{children:[(0,a.jsx)(o.Ql,{value:"immediate",children:"Immediate"}),(0,a.jsx)(o.Ql,{value:"net30",children:"Net 30"}),(0,a.jsx)(o.Ql,{value:"net60",children:"Net 60"})]})]})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)(d._,{htmlFor:"tags",children:"Tags (comma separated)"}),(0,a.jsx)(c.I,{id:"tags",value:(null===(e=K.tags)||void 0===e?void 0:e.join(", "))||"",onChange:e=>X({...K,tags:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)}),placeholder:"vip, regular, premium"})]})]}),(0,a.jsxs)(u.cN,{children:[(0,a.jsx)(n.z,{variant:"outline",onClick:()=>U(!1),children:"Cancel"}),(0,a.jsx)(n.z,{onClick:ee,children:"Create Customer"})]})]})]})]}),F&&(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(i.ll,{className:"text-sm font-medium",children:"Total Customers"}),(0,a.jsx)(y.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(i.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:F.total_customers}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[F.active_customers," active"]})]})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(i.ll,{className:"text-sm font-medium",children:"Active Customers"}),(0,a.jsx)(x.Z,{className:"h-4 w-4 text-green-600"})]}),(0,a.jsxs)(i.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-green-600",children:F.active_customers}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(F.active_customers/F.total_customers*100).toFixed(1),"% of total"]})]})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(i.ll,{className:"text-sm font-medium",children:"Individual Customers"}),(0,a.jsx)(g.Z,{className:"h-4 w-4 text-blue-600"})]}),(0,a.jsxs)(i.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-blue-600",children:F.individual_customers}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(F.individual_customers/F.total_customers*100).toFixed(1),"% of total"]})]})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(i.ll,{className:"text-sm font-medium",children:"Business Customers"}),(0,a.jsx)(j.Z,{className:"h-4 w-4 text-purple-600"})]}),(0,a.jsxs)(i.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold text-purple-600",children:F.business_customers}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:[(F.business_customers/F.total_customers*100).toFixed(1),"% of total"]})]})]})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsx)(i.Ol,{children:(0,a.jsx)(i.ll,{children:"Search & Filters"})}),(0,a.jsx)(i.aY,{children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-4",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(d._,{htmlFor:"search",children:"Search"}),(0,a.jsxs)("div",{className:"relative",children:[(0,a.jsx)(N.Z,{className:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),(0,a.jsx)(c.I,{id:"search",placeholder:"Search by name, email, phone, CNIC...",value:R,onChange:e=>A(e.target.value),className:"pl-10"})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d._,{htmlFor:"status",children:"Status"}),(0,a.jsxs)(o.Ph,{value:z,onValueChange:B,children:[(0,a.jsx)(o.i4,{children:(0,a.jsx)(o.ki,{placeholder:"All Statuses"})}),(0,a.jsxs)(o.Bw,{children:[(0,a.jsx)(o.Ql,{value:"all",children:"All Statuses"}),(0,a.jsx)(o.Ql,{value:"active",children:"Active"}),(0,a.jsx)(o.Ql,{value:"inactive",children:"Inactive"}),(0,a.jsx)(o.Ql,{value:"blocked",children:"Blocked"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d._,{htmlFor:"type",children:"Type"}),(0,a.jsxs)(o.Ph,{value:P,onValueChange:D,children:[(0,a.jsx)(o.i4,{children:(0,a.jsx)(o.ki,{placeholder:"All Types"})}),(0,a.jsxs)(o.Bw,{children:[(0,a.jsx)(o.Ql,{value:"all",children:"All Types"}),(0,a.jsx)(o.Ql,{value:"individual",children:"Individual"}),(0,a.jsx)(o.Ql,{value:"business",children:"Business"})]})]})]})]})})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{children:[(0,a.jsx)(i.ll,{children:"Customer List"}),(0,a.jsxs)(i.SZ,{children:[s.length," customers found"]})]}),(0,a.jsx)(i.aY,{children:I?(0,a.jsx)("div",{className:"flex items-center justify-center py-8",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})}):0===s.length?(0,a.jsx)("div",{className:"text-center py-8 text-gray-500",children:"No customers found. Create your first customer to get started."}):(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(m.iA,{children:[(0,a.jsx)(m.xD,{children:(0,a.jsxs)(m.SC,{children:[(0,a.jsx)(m.ss,{children:"Customer ID"}),(0,a.jsx)(m.ss,{children:"Name"}),(0,a.jsx)(m.ss,{children:"Contact"}),(0,a.jsx)(m.ss,{children:"Type"}),(0,a.jsx)(m.ss,{children:"Status"}),(0,a.jsx)(m.ss,{children:"Credit Limit"}),(0,a.jsx)(m.ss,{children:"Actions"})]})}),(0,a.jsx)(m.RM,{children:s.map(e=>(0,a.jsxs)(m.SC,{children:[(0,a.jsx)(m.pj,{className:"font-mono text-sm",children:e.customerId}),(0,a.jsx)(m.pj,{children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:"font-medium",children:[e.firstName," ",e.lastName]}),(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:e.email})]})}),(0,a.jsx)(m.pj,{children:(0,a.jsxs)("div",{className:"space-y-1",children:[e.phone&&(0,a.jsxs)("div",{className:"flex items-center text-sm",children:[(0,a.jsx)(b.Z,{className:"w-3 h-3 mr-1"}),e.phone]}),e.mobile&&(0,a.jsxs)("div",{className:"flex items-center text-sm",children:[(0,a.jsx)(b.Z,{className:"w-3 h-3 mr-1"}),e.mobile]}),e.cnic&&(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["CNIC: ",e.cnic]})]})}),(0,a.jsx)(m.pj,{children:en(e.customerType)}),(0,a.jsx)(m.pj,{children:ei(e.customerStatus)}),(0,a.jsx)(m.pj,{children:(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"font-medium",children:["Rs. ",e.creditLimit.toLocaleString()]}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Balance: Rs."," ",e.currentBalance.toLocaleString()]})]})}),(0,a.jsx)(m.pj,{children:(0,a.jsxs)(h.h_,{children:[(0,a.jsx)(h.$F,{asChild:!0,children:(0,a.jsx)(n.z,{variant:"ghost",className:"h-8 w-8 p-0",children:(0,a.jsx)(w.Z,{className:"h-4 w-4"})})}),(0,a.jsxs)(h.AW,{align:"end",children:[(0,a.jsx)(h.Ju,{children:"Actions"}),(0,a.jsxs)(h.Xi,{onClick:()=>er(e),children:[(0,a.jsx)(C.Z,{className:"mr-2 h-4 w-4"}),"Edit"]}),(0,a.jsx)(h.VD,{}),(0,a.jsxs)(u.Vq,{children:[(0,a.jsx)(u.hg,{asChild:!0,children:(0,a.jsxs)(h.Xi,{onSelect:e=>e.preventDefault(),children:[(0,a.jsx)(S.Z,{className:"mr-2 h-4 w-4"}),"Delete"]})}),(0,a.jsxs)(u.cZ,{children:[(0,a.jsxs)(u.fK,{children:[(0,a.jsx)(u.$N,{children:"Delete Customer"}),(0,a.jsx)(u.Be,{children:"Are you sure you want to delete this customer? This action cannot be undone."})]}),(0,a.jsxs)("div",{className:"flex justify-end space-x-2 mt-4",children:[(0,a.jsx)(n.z,{variant:"outline",onClick:()=>{},children:"Cancel"}),(0,a.jsx)(n.z,{onClick:()=>es(e.id),className:"bg-red-600 hover:bg-red-700",children:"Delete"})]})]})]})]})]})})]},e.id))})]}),O>1&&(0,a.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Page ",Q," of ",O]}),(0,a.jsxs)("div",{className:"flex space-x-2",children:[(0,a.jsx)(n.z,{variant:"outline",size:"sm",onClick:()=>V(Math.max(1,Q-1)),disabled:1===Q,children:"Previous"}),(0,a.jsx)(n.z,{variant:"outline",size:"sm",onClick:()=>V(Math.min(O,Q+1)),disabled:Q===O,children:"Next"})]})]})]})})]}),(0,a.jsx)(u.Vq,{open:Y,onOpenChange:H,children:(0,a.jsxs)(u.cZ,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[(0,a.jsxs)(u.fK,{children:[(0,a.jsx)(u.$N,{children:"Edit Customer"}),(0,a.jsx)(u.Be,{children:"Update customer information"})]}),(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(d._,{htmlFor:"editFirstName",children:"First Name *"}),(0,a.jsx)(c.I,{id:"editFirstName",value:K.firstName,onChange:e=>X({...K,firstName:e.target.value}),placeholder:"John"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d._,{htmlFor:"editLastName",children:"Last Name *"}),(0,a.jsx)(c.I,{id:"editLastName",value:K.lastName,onChange:e=>X({...K,lastName:e.target.value}),placeholder:"Doe"})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)(d._,{htmlFor:"editEmail",children:"Email *"}),(0,a.jsx)(c.I,{id:"editEmail",type:"email",value:K.email,onChange:e=>X({...K,email:e.target.value}),placeholder:"john.doe@example.com"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d._,{htmlFor:"editPhone",children:"Phone"}),(0,a.jsx)(c.I,{id:"editPhone",value:K.phone,onChange:e=>X({...K,phone:e.target.value}),placeholder:"+92 300 1234567"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d._,{htmlFor:"editMobile",children:"Mobile"}),(0,a.jsx)(c.I,{id:"editMobile",value:K.mobile,onChange:e=>X({...K,mobile:e.target.value}),placeholder:"+92 300 1234567"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d._,{htmlFor:"editCnic",children:"CNIC"}),(0,a.jsx)(c.I,{id:"editCnic",value:K.cnic,onChange:e=>X({...K,cnic:e.target.value}),placeholder:"12345-1234567-1"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d._,{htmlFor:"editCustomerType",children:"Customer Type"}),(0,a.jsxs)(o.Ph,{value:K.customerType,onValueChange:e=>X({...K,customerType:e}),children:[(0,a.jsx)(o.i4,{children:(0,a.jsx)(o.ki,{})}),(0,a.jsxs)(o.Bw,{children:[(0,a.jsx)(o.Ql,{value:"individual",children:"Individual"}),(0,a.jsx)(o.Ql,{value:"business",children:"Business"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d._,{htmlFor:"editCustomerStatus",children:"Status"}),(0,a.jsxs)(o.Ph,{value:K.customerStatus,onValueChange:e=>X({...K,customerStatus:e}),children:[(0,a.jsx)(o.i4,{children:(0,a.jsx)(o.ki,{})}),(0,a.jsxs)(o.Bw,{children:[(0,a.jsx)(o.Ql,{value:"active",children:"Active"}),(0,a.jsx)(o.Ql,{value:"inactive",children:"Inactive"}),(0,a.jsx)(o.Ql,{value:"blocked",children:"Blocked"})]})]})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d._,{htmlFor:"editCreditLimit",children:"Credit Limit"}),(0,a.jsx)(c.I,{id:"editCreditLimit",type:"number",value:K.creditLimit,onChange:e=>X({...K,creditLimit:parseFloat(e.target.value)||0}),placeholder:"0.00"})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(d._,{htmlFor:"editPaymentTerms",children:"Payment Terms"}),(0,a.jsxs)(o.Ph,{value:K.paymentTerms,onValueChange:e=>X({...K,paymentTerms:e}),children:[(0,a.jsx)(o.i4,{children:(0,a.jsx)(o.ki,{})}),(0,a.jsxs)(o.Bw,{children:[(0,a.jsx)(o.Ql,{value:"immediate",children:"Immediate"}),(0,a.jsx)(o.Ql,{value:"net30",children:"Net 30"}),(0,a.jsx)(o.Ql,{value:"net60",children:"Net 60"})]})]})]}),(0,a.jsxs)("div",{className:"col-span-2",children:[(0,a.jsx)(d._,{htmlFor:"editTags",children:"Tags (comma separated)"}),(0,a.jsx)(c.I,{id:"editTags",value:(null===(t=K.tags)||void 0===t?void 0:t.join(", "))||"",onChange:e=>X({...K,tags:e.target.value.split(",").map(e=>e.trim()).filter(Boolean)}),placeholder:"vip, regular, premium"})]})]}),(0,a.jsxs)(u.cN,{children:[(0,a.jsx)(n.z,{variant:"outline",onClick:()=>H(!1),children:"Cancel"}),(0,a.jsx)(n.z,{onClick:et,children:"Update Customer"})]})]})})]})})}},11888:function(e,t,s){"use strict";s.d(t,{cl:function(){return a.default}});var a=s(78742);s(28278),s(59399)},74291:function(e,t,s){"use strict";s.d(t,{$N:function(){return p},Be:function(){return f},Vq:function(){return c},cN:function(){return x},cZ:function(){return m},fK:function(){return h},hg:function(){return d}});var a=s(57437),r=s(2265),i=s(49027),n=s(32489),l=s(93448);let c=i.fC,d=i.xz,o=i.h_;i.x8;let u=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.aV,{ref:t,className:(0,l.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",s),...r})});u.displayName=i.aV.displayName;let m=r.forwardRef((e,t)=>{let{className:s,children:r,...c}=e;return(0,a.jsxs)(o,{children:[(0,a.jsx)(u,{}),(0,a.jsxs)(i.VY,{ref:t,className:(0,l.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",s),...c,children:[r,(0,a.jsxs)(i.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(n.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});m.displayName=i.VY.displayName;let h=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...s})};h.displayName="DialogHeader";let x=e=>{let{className:t,...s}=e;return(0,a.jsx)("div",{className:(0,l.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...s})};x.displayName="DialogFooter";let p=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.Dx,{ref:t,className:(0,l.cn)("text-lg font-semibold leading-none tracking-tight",s),...r})});p.displayName=i.Dx.displayName;let f=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.dk,{ref:t,className:(0,l.cn)("text-sm text-muted-foreground",s),...r})});f.displayName=i.dk.displayName},40279:function(e,t,s){"use strict";s.d(t,{I:function(){return n}});var a=s(57437),r=s(2265),i=s(93448);let n=r.forwardRef((e,t)=>{let{className:s,type:r,...n}=e;return(0,a.jsx)("input",{type:r,className:(0,i.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...n})});n.displayName="Input"},75060:function(e,t,s){"use strict";s.d(t,{_:function(){return d}});var a=s(57437),r=s(2265),i=s(6394),n=s(90535),l=s(93448);let c=(0,n.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.f,{ref:t,className:(0,l.cn)(c(),s),...r})});d.displayName=i.f.displayName},15291:function(e,t,s){"use strict";s.d(t,{Bw:function(){return p},Ph:function(){return o},Ql:function(){return f},i4:function(){return m},ki:function(){return u}});var a=s(57437),r=s(2265),i=s(33911),n=s(40875),l=s(22135),c=s(30401),d=s(93448);let o=i.fC;i.ZA;let u=i.B4,m=r.forwardRef((e,t)=>{let{className:s,children:r,...l}=e;return(0,a.jsxs)(i.xz,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",s),...l,children:[r,(0,a.jsx)(i.JO,{asChild:!0,children:(0,a.jsx)(n.Z,{className:"h-4 w-4 opacity-50"})})]})});m.displayName=i.xz.displayName;let h=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.u_,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(l.Z,{className:"h-4 w-4"})})});h.displayName=i.u_.displayName;let x=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.$G,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",s),...r,children:(0,a.jsx)(n.Z,{className:"h-4 w-4"})})});x.displayName=i.$G.displayName;let p=r.forwardRef((e,t)=>{let{className:s,children:r,position:n="popper",...l}=e;return(0,a.jsx)(i.h_,{children:(0,a.jsxs)(i.VY,{ref:t,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===n&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",s),position:n,...l,children:[(0,a.jsx)(h,{}),(0,a.jsx)(i.l_,{className:(0,d.cn)("p-1","popper"===n&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:r}),(0,a.jsx)(x,{})]})})});p.displayName=i.VY.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.__,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",s),...r})}).displayName=i.__.displayName;let f=r.forwardRef((e,t)=>{let{className:s,children:r,...n}=e;return(0,a.jsxs)(i.ck,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s),...n,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(i.wU,{children:(0,a.jsx)(c.Z,{className:"h-4 w-4"})})}),(0,a.jsx)(i.eT,{children:r})]})});f.displayName=i.ck.displayName,r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)(i.Z0,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",s),...r})}).displayName=i.Z0.displayName},33804:function(e,t,s){"use strict";s.d(t,{RM:function(){return c},SC:function(){return d},iA:function(){return n},pj:function(){return u},ss:function(){return o},xD:function(){return l}});var a=s(57437),r=s(2265),i=s(93448);let n=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,i.cn)("w-full caption-bottom text-sm",s),...r})})});n.displayName="Table";let l=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("thead",{ref:t,className:(0,i.cn)("[&_tr]:border-b",s),...r})});l.displayName="TableHeader";let c=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,i.cn)("[&_tr:last-child]:border-0",s),...r})});c.displayName="TableBody",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,i.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...r})}).displayName="TableFooter";let d=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("tr",{ref:t,className:(0,i.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...r})});d.displayName="TableRow";let o=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("th",{ref:t,className:(0,i.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...r})});o.displayName="TableHead";let u=r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("td",{ref:t,className:(0,i.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...r})});u.displayName="TableCell",r.forwardRef((e,t)=>{let{className:s,...r}=e;return(0,a.jsx)("caption",{ref:t,className:(0,i.cn)("mt-4 text-sm text-muted-foreground",s),...r})}).displayName="TableCaption"},87766:function(e,t,s){"use strict";s.d(t,{vZ:function(){return r}});var a=s(89441);class r{static async getCustomers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,s=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=arguments.length>4?arguments[4]:void 0,n=new URLSearchParams({skip:e.toString(),limit:t.toString()});return s&&n.append("search",s),r&&n.append("status",r),i&&n.append("customer_type",i),await a.sM.get("/crm/customers?".concat(n.toString()))}static async getCustomerById(e){return await a.sM.get("/crm/customers/".concat(e))}static async createCustomer(e){return await a.sM.post("/crm/customers",e)}static async updateCustomer(e,t){return await a.sM.put("/crm/customers/".concat(e),t)}static async deleteCustomer(e){return await a.sM.delete("/crm/customers/".concat(e))}static async getCustomerStats(){return await a.sM.get("/crm/customers/stats")}static async searchCustomers(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return await a.sM.get("/crm/customers/search?q=".concat(encodeURIComponent(e),"&limit=").concat(t))}}class i{async getLeads(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=new URLSearchParams;return(null==e?void 0:e.status)&&a.append("status",e.status),(null==e?void 0:e.source)&&a.append("source",e.source),(null==e?void 0:e.assignedTo)&&a.append("assigned_to",e.assignedTo),(null==e?void 0:e.search)&&a.append("search",e.search),a.append("page",t.toString()),a.append("limit",s.toString()),this.apiService.get("/crm/leads?".concat(a.toString()))}async getLead(e){return this.apiService.get("/crm/leads/".concat(e))}async createLead(e){return this.apiService.post("/crm/leads",e)}async updateLead(e,t){return this.apiService.put("/crm/leads/".concat(e),t)}async deleteLead(e){return this.apiService.delete("/crm/leads/".concat(e))}async convertLeadToContact(e,t){return this.apiService.post("/crm/leads/".concat(e,"/convert"),t)}async getContacts(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=new URLSearchParams;return(null==e?void 0:e.type)&&a.append("type",e.type),(null==e?void 0:e.companyId)&&a.append("company_id",e.companyId),(null==e?void 0:e.search)&&a.append("search",e.search),a.append("page",t.toString()),a.append("limit",s.toString()),this.apiService.get("/crm/contacts?".concat(a.toString()))}async getContact(e){return this.apiService.get("/crm/contacts/".concat(e))}async createContact(e){return this.apiService.post("/crm/contacts",e)}async updateContact(e,t){return this.apiService.put("/crm/contacts/".concat(e),t)}async deleteContact(e){return this.apiService.delete("/crm/contacts/".concat(e))}async getCompanies(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=new URLSearchParams;return(null==e?void 0:e.industry)&&a.append("industry",e.industry),(null==e?void 0:e.size)&&a.append("size",e.size),(null==e?void 0:e.search)&&a.append("search",e.search),a.append("page",t.toString()),a.append("limit",s.toString()),this.apiService.get("/crm/companies?".concat(a.toString()))}async getCompany(e){return this.apiService.get("/crm/companies/".concat(e))}async createCompany(e){return this.apiService.post("/crm/companies",e)}async updateCompany(e,t){return this.apiService.put("/crm/companies/".concat(e),t)}async deleteCompany(e){return this.apiService.delete("/crm/companies/".concat(e))}async getOpportunities(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=new URLSearchParams;return(null==e?void 0:e.stage)&&a.append("stage",e.stage),(null==e?void 0:e.assignedTo)&&a.append("assigned_to",e.assignedTo),(null==e?void 0:e.search)&&a.append("search",e.search),a.append("page",t.toString()),a.append("limit",s.toString()),this.apiService.get("/crm/opportunities?".concat(a.toString()))}async getOpportunity(e){return this.apiService.get("/crm/opportunities/".concat(e))}async createOpportunity(e){return this.apiService.post("/crm/opportunities",e)}async updateOpportunity(e,t){return this.apiService.put("/crm/opportunities/".concat(e),t)}async deleteOpportunity(e){return this.apiService.delete("/crm/opportunities/".concat(e))}async getActivities(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,a=new URLSearchParams;return(null==e?void 0:e.type)&&a.append("type",e.type),(null==e?void 0:e.completed)!==void 0&&a.append("completed",e.completed.toString()),(null==e?void 0:e.search)&&a.append("search",e.search),a.append("page",t.toString()),a.append("limit",s.toString()),this.apiService.get("/crm/activities?".concat(a.toString()))}async getActivity(e){return this.apiService.get("/crm/activities/".concat(e))}async createActivity(e){return this.apiService.post("/crm/activities",e)}async updateActivity(e,t){return this.apiService.put("/crm/activities/".concat(e),t)}async deleteActivity(e){return this.apiService.delete("/crm/activities/".concat(e))}async getDashboard(){return this.apiService.get("/crm/dashboard")}getLeadStatusColor(e){return({new:"bg-blue-100 text-blue-800",contacted:"bg-yellow-100 text-yellow-800",qualified:"bg-green-100 text-green-800",proposal_sent:"bg-purple-100 text-purple-800",negotiation:"bg-orange-100 text-orange-800",won:"bg-green-100 text-green-800",lost:"bg-red-100 text-red-800"})[e]||"bg-gray-100 text-gray-800"}getOpportunityStageColor(e){return({prospecting:"bg-blue-100 text-blue-800",qualification:"bg-yellow-100 text-yellow-800",proposal:"bg-purple-100 text-purple-800",negotiation:"bg-orange-100 text-orange-800",closed_won:"bg-green-100 text-green-800",closed_lost:"bg-red-100 text-red-800"})[e]||"bg-gray-100 text-gray-800"}getActivityTypeColor(e){return({call:"bg-blue-100 text-blue-800",email:"bg-green-100 text-green-800",meeting:"bg-purple-100 text-purple-800",task:"bg-yellow-100 text-yellow-800",note:"bg-gray-100 text-gray-800",proposal:"bg-indigo-100 text-indigo-800",contract:"bg-pink-100 text-pink-800"})[e]||"bg-gray-100 text-gray-800"}formatCurrency(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}formatDate(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}formatDateTime(e){return new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}constructor(){this.apiService=new a.sM}}t.ZP=new i},6394:function(e,t,s){"use strict";s.d(t,{f:function(){return l}});var a=s(2265),r=s(66840),i=s(57437),n=a.forwardRef((e,t)=>(0,i.jsx)(r.WV.label,{...e,ref:t,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||(null===(s=e.onMouseDown)||void 0===s||s.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));n.displayName="Label";var l=n}},function(e){e.O(0,[7846,7648,4259,2709,2451,4975,5202,9515,5200,2971,2117,1744],function(){return e(e.s=60629)}),_N_E=e.O()}]);