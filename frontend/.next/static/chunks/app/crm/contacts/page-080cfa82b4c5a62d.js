(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5023],{3891:function(e,t,a){Promise.resolve().then(a.bind(a,62879))},98420:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(39763).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},42208:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(39763).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},90740:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(39763).Z)("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]])},94630:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(39763).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},18930:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(39763).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},62879:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return A}});var n=a(57437),r=a(2265),s=a(79820),i=a(12381),l=a(69174),c=a(40279),o=a(23675),d=a(75060),u=a(15291),p=a(74291),m=a(95937),h=a(99397),x=a(90740),g=a(73247),v=a(95805),y=a(98420),j=a(42208),f=a(94630),N=a(18930),C=a(87766),b=a(43163),S=a(11888),w=a(66928),T=a(36171);function A(){var e,t;let[a,A]=(0,r.useState)([]),[E,I]=(0,r.useState)(!0),[_,D]=(0,r.useState)({}),[O,R]=(0,r.useState)(""),[k,M]=(0,r.useState)(!1),[P,L]=(0,r.useState)(null),[Z,F]=(0,r.useState)(null),[U,z]=(0,r.useState)(null),[V,q]=(0,r.useState)(!1),[W,H]=(0,r.useState)(!1),[Q,B]=(0,r.useState)(""),[G,K]=(0,r.useState)(""),[Y,X]=(0,r.useState)(!1),{customContactTypes:$,createCustomContactType:J,loading:ee}=(0,w.x)(),[et,ea]=(0,r.useState)({firstName:"",lastName:"",email:"",phone:"",mobile:"",jobTitle:"",department:"",companyId:"",type:b.uC.CUSTOMER,notes:"",tags:[],isActive:!0}),[en,er]=(0,r.useState)([]);(0,r.useEffect)(()=>{es(),ei()},[_]);let es=(0,r.useCallback)(async()=>{try{I(!0);let e=await C.ZP.getContacts(_,1,100);A(e.contacts)}catch(e){console.error("Contacts load error:",e)}finally{I(!1)}},[_]),ei=(0,r.useCallback)(async()=>{try{let e=await C.ZP.getCompanies({},1,100);er(e.companies||[])}catch(e){console.error("Companies load error:",e)}},[]),el=()=>{D(e=>({...e,search:O}))},ec=async(e,t)=>{try{await J(e,t)}catch(e){console.error("Failed to create custom contact type:",e)}},eo=()=>{ea({firstName:"",lastName:"",email:"",phone:"",mobile:"",jobTitle:"",department:"",companyId:"",type:b.uC.CUSTOMER,notes:"",tags:[],isActive:!0})},ed=async e=>{if(e.preventDefault(),!et.firstName.trim()||!et.lastName.trim()||!et.email.trim()){alert("First name, last name, and email are required");return}q(!0);try{P?console.log("Update contact:",P.id,et):(await C.ZP.createContact(et),B("Contact created successfully!"),M(!1),eo(),es(),setTimeout(()=>B(""),3e3))}catch(e){console.error("Error saving contact:",e),K("Error saving contact. Please try again."),setTimeout(()=>K(""),5e3)}finally{q(!1)}},eu=e=>{L(e),K(""),B(""),ea({firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone||"",mobile:e.mobile||"",jobTitle:e.jobTitle||"",department:e.department||"",companyId:e.companyId||"",type:e.type,notes:e.notes||"",tags:e.tags||[],isActive:e.isActive}),M(!0)},ep=e=>{F(e)},em=async e=>{z(e)},eh=async()=>{if(U){H(!0);try{await C.ZP.deleteContact(U.id),B("Contact deleted successfully!"),z(null),es(),setTimeout(()=>B(""),3e3)}catch(e){console.error("Error deleting contact:",e),K("Error deleting contact. Please try again."),setTimeout(()=>K(""),5e3)}finally{H(!1)}}};return E?(0,n.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"animate-spin rounded-full h-32 w-32 border-b-2 border-gray-900"}),(0,n.jsx)("p",{className:"mt-4 text-lg",children:"Loading Contacts..."})]})}):(0,n.jsx)(S.cl,{children:(0,n.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,n.jsxs)("div",{className:"flex justify-between items-center",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-gray-900",children:"CRM Contacts"}),(0,n.jsx)("p",{className:"text-gray-600",children:"Manage your customer contacts and relationships"}),Q&&(0,n.jsx)("div",{className:"mt-2 p-3 bg-green-50 border border-green-200 rounded-md",children:(0,n.jsx)("p",{className:"text-green-800 text-sm",children:Q})})]}),(0,n.jsxs)(i.z,{onClick:()=>{L(null),eo(),K(""),B(""),M(!0)},children:[(0,n.jsx)(h.Z,{className:"w-4 h-4 mr-2"}),"New Contact"]})]}),(0,n.jsxs)(s.Zb,{children:[(0,n.jsx)(s.Ol,{children:(0,n.jsxs)(s.ll,{className:"flex items-center",children:[(0,n.jsx)(x.Z,{className:"w-4 h-4 mr-2"}),"Filters & Search"]})}),(0,n.jsx)(s.aY,{children:(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-sm font-medium",children:"Search"}),(0,n.jsxs)("div",{className:"flex space-x-2",children:[(0,n.jsx)(c.I,{placeholder:"Search contacts...",value:O,onChange:e=>R(e.target.value),onKeyPress:e=>"Enter"===e.key&&el()}),(0,n.jsx)(i.z,{onClick:el,children:(0,n.jsx)(g.Z,{className:"w-4 h-4"})})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-sm font-medium",children:"Type"}),(0,n.jsxs)(u.Ph,{value:_.type||"all",onValueChange:e=>D(t=>({...t,type:"all"===e?void 0:e})),children:[(0,n.jsx)(u.i4,{children:(0,n.jsx)(u.ki,{placeholder:"All Types"})}),(0,n.jsxs)(u.Bw,{children:[(0,n.jsx)(u.Ql,{value:"all",children:"All Types"}),Object.values(b.uC).map(e=>(0,n.jsx)(u.Ql,{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e))]})]})]}),(0,n.jsx)("div",{className:"flex items-end",children:(0,n.jsx)(i.z,{variant:"outline",onClick:()=>{D({}),R("")},children:"Reset Filters"})})]})})]}),(0,n.jsxs)(s.Zb,{children:[(0,n.jsxs)(s.Ol,{children:[(0,n.jsxs)(s.ll,{children:["Contacts (",a.length,")"]}),(0,n.jsx)(s.SZ,{children:"Manage your customer contacts and track interactions"})]}),(0,n.jsx)(s.aY,{children:(0,n.jsx)("div",{className:"space-y-4",children:a.map(e=>(0,n.jsxs)("div",{className:"flex items-center justify-between p-4 border rounded-lg hover:bg-gray-50",children:[(0,n.jsxs)("div",{className:"flex-1",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-3",children:[(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(v.Z,{className:"w-5 h-5 text-gray-500"}),(0,n.jsxs)("div",{children:[(0,n.jsxs)("div",{className:"font-medium",children:[e.firstName," ",e.lastName]}),(0,n.jsx)("div",{className:"text-sm text-gray-500",children:e.email})]})]}),e.companyId&&(0,n.jsxs)("div",{className:"flex items-center space-x-1 text-sm text-gray-500",children:[(0,n.jsx)(y.Z,{className:"w-4 h-4"}),(0,n.jsxs)("span",{children:["Company ID: ",e.companyId]})]}),e.jobTitle&&(0,n.jsx)("span",{className:"text-sm text-gray-500",children:e.jobTitle})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-2 mt-2",children:[(0,n.jsx)(l.C,{variant:"outline",children:e.type.charAt(0).toUpperCase()+e.type.slice(1)}),(0,n.jsx)(l.C,{variant:e.isActive?"default":"secondary",children:e.isActive?"Active":"Inactive"})]}),e.notes&&(0,n.jsx)("div",{className:"text-sm text-gray-600 mt-2",children:e.notes}),(0,n.jsxs)("div",{className:"flex items-center space-x-4 mt-2 text-xs text-gray-500",children:[(0,n.jsxs)("span",{children:["Created: ",C.ZP.formatDate(e.createdAt)]}),e.lastContactDate&&(0,n.jsxs)("span",{children:["Last Contact:"," ",C.ZP.formatDate(e.lastContactDate)]}),e.nextFollowUpDate&&(0,n.jsxs)("span",{children:["Next Follow-up:"," ",C.ZP.formatDate(e.nextFollowUpDate)]})]})]}),(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)(i.z,{variant:"outline",size:"sm",onClick:()=>ep(e),children:(0,n.jsx)(j.Z,{className:"w-4 h-4"})}),(0,n.jsx)(i.z,{variant:"outline",size:"sm",onClick:()=>eu(e),children:(0,n.jsx)(f.Z,{className:"w-4 h-4"})}),(0,n.jsx)(i.z,{variant:"outline",size:"sm",onClick:()=>em(e),children:(0,n.jsx)(N.Z,{className:"w-4 h-4"})})]})]},e.id))})})]}),(0,n.jsx)(p.Vq,{open:k,onOpenChange:M,children:(0,n.jsxs)(p.cZ,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,n.jsx)(p.fK,{children:(0,n.jsx)(p.$N,{children:P?"Edit Contact":"Create New Contact"})}),(0,n.jsxs)("form",{onSubmit:ed,className:"space-y-6",children:[G&&(0,n.jsx)(m.bZ,{variant:"destructive",children:(0,n.jsx)(m.X,{children:G})}),(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(d._,{htmlFor:"firstName",children:"First Name *"}),(0,n.jsx)(c.I,{id:"firstName",value:et.firstName,onChange:e=>ea({...et,firstName:e.target.value}),placeholder:"Enter first name",required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(d._,{htmlFor:"lastName",children:"Last Name *"}),(0,n.jsx)(c.I,{id:"lastName",value:et.lastName,onChange:e=>ea({...et,lastName:e.target.value}),placeholder:"Enter last name",required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(d._,{htmlFor:"email",children:"Email *"}),(0,n.jsx)(c.I,{id:"email",value:et.email,onChange:e=>ea({...et,email:e.target.value}),placeholder:"Enter email address",type:"email",required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(d._,{htmlFor:"phone",children:"Phone"}),(0,n.jsx)(c.I,{id:"phone",value:et.phone,onChange:e=>ea({...et,phone:e.target.value}),placeholder:"Enter phone number"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(d._,{htmlFor:"mobile",children:"Mobile"}),(0,n.jsx)(c.I,{id:"mobile",value:et.mobile,onChange:e=>ea({...et,mobile:e.target.value}),placeholder:"Enter mobile number"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(d._,{htmlFor:"jobTitle",children:"Job Title"}),(0,n.jsx)(c.I,{id:"jobTitle",value:et.jobTitle,onChange:e=>ea({...et,jobTitle:e.target.value}),placeholder:"Enter job title"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(d._,{htmlFor:"department",children:"Department"}),(0,n.jsx)(c.I,{id:"department",value:et.department,onChange:e=>ea({...et,department:e.target.value}),placeholder:"Enter department"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(d._,{htmlFor:"companyId",children:"Company"}),(0,n.jsxs)(u.Ph,{value:et.companyId||"none",onValueChange:e=>ea({...et,companyId:"none"===e?"":e}),children:[(0,n.jsx)(u.i4,{children:(0,n.jsx)(u.ki,{placeholder:"Select company"})}),(0,n.jsxs)(u.Bw,{children:[(0,n.jsx)(u.Ql,{value:"none",children:"No Company"}),en.map(e=>(0,n.jsx)(u.Ql,{value:e.id,children:e.name},e.id))]})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(d._,{htmlFor:"type",children:"Contact Type"}),(0,n.jsxs)(u.Ph,{value:et.type,onValueChange:e=>{"create_new"===e?X(!0):ea({...et,type:e})},children:[(0,n.jsx)(u.i4,{children:(0,n.jsx)(u.ki,{})}),(0,n.jsxs)(u.Bw,{children:[Object.values(b.uC).map(e=>(0,n.jsx)(u.Ql,{value:e,children:e.charAt(0).toUpperCase()+e.slice(1)},e)),$&&$.length>0&&$.map(e=>(0,n.jsx)(u.Ql,{value:e.id,children:e.name},e.id)),(0,n.jsx)(u.Ql,{value:"create_new",className:"font-semibold text-blue-600",children:"+ Create New Contact Type"})]})]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(d._,{htmlFor:"isActive",children:"Status"}),(0,n.jsxs)(u.Ph,{value:et.isActive?"active":"inactive",onValueChange:e=>ea({...et,isActive:"active"===e}),children:[(0,n.jsx)(u.i4,{children:(0,n.jsx)(u.ki,{})}),(0,n.jsxs)(u.Bw,{children:[(0,n.jsx)(u.Ql,{value:"active",children:"Active"}),(0,n.jsx)(u.Ql,{value:"inactive",children:"Inactive"})]})]})]}),(0,n.jsxs)("div",{className:"md:col-span-2",children:[(0,n.jsx)(d._,{htmlFor:"notes",children:"Notes"}),(0,n.jsx)(o.g,{id:"notes",value:et.notes,onChange:e=>ea({...et,notes:e.target.value}),placeholder:"Additional notes about the contact",rows:3})]}),(0,n.jsxs)("div",{className:"md:col-span-2",children:[(0,n.jsx)(d._,{htmlFor:"tags",children:"Tags (comma-separated)"}),(0,n.jsx)(c.I,{id:"tags",value:(null===(e=et.tags)||void 0===e?void 0:e.join(", "))||"",onChange:e=>ea({...et,tags:e.target.value?e.target.value.split(",").map(e=>e.trim()):[]}),placeholder:"tag1, tag2, tag3"})]})]}),(0,n.jsxs)(p.cN,{children:[(0,n.jsx)(i.z,{type:"button",variant:"outline",onClick:()=>{M(!1),L(null),eo(),K(""),B("")},children:"Cancel"}),(0,n.jsx)(i.z,{type:"submit",disabled:V,children:V?"Saving...":P?"Update Contact":"Create Contact"})]})]})]})}),(0,n.jsx)(p.Vq,{open:!!Z,onOpenChange:()=>F(null),children:(0,n.jsxs)(p.cZ,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[(0,n.jsx)(p.fK,{children:(0,n.jsx)(p.$N,{children:"Contact Details"})}),Z&&(0,n.jsxs)("div",{className:"space-y-6",children:[(0,n.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)(d._,{className:"text-sm font-medium text-gray-500",children:"First Name"}),(0,n.jsx)("p",{className:"text-lg font-semibold",children:Z.firstName})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(d._,{className:"text-sm font-medium text-gray-500",children:"Last Name"}),(0,n.jsx)("p",{className:"text-lg font-semibold",children:Z.lastName})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(d._,{className:"text-sm font-medium text-gray-500",children:"Email"}),(0,n.jsx)("p",{children:Z.email})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(d._,{className:"text-sm font-medium text-gray-500",children:"Phone"}),(0,n.jsx)("p",{children:Z.phone||"Not specified"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(d._,{className:"text-sm font-medium text-gray-500",children:"Mobile"}),(0,n.jsx)("p",{children:Z.mobile||"Not specified"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(d._,{className:"text-sm font-medium text-gray-500",children:"Job Title"}),(0,n.jsx)("p",{children:Z.jobTitle||"Not specified"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(d._,{className:"text-sm font-medium text-gray-500",children:"Department"}),(0,n.jsx)("p",{children:Z.department||"Not specified"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(d._,{className:"text-sm font-medium text-gray-500",children:"Company"}),(0,n.jsx)("p",{children:Z.companyId?(null===(t=en.find(e=>e.id===Z.companyId))||void 0===t?void 0:t.name)||"Company ID: "+Z.companyId:"Not specified"})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(d._,{className:"text-sm font-medium text-gray-500",children:"Contact Type"}),(0,n.jsx)("p",{children:Z.type.charAt(0).toUpperCase()+Z.type.slice(1)})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)(d._,{className:"text-sm font-medium text-gray-500",children:"Status"}),(0,n.jsx)(l.C,{variant:Z.isActive?"default":"secondary",children:Z.isActive?"Active":"Inactive"})]}),(0,n.jsxs)("div",{className:"md:col-span-2",children:[(0,n.jsx)(d._,{className:"text-sm font-medium text-gray-500",children:"Notes"}),(0,n.jsx)("p",{children:Z.notes||"No notes"})]}),(0,n.jsxs)("div",{className:"md:col-span-2",children:[(0,n.jsx)(d._,{className:"text-sm font-medium text-gray-500",children:"Tags"}),(0,n.jsx)("div",{className:"flex flex-wrap gap-2",children:Z.tags&&Z.tags.length>0?Z.tags.map((e,t)=>(0,n.jsx)(l.C,{variant:"outline",children:e},t)):(0,n.jsx)("p",{children:"No tags"})})]}),(0,n.jsxs)("div",{className:"md:col-span-2",children:[(0,n.jsx)(d._,{className:"text-sm font-medium text-gray-500",children:"Created"}),(0,n.jsx)("p",{children:C.ZP.formatDate(Z.createdAt)})]}),(0,n.jsxs)("div",{className:"md:col-span-2",children:[(0,n.jsx)(d._,{className:"text-sm font-medium text-gray-500",children:"Last Updated"}),(0,n.jsx)("p",{children:C.ZP.formatDate(Z.updatedAt)})]})]}),(0,n.jsxs)(p.cN,{children:[(0,n.jsx)(i.z,{type:"button",variant:"outline",onClick:()=>F(null),children:"Close"}),(0,n.jsx)(i.z,{type:"button",onClick:()=>{F(null),eu(Z)},children:"Edit Contact"})]})]})]})}),(0,n.jsx)(p.Vq,{open:!!U,onOpenChange:()=>z(null),children:(0,n.jsxs)(p.cZ,{className:"max-w-md",children:[(0,n.jsx)(p.fK,{children:(0,n.jsx)(p.$N,{children:"Delete Contact"})}),U&&(0,n.jsxs)("div",{className:"space-y-4",children:[(0,n.jsxs)("p",{className:"text-gray-600",children:["Are you sure you want to delete"," ",(0,n.jsxs)("strong",{children:['"',U.firstName," ",U.lastName,'"']}),"? This action cannot be undone."]}),(0,n.jsxs)(p.cN,{children:[(0,n.jsx)(i.z,{type:"button",variant:"outline",onClick:()=>z(null),children:"Cancel"}),(0,n.jsx)(i.z,{type:"button",variant:"destructive",onClick:eh,disabled:W,children:W?"Deleting...":"Delete Contact"})]})]})]})}),(0,n.jsx)(T.O,{open:Y,onOpenChange:X,title:"Create New Contact Type",description:"Create a custom contact type that will be available for your tenant.",optionName:"Contact Type",placeholder:"e.g., Partner, Vendor",onSubmit:ec,loading:ee.contactType})]})})}},11888:function(e,t,a){"use strict";a.d(t,{cl:function(){return n.default}});var n=a(78742);a(28278),a(59399)},95937:function(e,t,a){"use strict";a.d(t,{X:function(){return o},bZ:function(){return c}});var n=a(57437),r=a(2265),s=a(90535),i=a(93448);let l=(0,s.j)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive",success:"border-green-500/50 text-green-700 bg-green-50 [&>svg]:text-green-600",warning:"border-yellow-500/50 text-yellow-700 bg-yellow-50 [&>svg]:text-yellow-600",info:"border-blue-500/50 text-blue-700 bg-blue-50 [&>svg]:text-blue-600"}},defaultVariants:{variant:"default"}}),c=r.forwardRef((e,t)=>{let{className:a,variant:r,...s}=e;return(0,n.jsx)("div",{ref:t,role:"alert",className:(0,i.cn)(l({variant:r}),a),...s})});c.displayName="Alert",r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("h5",{ref:t,className:(0,i.cn)("mb-1 font-medium leading-none tracking-tight",a),...r})}).displayName="AlertTitle";let o=r.forwardRef((e,t)=>{let{className:a,...r}=e;return(0,n.jsx)("div",{ref:t,className:(0,i.cn)("text-sm [&_p]:leading-relaxed",a),...r})});o.displayName="AlertDescription"},43163:function(e,t,a){"use strict";var n,r,s,i,l,c,o,d,u,p,m,h,x,g;a.d(t,{b5:function(){return o},rl:function(){return n},tc:function(){return s},uC:function(){return i},x7:function(){return c},yF:function(){return r}}),(d=n||(n={})).NEW="new",d.CONTACTED="contacted",d.QUALIFIED="qualified",d.PROPOSAL_SENT="proposal_sent",d.NEGOTIATION="negotiation",d.WON="won",d.LOST="lost",(u=r||(r={})).WEBSITE="website",u.REFERRAL="referral",u.SOCIAL_MEDIA="social_media",u.EMAIL_CAMPAIGN="email_campaign",u.COLD_CALL="cold_call",u.TRADE_SHOW="trade_show",u.PARTNER="partner",u.OTHER="other",(p=s||(s={})).PROSPECTING="prospecting",p.QUALIFICATION="qualification",p.PROPOSAL="proposal",p.NEGOTIATION="negotiation",p.CLOSED_WON="closed_won",p.CLOSED_LOST="closed_lost",(m=i||(i={})).LEAD="lead",m.CUSTOMER="customer",m.PARTNER="partner",m.VENDOR="vendor",m.OTHER="other",(h=l||(l={})).CALL="call",h.EMAIL="email",h.MEETING="meeting",h.TASK="task",h.NOTE="note",h.PROPOSAL="proposal",h.CONTRACT="contract",(x=c||(c={})).STARTUP="startup",x.SMALL="small",x.MEDIUM="medium",x.LARGE="large",x.ENTERPRISE="enterprise",(g=o||(o={})).TECHNOLOGY="technology",g.HEALTHCARE="healthcare",g.FINANCE="finance",g.MANUFACTURING="manufacturing",g.RETAIL="retail",g.EDUCATION="education",g.REAL_ESTATE="real_estate",g.CONSULTING="consulting",g.OTHER="other"},87766:function(e,t,a){"use strict";a.d(t,{vZ:function(){return r}});var n=a(89441);class r{static async getCustomers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100,a=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,s=arguments.length>4?arguments[4]:void 0,i=new URLSearchParams({skip:e.toString(),limit:t.toString()});return a&&i.append("search",a),r&&i.append("status",r),s&&i.append("customer_type",s),await n.sM.get("/crm/customers?".concat(i.toString()))}static async getCustomerById(e){return await n.sM.get("/crm/customers/".concat(e))}static async createCustomer(e){return await n.sM.post("/crm/customers",e)}static async updateCustomer(e,t){return await n.sM.put("/crm/customers/".concat(e),t)}static async deleteCustomer(e){return await n.sM.delete("/crm/customers/".concat(e))}static async getCustomerStats(){return await n.sM.get("/crm/customers/stats")}static async searchCustomers(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:20;return await n.sM.get("/crm/customers/search?q=".concat(encodeURIComponent(e),"&limit=").concat(t))}}class s{async getLeads(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,n=new URLSearchParams;return(null==e?void 0:e.status)&&n.append("status",e.status),(null==e?void 0:e.source)&&n.append("source",e.source),(null==e?void 0:e.assignedTo)&&n.append("assigned_to",e.assignedTo),(null==e?void 0:e.search)&&n.append("search",e.search),n.append("page",t.toString()),n.append("limit",a.toString()),this.apiService.get("/crm/leads?".concat(n.toString()))}async getLead(e){return this.apiService.get("/crm/leads/".concat(e))}async createLead(e){return this.apiService.post("/crm/leads",e)}async updateLead(e,t){return this.apiService.put("/crm/leads/".concat(e),t)}async deleteLead(e){return this.apiService.delete("/crm/leads/".concat(e))}async convertLeadToContact(e,t){return this.apiService.post("/crm/leads/".concat(e,"/convert"),t)}async getContacts(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,n=new URLSearchParams;return(null==e?void 0:e.type)&&n.append("type",e.type),(null==e?void 0:e.companyId)&&n.append("company_id",e.companyId),(null==e?void 0:e.search)&&n.append("search",e.search),n.append("page",t.toString()),n.append("limit",a.toString()),this.apiService.get("/crm/contacts?".concat(n.toString()))}async getContact(e){return this.apiService.get("/crm/contacts/".concat(e))}async createContact(e){return this.apiService.post("/crm/contacts",e)}async updateContact(e,t){return this.apiService.put("/crm/contacts/".concat(e),t)}async deleteContact(e){return this.apiService.delete("/crm/contacts/".concat(e))}async getCompanies(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,n=new URLSearchParams;return(null==e?void 0:e.industry)&&n.append("industry",e.industry),(null==e?void 0:e.size)&&n.append("size",e.size),(null==e?void 0:e.search)&&n.append("search",e.search),n.append("page",t.toString()),n.append("limit",a.toString()),this.apiService.get("/crm/companies?".concat(n.toString()))}async getCompany(e){return this.apiService.get("/crm/companies/".concat(e))}async createCompany(e){return this.apiService.post("/crm/companies",e)}async updateCompany(e,t){return this.apiService.put("/crm/companies/".concat(e),t)}async deleteCompany(e){return this.apiService.delete("/crm/companies/".concat(e))}async getOpportunities(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,n=new URLSearchParams;return(null==e?void 0:e.stage)&&n.append("stage",e.stage),(null==e?void 0:e.assignedTo)&&n.append("assigned_to",e.assignedTo),(null==e?void 0:e.search)&&n.append("search",e.search),n.append("page",t.toString()),n.append("limit",a.toString()),this.apiService.get("/crm/opportunities?".concat(n.toString()))}async getOpportunity(e){return this.apiService.get("/crm/opportunities/".concat(e))}async createOpportunity(e){return this.apiService.post("/crm/opportunities",e)}async updateOpportunity(e,t){return this.apiService.put("/crm/opportunities/".concat(e),t)}async deleteOpportunity(e){return this.apiService.delete("/crm/opportunities/".concat(e))}async getActivities(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:10,n=new URLSearchParams;return(null==e?void 0:e.type)&&n.append("type",e.type),(null==e?void 0:e.completed)!==void 0&&n.append("completed",e.completed.toString()),(null==e?void 0:e.search)&&n.append("search",e.search),n.append("page",t.toString()),n.append("limit",a.toString()),this.apiService.get("/crm/activities?".concat(n.toString()))}async getActivity(e){return this.apiService.get("/crm/activities/".concat(e))}async createActivity(e){return this.apiService.post("/crm/activities",e)}async updateActivity(e,t){return this.apiService.put("/crm/activities/".concat(e),t)}async deleteActivity(e){return this.apiService.delete("/crm/activities/".concat(e))}async getDashboard(){return this.apiService.get("/crm/dashboard")}getLeadStatusColor(e){return({new:"bg-blue-100 text-blue-800",contacted:"bg-yellow-100 text-yellow-800",qualified:"bg-green-100 text-green-800",proposal_sent:"bg-purple-100 text-purple-800",negotiation:"bg-orange-100 text-orange-800",won:"bg-green-100 text-green-800",lost:"bg-red-100 text-red-800"})[e]||"bg-gray-100 text-gray-800"}getOpportunityStageColor(e){return({prospecting:"bg-blue-100 text-blue-800",qualification:"bg-yellow-100 text-yellow-800",proposal:"bg-purple-100 text-purple-800",negotiation:"bg-orange-100 text-orange-800",closed_won:"bg-green-100 text-green-800",closed_lost:"bg-red-100 text-red-800"})[e]||"bg-gray-100 text-gray-800"}getActivityTypeColor(e){return({call:"bg-blue-100 text-blue-800",email:"bg-green-100 text-green-800",meeting:"bg-purple-100 text-purple-800",task:"bg-yellow-100 text-yellow-800",note:"bg-gray-100 text-gray-800",proposal:"bg-indigo-100 text-indigo-800",contract:"bg-pink-100 text-pink-800"})[e]||"bg-gray-100 text-gray-800"}formatCurrency(e){return new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(e)}formatDate(e){return new Date(e).toLocaleDateString("en-US",{year:"numeric",month:"short",day:"numeric"})}formatDateTime(e){return new Date(e).toLocaleString("en-US",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}constructor(){this.apiService=new n.sM}}t.ZP=new s},49027:function(e,t,a){"use strict";a.d(t,{Dx:function(){return en},VY:function(){return ea},aV:function(){return et},dk:function(){return er},fC:function(){return $},h_:function(){return ee},x8:function(){return es},xz:function(){return J}});var n=a(2265),r=a(6741),s=a(98575),i=a(73966),l=a(99255),c=a(80886),o=a(15278),d=a(99103),u=a(83832),p=a(71599),m=a(66840),h=a(86097),x=a(99157),g=a(5478),v=a(37053),y=a(57437),j="Dialog",[f,N]=(0,i.b)(j),[C,b]=f(j),S=e=>{let{__scopeDialog:t,children:a,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=e,d=n.useRef(null),u=n.useRef(null),[p,m]=(0,c.T)({prop:r,defaultProp:null!=s&&s,onChange:i,caller:j});return(0,y.jsx)(C,{scope:t,triggerRef:d,contentRef:u,contentId:(0,l.M)(),titleId:(0,l.M)(),descriptionId:(0,l.M)(),open:p,onOpenChange:m,onOpenToggle:n.useCallback(()=>m(e=>!e),[m]),modal:o,children:a})};S.displayName=j;var w="DialogTrigger",T=n.forwardRef((e,t)=>{let{__scopeDialog:a,...n}=e,i=b(w,a),l=(0,s.e)(t,i.triggerRef);return(0,y.jsx)(m.WV.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":Q(i.open),...n,ref:l,onClick:(0,r.M)(e.onClick,i.onOpenToggle)})});T.displayName=w;var A="DialogPortal",[E,I]=f(A,{forceMount:void 0}),_=e=>{let{__scopeDialog:t,forceMount:a,children:r,container:s}=e,i=b(A,t);return(0,y.jsx)(E,{scope:t,forceMount:a,children:n.Children.map(r,e=>(0,y.jsx)(p.z,{present:a||i.open,children:(0,y.jsx)(u.h,{asChild:!0,container:s,children:e})}))})};_.displayName=A;var D="DialogOverlay",O=n.forwardRef((e,t)=>{let a=I(D,e.__scopeDialog),{forceMount:n=a.forceMount,...r}=e,s=b(D,e.__scopeDialog);return s.modal?(0,y.jsx)(p.z,{present:n||s.open,children:(0,y.jsx)(k,{...r,ref:t})}):null});O.displayName=D;var R=(0,v.Z8)("DialogOverlay.RemoveScroll"),k=n.forwardRef((e,t)=>{let{__scopeDialog:a,...n}=e,r=b(D,a);return(0,y.jsx)(x.Z,{as:R,allowPinchZoom:!0,shards:[r.contentRef],children:(0,y.jsx)(m.WV.div,{"data-state":Q(r.open),...n,ref:t,style:{pointerEvents:"auto",...n.style}})})}),M="DialogContent",P=n.forwardRef((e,t)=>{let a=I(M,e.__scopeDialog),{forceMount:n=a.forceMount,...r}=e,s=b(M,e.__scopeDialog);return(0,y.jsx)(p.z,{present:n||s.open,children:s.modal?(0,y.jsx)(L,{...r,ref:t}):(0,y.jsx)(Z,{...r,ref:t})})});P.displayName=M;var L=n.forwardRef((e,t)=>{let a=b(M,e.__scopeDialog),i=n.useRef(null),l=(0,s.e)(t,a.contentRef,i);return n.useEffect(()=>{let e=i.current;if(e)return(0,g.Ry)(e)},[]),(0,y.jsx)(F,{...e,ref:l,trapFocus:a.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,r.M)(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null===(t=a.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:(0,r.M)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,a=0===t.button&&!0===t.ctrlKey;(2===t.button||a)&&e.preventDefault()}),onFocusOutside:(0,r.M)(e.onFocusOutside,e=>e.preventDefault())})}),Z=n.forwardRef((e,t)=>{let a=b(M,e.__scopeDialog),r=n.useRef(!1),s=n.useRef(!1);return(0,y.jsx)(F,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var n,i;null===(n=e.onCloseAutoFocus)||void 0===n||n.call(e,t),t.defaultPrevented||(r.current||null===(i=a.triggerRef.current)||void 0===i||i.focus(),t.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:t=>{var n,i;null===(n=e.onInteractOutside)||void 0===n||n.call(e,t),t.defaultPrevented||(r.current=!0,"pointerdown"!==t.detail.originalEvent.type||(s.current=!0));let l=t.target;(null===(i=a.triggerRef.current)||void 0===i?void 0:i.contains(l))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&s.current&&t.preventDefault()}})}),F=n.forwardRef((e,t)=>{let{__scopeDialog:a,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:l,...c}=e,u=b(M,a),p=n.useRef(null),m=(0,s.e)(t,p);return(0,h.EW)(),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(d.M,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:l,children:(0,y.jsx)(o.XB,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Q(u.open),...c,ref:m,onDismiss:()=>u.onOpenChange(!1)})}),(0,y.jsxs)(y.Fragment,{children:[(0,y.jsx)(Y,{titleId:u.titleId}),(0,y.jsx)(X,{contentRef:p,descriptionId:u.descriptionId})]})]})}),U="DialogTitle",z=n.forwardRef((e,t)=>{let{__scopeDialog:a,...n}=e,r=b(U,a);return(0,y.jsx)(m.WV.h2,{id:r.titleId,...n,ref:t})});z.displayName=U;var V="DialogDescription",q=n.forwardRef((e,t)=>{let{__scopeDialog:a,...n}=e,r=b(V,a);return(0,y.jsx)(m.WV.p,{id:r.descriptionId,...n,ref:t})});q.displayName=V;var W="DialogClose",H=n.forwardRef((e,t)=>{let{__scopeDialog:a,...n}=e,s=b(W,a);return(0,y.jsx)(m.WV.button,{type:"button",...n,ref:t,onClick:(0,r.M)(e.onClick,()=>s.onOpenChange(!1))})});function Q(e){return e?"open":"closed"}H.displayName=W;var B="DialogTitleWarning",[G,K]=(0,i.k)(B,{contentName:M,titleName:U,docsSlug:"dialog"}),Y=e=>{let{titleId:t}=e,a=K(B),r="`".concat(a.contentName,"` requires a `").concat(a.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(a.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(a.docsSlug);return n.useEffect(()=>{t&&!document.getElementById(t)&&console.error(r)},[r,t]),null},X=e=>{let{contentRef:t,descriptionId:a}=e,r=K("DialogDescriptionWarning"),s="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(r.contentName,"}.");return n.useEffect(()=>{var e;let n=null===(e=t.current)||void 0===e?void 0:e.getAttribute("aria-describedby");a&&n&&!document.getElementById(a)&&console.warn(s)},[s,t,a]),null},$=S,J=T,ee=_,et=O,ea=P,en=z,er=q,es=H},6394:function(e,t,a){"use strict";a.d(t,{f:function(){return l}});var n=a(2265),r=a(66840),s=a(57437),i=n.forwardRef((e,t)=>(0,s.jsx)(r.WV.label,{...e,ref:t,onMouseDown:t=>{var a;t.target.closest("button, input, select, textarea")||(null===(a=e.onMouseDown)||void 0===a||a.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));i.displayName="Label";var l=i}},function(e){e.O(0,[7846,7648,4259,2709,2451,4975,9515,5200,5372,2971,2117,1744],function(){return e(e.s=3891)}),_N_E=e.O()}]);