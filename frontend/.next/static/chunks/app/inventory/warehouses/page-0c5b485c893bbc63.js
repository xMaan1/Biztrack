(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5595],{29141:function(e,t,a){Promise.resolve().then(a.bind(a,52681))},98420:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(39763).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},89345:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(39763).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},94630:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(39763).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},13041:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(39763).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},18930:function(e,t,a){"use strict";a.d(t,{Z:function(){return r}});let r=(0,a(39763).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},52681:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return S}});var r=a(57437),s=a(2265),n=a(99376),i=a(79820),c=a(12381),o=a(69174),l=a(40279),d=a(33804),u=a(99397),h=a(73247),x=a(98420),m=a(83774),f=a(13041),p=a(89345),w=a(94630),y=a(18930),g=a(37683),v=a(14362),j=a(46735),N=a(11888),b=a(93448);function S(){let{user:e}=(0,v.a)(),t=(0,n.useRouter)(),[a,S]=(0,s.useState)([]),[k,E]=(0,s.useState)(!0),[C,Z]=(0,s.useState)("");(0,s.useEffect)(()=>{A()},[]);let A=async()=>{try{E(!0);let e=await j.j.getWarehouses();S(e.warehouses)}catch(e){console.error("Error fetching warehouses:",e)}finally{E(!1)}},L=a.filter(e=>e.name.toLowerCase().includes(C.toLowerCase())||e.code.toLowerCase().includes(C.toLowerCase())||e.city.toLowerCase().includes(C.toLowerCase())),R=async e=>{if(confirm("Are you sure you want to delete this warehouse?"))try{await j.j.deleteWarehouse(e),A()}catch(e){console.error("Error deleting warehouse:",e)}};return k?(0,r.jsx)(N.cl,{children:(0,r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})})}):(0,r.jsx)(N.cl,{children:(0,r.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Warehouses"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Manage your warehouse locations and storage facilities"})]}),(0,r.jsxs)(c.z,{onClick:()=>t.push("/inventory/warehouses/new"),children:[(0,r.jsx)(u.Z,{className:"mr-2 h-4 w-4"}),"Add Warehouse"]})]}),(0,r.jsxs)(i.Zb,{children:[(0,r.jsx)(i.Ol,{children:(0,r.jsx)(i.ll,{children:"Search Warehouses"})}),(0,r.jsx)(i.aY,{children:(0,r.jsx)("div",{className:"flex gap-4",children:(0,r.jsxs)("div",{className:"relative flex-1",children:[(0,r.jsx)(h.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),(0,r.jsx)(l.I,{placeholder:"Search by name, code, or city...",value:C,onChange:e=>Z(e.target.value),className:"pl-10"})]})})})]}),(0,r.jsxs)(i.Zb,{children:[(0,r.jsx)(i.Ol,{children:(0,r.jsx)(i.ll,{children:"Warehouse List"})}),(0,r.jsx)(i.aY,{children:L.length>0?(0,r.jsxs)(d.iA,{children:[(0,r.jsx)(d.xD,{children:(0,r.jsxs)(d.SC,{children:[(0,r.jsx)(d.ss,{children:"Name"}),(0,r.jsx)(d.ss,{children:"Code"}),(0,r.jsx)(d.ss,{children:"Location"}),(0,r.jsx)(d.ss,{children:"Contact"}),(0,r.jsx)(d.ss,{children:"Status"}),(0,r.jsx)(d.ss,{children:"Created"}),(0,r.jsx)(d.ss,{children:"Actions"})]})}),(0,r.jsx)(d.RM,{children:L.map(e=>(0,r.jsxs)(d.SC,{children:[(0,r.jsx)(d.pj,{children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(x.Z,{className:"h-5 w-5 text-muted-foreground"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium",children:e.name}),e.description&&(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:e.description})]})]})}),(0,r.jsx)(d.pj,{children:(0,r.jsx)(o.C,{variant:"outline",children:e.code})}),(0,r.jsx)(d.pj,{children:(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[(0,r.jsx)(m.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,r.jsxs)("div",{className:"text-sm",children:[(0,r.jsxs)("div",{children:[e.city,", ",e.state]}),(0,r.jsx)("div",{className:"text-muted-foreground",children:e.country})]})]})}),(0,r.jsx)(d.pj,{children:(0,r.jsxs)("div",{className:"space-y-1",children:[e.phone&&(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,r.jsx)(f.Z,{className:"h-3 w-3"}),e.phone]}),e.email&&(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm",children:[(0,r.jsx)(p.Z,{className:"h-3 w-3"}),e.email]})]})}),(0,r.jsx)(d.pj,{children:(0,r.jsx)(o.C,{variant:e.isActive?"default":"secondary",children:e.isActive?"Active":"Inactive"})}),(0,r.jsx)(d.pj,{children:(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:(0,b.p6)(e.createdAt)})}),(0,r.jsx)(d.pj,{children:(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(c.z,{variant:"outline",size:"sm",onClick:()=>t.push("/inventory/warehouses/".concat(e.id,"/edit")),children:(0,r.jsx)(w.Z,{className:"h-4 w-4"})}),(0,r.jsx)(c.z,{variant:"outline",size:"sm",onClick:()=>R(e.id),children:(0,r.jsx)(y.Z,{className:"h-4 w-4"})})]})})]},e.id))})]}):(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(g.Z,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),(0,r.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No warehouses found"}),(0,r.jsx)("p",{className:"text-muted-foreground mb-4",children:C?"Try adjusting your search terms":"Get started by creating your first warehouse"}),!C&&(0,r.jsxs)(c.z,{onClick:()=>t.push("/inventory/warehouses/new"),children:[(0,r.jsx)(u.Z,{className:"mr-2 h-4 w-4"}),"Add Warehouse"]})]})})]}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(i.ll,{className:"text-sm font-medium",children:"Total Warehouses"}),(0,r.jsx)(x.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(i.aY,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:a.length}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Storage facilities"})]})]}),(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(i.ll,{className:"text-sm font-medium",children:"Active Warehouses"}),(0,r.jsx)(g.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(i.aY,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:a.filter(e=>e.isActive).length}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Currently operational"})]})]}),(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(i.ll,{className:"text-sm font-medium",children:"Total Capacity"}),(0,r.jsx)("div",{className:"h-4 w-4 text-muted-foreground",children:"\uD83D\uDCE6"})]}),(0,r.jsxs)(i.aY,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:a.reduce((e,t)=>e+(t.capacity||0),0).toFixed(1)}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Cubic meters"})]})]})]})]})})}},11888:function(e,t,a){"use strict";a.d(t,{cl:function(){return r.default}});var r=a(78742);a(28278),a(59399)},40279:function(e,t,a){"use strict";a.d(t,{I:function(){return i}});var r=a(57437),s=a(2265),n=a(93448);let i=s.forwardRef((e,t)=>{let{className:a,type:s,...i}=e;return(0,r.jsx)("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",a),ref:t,...i})});i.displayName="Input"},33804:function(e,t,a){"use strict";a.d(t,{RM:function(){return o},SC:function(){return l},iA:function(){return i},pj:function(){return u},ss:function(){return d},xD:function(){return c}});var r=a(57437),s=a(2265),n=a(93448);let i=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:t,className:(0,n.cn)("w-full caption-bottom text-sm",a),...s})})});i.displayName="Table";let c=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("thead",{ref:t,className:(0,n.cn)("[&_tr]:border-b",a),...s})});c.displayName="TableHeader";let o=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tbody",{ref:t,className:(0,n.cn)("[&_tr:last-child]:border-0",a),...s})});o.displayName="TableBody",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tfoot",{ref:t,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",a),...s})}).displayName="TableFooter";let l=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("tr",{ref:t,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",a),...s})});l.displayName="TableRow";let d=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("th",{ref:t,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",a),...s})});d.displayName="TableHead";let u=s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("td",{ref:t,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",a),...s})});u.displayName="TableCell",s.forwardRef((e,t)=>{let{className:a,...s}=e;return(0,r.jsx)("caption",{ref:t,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",a),...s})}).displayName="TableCaption"},14362:function(e,t,a){"use strict";a.d(t,{AuthProvider:function(){return o},a:function(){return l}});var r=a(57437),s=a(2265),n=a(89441),i=a(60621);let c=(0,s.createContext)(void 0);function o(e){let{children:t}=e,[a,o]=(0,s.useState)(null),[l,d]=(0,s.useState)(!0),[u,h]=(0,s.useState)([]),[x,m]=(0,s.useState)(null);(0,s.useEffect)(()=>{(async()=>{try{let e=new i.S;if(e.isSessionValid()){if(e.isTokenExpired()&&!await e.refreshAccessToken()){e.clearSession(),o(null),d(!1);return}let t=e.getSession();if(t&&t.token&&t.user){o(t.user);let e=n.Ew.getUserTenants();if(e.length>0){h(e);let t=n.Ew.getCurrentTenant();t?m(t):(m(e[0]),n.Ew.setTenantId(e[0].id))}}else e.clearSession(),o(null)}else e.clearSession(),o(null)}catch(e){console.error("AuthContext - Auth initialization error:",e),new i.S().clearSession(),o(null)}finally{d(!1)}})()},[]);let f=async e=>{try{d(!0);let t=await n.Ew.login(e);if(t.success&&t.user){o(t.user);let e=n.Ew.getUserTenants();if(e.length>0){h(e);let t=n.Ew.getCurrentTenant();t&&m(t)}return!0}return!1}catch(e){return console.error("AuthContext - Login failed:",e),!1}finally{d(!1)}},p=async()=>{try{await n.Ew.logout()}catch(e){console.error("AuthContext - Logout error:",e)}finally{let e=new i.S;o(null),h([]),m(null),e.clearSession(),n.Ew.setTenantId(null),window.location.href="/login"}},w=async e=>{try{let t=await n.Ew.switchTenant(e);return m(t),!0}catch(e){return console.error("AuthContext - Failed to switch tenant:",e),!1}};return(0,r.jsx)(c.Provider,{value:{user:a,loading:l,isAuthenticated:!!a,tenants:u,currentTenant:x,login:f,logout:p,switchTenant:w},children:t})}function l(){let e=(0,s.useContext)(c);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},46735:function(e,t,a){"use strict";a.d(t,{j:function(){return n}});var r=a(89441);class s{async getWarehouses(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return(await r.Ew.get("/inventory/warehouses?skip=".concat(e,"&limit=").concat(t))).data}async getWarehouse(e){return(await r.Ew.get("/inventory/warehouses/".concat(e))).data}async createWarehouse(e){return(await r.Ew.post("/inventory/warehouses",e)).data}async updateWarehouse(e,t){return(await r.Ew.put("/inventory/warehouses/".concat(e),t)).data}async deleteWarehouse(e){await r.Ew.delete("/inventory/warehouses/".concat(e))}async getStorageLocations(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,s=new URLSearchParams;return e&&s.append("warehouse_id",e),s.append("skip",t.toString()),s.append("limit",a.toString()),(await r.Ew.get("/inventory/storage-locations?".concat(s.toString()))).data}async getStorageLocation(e){return(await r.Ew.get("/inventory/storage-locations/".concat(e))).data}async createStorageLocation(e){return(await r.Ew.post("/inventory/storage-locations",e)).data}async updateStorageLocation(e,t){return(await r.Ew.put("/inventory/storage-locations/".concat(e),t)).data}async deleteStorageLocation(e){await r.Ew.delete("/inventory/storage-locations/".concat(e))}async getStockMovements(e,t){let a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,n=new URLSearchParams;return e&&n.append("product_id",e),t&&n.append("warehouse_id",t),n.append("skip",a.toString()),n.append("limit",s.toString()),(await r.Ew.get("/inventory/stock-movements?".concat(n.toString()))).data}async getStockMovement(e){return(await r.Ew.get("/inventory/stock-movements/".concat(e))).data}async createStockMovement(e){return(await r.Ew.post("/inventory/stock-movements",e)).data}async updateStockMovement(e,t){return(await r.Ew.put("/inventory/stock-movements/".concat(e),t)).data}async getSuppliers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return(await r.Ew.get("/inventory/suppliers?skip=".concat(e,"&limit=").concat(t))).data}async getSupplier(e){return(await r.Ew.get("/inventory/suppliers/".concat(e))).data}async createSupplier(e){return(await r.Ew.post("/inventory/suppliers",e)).data}async updateSupplier(e,t){return(await r.Ew.put("/inventory/suppliers/".concat(e),t)).data}async deleteSupplier(e){await r.Ew.delete("/inventory/suppliers/".concat(e))}async getPurchaseOrders(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,s=new URLSearchParams;return e&&s.append("status",e),s.append("skip",t.toString()),s.append("limit",a.toString()),(await r.Ew.get("/inventory/purchase-orders?".concat(s.toString()))).data}async getPurchaseOrder(e){return(await r.Ew.get("/inventory/purchase-orders/".concat(e))).data}async createPurchaseOrder(e){return(await r.Ew.post("/inventory/purchase-orders",e)).data}async updatePurchaseOrder(e,t){return(await r.Ew.put("/inventory/purchase-orders/".concat(e),t)).data}async deletePurchaseOrder(e){await r.Ew.delete("/inventory/purchase-orders/".concat(e))}async getReceivings(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,s=new URLSearchParams;return e&&s.append("status",e),s.append("skip",t.toString()),s.append("limit",a.toString()),(await r.Ew.get("/inventory/receivings?".concat(s.toString()))).data}async getReceiving(e){return(await r.Ew.get("/inventory/receivings/".concat(e))).data}async createReceiving(e){return(await r.Ew.post("/inventory/receivings",e)).data}async updateReceiving(e,t){return(await r.Ew.put("/inventory/receivings/".concat(e),t)).data}async deleteReceiving(e){await r.Ew.delete("/inventory/receivings/".concat(e))}async getInventoryDashboard(){return(await r.Ew.get("/inventory/dashboard")).data}}let n=new s}},function(e){e.O(0,[7846,7648,4259,2709,2451,9515,5200,2971,2117,1744],function(){return e(e.s=29141)}),_N_E=e.O()}]);