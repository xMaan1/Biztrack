(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9195],{81336:function(e,t,n){Promise.resolve().then(n.bind(n,83743))},98420:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(39763).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},29202:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(39763).Z)("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]])},89345:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(39763).Z)("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]])},94630:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(39763).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},13041:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(39763).Z)("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]])},18930:function(e,t,n){"use strict";n.d(t,{Z:function(){return r}});let r=(0,n(39763).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},83743:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return S}});var r=n(57437),a=n(2265),s=n(99376),i=n(79820),c=n(12381),l=n(69174),o=n(40279),d=n(33804),u=n(99397),h=n(73247),p=n(98420),x=n(29202),m=n(13041),f=n(89345),y=n(94630),w=n(18930),g=n(95805),v=n(14362),j=n(46735),N=n(11888),b=n(93448);function S(){let{user:e}=(0,v.a)(),t=(0,s.useRouter)(),[n,S]=(0,a.useState)([]),[k,E]=(0,a.useState)(!0),[C,Z]=(0,a.useState)("");(0,a.useEffect)(()=>{A()},[]);let A=async()=>{try{E(!0);let e=await j.j.getSuppliers();S(e.suppliers)}catch(e){console.error("Error fetching suppliers:",e)}finally{E(!1)}},L=n.filter(e=>{var t,n;return e.name.toLowerCase().includes(C.toLowerCase())||e.code.toLowerCase().includes(C.toLowerCase())||(null===(t=e.contactPerson)||void 0===t?void 0:t.toLowerCase().includes(C.toLowerCase()))||(null===(n=e.city)||void 0===n?void 0:n.toLowerCase().includes(C.toLowerCase()))}),M=async e=>{if(confirm("Are you sure you want to delete this supplier?"))try{await j.j.deleteSupplier(e),A()}catch(e){console.error("Error deleting supplier:",e)}};return k?(0,r.jsx)(N.cl,{children:(0,r.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,r.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})})}):(0,r.jsx)(N.cl,{children:(0,r.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Suppliers"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"Manage your supplier relationships and vendor information"})]}),(0,r.jsxs)(c.z,{onClick:()=>t.push("/inventory/suppliers/new"),children:[(0,r.jsx)(u.Z,{className:"mr-2 h-4 w-4"}),"Add Supplier"]})]}),(0,r.jsxs)(i.Zb,{children:[(0,r.jsx)(i.Ol,{children:(0,r.jsx)(i.ll,{children:"Search Suppliers"})}),(0,r.jsx)(i.aY,{children:(0,r.jsx)("div",{className:"flex gap-4",children:(0,r.jsxs)("div",{className:"relative flex-1",children:[(0,r.jsx)(h.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),(0,r.jsx)(o.I,{placeholder:"Search by name, code, contact person, or city...",value:C,onChange:e=>Z(e.target.value),className:"pl-10"})]})})})]}),(0,r.jsxs)(i.Zb,{children:[(0,r.jsx)(i.Ol,{children:(0,r.jsx)(i.ll,{children:"Supplier List"})}),(0,r.jsx)(i.aY,{children:L.length>0?(0,r.jsxs)(d.iA,{children:[(0,r.jsx)(d.xD,{children:(0,r.jsxs)(d.SC,{children:[(0,r.jsx)(d.ss,{children:"Name"}),(0,r.jsx)(d.ss,{children:"Code"}),(0,r.jsx)(d.ss,{children:"Contact"}),(0,r.jsx)(d.ss,{children:"Location"}),(0,r.jsx)(d.ss,{children:"Status"}),(0,r.jsx)(d.ss,{children:"Created"}),(0,r.jsx)(d.ss,{children:"Actions"})]})}),(0,r.jsx)(d.RM,{children:L.map(e=>(0,r.jsxs)(d.SC,{children:[(0,r.jsx)(d.pj,{children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(p.Z,{className:"h-5 w-5 text-muted-foreground"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium",children:e.name}),e.website&&(0,r.jsxs)("div",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[(0,r.jsx)(x.Z,{className:"h-3 w-3"}),e.website]})]})]})}),(0,r.jsx)(d.pj,{children:(0,r.jsx)(l.C,{variant:"outline",children:e.code})}),(0,r.jsx)(d.pj,{children:(0,r.jsxs)("div",{className:"space-y-1",children:[e.contactPerson&&(0,r.jsx)("div",{className:"text-sm font-medium",children:e.contactPerson}),e.phone&&(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,r.jsx)(m.Z,{className:"h-3 w-3"}),e.phone]}),e.email&&(0,r.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,r.jsx)(f.Z,{className:"h-3 w-3"}),e.email]})]})}),(0,r.jsx)(d.pj,{children:(0,r.jsxs)("div",{className:"text-sm",children:[e.city&&e.state&&(0,r.jsxs)("div",{children:[e.city,", ",e.state]}),e.country&&(0,r.jsx)("div",{className:"text-muted-foreground",children:e.country})]})}),(0,r.jsx)(d.pj,{children:(0,r.jsx)(l.C,{variant:e.isActive?"default":"secondary",children:e.isActive?"Active":"Inactive"})}),(0,r.jsx)(d.pj,{children:(0,r.jsx)("div",{className:"text-sm text-muted-foreground",children:(0,b.p6)(e.createdAt)})}),(0,r.jsx)(d.pj,{children:(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsx)(c.z,{variant:"outline",size:"sm",onClick:()=>t.push("/inventory/suppliers/".concat(e.id,"/edit")),children:(0,r.jsx)(y.Z,{className:"h-4 w-4"})}),(0,r.jsx)(c.z,{variant:"outline",size:"sm",onClick:()=>M(e.id),children:(0,r.jsx)(w.Z,{className:"h-4 w-4"})})]})})]},e.id))})]}):(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(g.Z,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),(0,r.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No suppliers found"}),(0,r.jsx)("p",{className:"text-muted-foreground mb-4",children:C?"Try adjusting your search terms":"Get started by adding your first supplier"}),!C&&(0,r.jsxs)(c.z,{onClick:()=>t.push("/inventory/suppliers/new"),children:[(0,r.jsx)(u.Z,{className:"mr-2 h-4 w-4"}),"Add Supplier"]})]})})]}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(i.ll,{className:"text-sm font-medium",children:"Total Suppliers"}),(0,r.jsx)(g.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(i.aY,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:n.length}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Vendor partners"})]})]}),(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(i.ll,{className:"text-sm font-medium",children:"Active Suppliers"}),(0,r.jsx)(p.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(i.aY,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:n.filter(e=>e.isActive).length}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Currently active"})]})]}),(0,r.jsxs)(i.Zb,{children:[(0,r.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(i.ll,{className:"text-sm font-medium",children:"International"}),(0,r.jsx)(x.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(i.aY,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:n.filter(e=>e.country&&"United States"!==e.country).length}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Overseas vendors"})]})]})]})]})})}},11888:function(e,t,n){"use strict";n.d(t,{cl:function(){return r.default}});var r=n(78742);n(28278),n(59399)},40279:function(e,t,n){"use strict";n.d(t,{I:function(){return i}});var r=n(57437),a=n(2265),s=n(93448);let i=a.forwardRef((e,t)=>{let{className:n,type:a,...i}=e;return(0,r.jsx)("input",{type:a,className:(0,s.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",n),ref:t,...i})});i.displayName="Input"},33804:function(e,t,n){"use strict";n.d(t,{RM:function(){return l},SC:function(){return o},iA:function(){return i},pj:function(){return u},ss:function(){return d},xD:function(){return c}});var r=n(57437),a=n(2265),s=n(93448);let i=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:t,className:(0,s.cn)("w-full caption-bottom text-sm",n),...a})})});i.displayName="Table";let c=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("thead",{ref:t,className:(0,s.cn)("[&_tr]:border-b",n),...a})});c.displayName="TableHeader";let l=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("tbody",{ref:t,className:(0,s.cn)("[&_tr:last-child]:border-0",n),...a})});l.displayName="TableBody",a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("tfoot",{ref:t,className:(0,s.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",n),...a})}).displayName="TableFooter";let o=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("tr",{ref:t,className:(0,s.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",n),...a})});o.displayName="TableRow";let d=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("th",{ref:t,className:(0,s.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",n),...a})});d.displayName="TableHead";let u=a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("td",{ref:t,className:(0,s.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",n),...a})});u.displayName="TableCell",a.forwardRef((e,t)=>{let{className:n,...a}=e;return(0,r.jsx)("caption",{ref:t,className:(0,s.cn)("mt-4 text-sm text-muted-foreground",n),...a})}).displayName="TableCaption"},14362:function(e,t,n){"use strict";n.d(t,{AuthProvider:function(){return l},a:function(){return o}});var r=n(57437),a=n(2265),s=n(89441),i=n(60621);let c=(0,a.createContext)(void 0);function l(e){let{children:t}=e,[n,l]=(0,a.useState)(null),[o,d]=(0,a.useState)(!0),[u,h]=(0,a.useState)([]),[p,x]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{try{let e=new i.S;if(e.isSessionValid()){if(e.isTokenExpired()&&!await e.refreshAccessToken()){e.clearSession(),l(null),d(!1);return}let t=e.getSession();if(t&&t.token&&t.user){l(t.user);let e=s.Ew.getUserTenants();if(e.length>0){h(e);let t=s.Ew.getCurrentTenant();t?x(t):(x(e[0]),s.Ew.setTenantId(e[0].id))}}else e.clearSession(),l(null)}else e.clearSession(),l(null)}catch(e){console.error("AuthContext - Auth initialization error:",e),new i.S().clearSession(),l(null)}finally{d(!1)}})()},[]);let m=async e=>{try{d(!0);let t=await s.Ew.login(e);if(t.success&&t.user){l(t.user);let e=s.Ew.getUserTenants();if(e.length>0){h(e);let t=s.Ew.getCurrentTenant();t&&x(t)}return!0}return!1}catch(e){return console.error("AuthContext - Login failed:",e),!1}finally{d(!1)}},f=async()=>{try{await s.Ew.logout()}catch(e){console.error("AuthContext - Logout error:",e)}finally{let e=new i.S;l(null),h([]),x(null),e.clearSession(),s.Ew.setTenantId(null),window.location.href="/login"}},y=async e=>{try{let t=await s.Ew.switchTenant(e);return x(t),!0}catch(e){return console.error("AuthContext - Failed to switch tenant:",e),!1}};return(0,r.jsx)(c.Provider,{value:{user:n,loading:o,isAuthenticated:!!n,tenants:u,currentTenant:p,login:m,logout:f,switchTenant:y},children:t})}function o(){let e=(0,a.useContext)(c);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},46735:function(e,t,n){"use strict";n.d(t,{j:function(){return s}});var r=n(89441);class a{async getWarehouses(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return(await r.Ew.get("/inventory/warehouses?skip=".concat(e,"&limit=").concat(t))).data}async getWarehouse(e){return(await r.Ew.get("/inventory/warehouses/".concat(e))).data}async createWarehouse(e){return(await r.Ew.post("/inventory/warehouses",e)).data}async updateWarehouse(e,t){return(await r.Ew.put("/inventory/warehouses/".concat(e),t)).data}async deleteWarehouse(e){await r.Ew.delete("/inventory/warehouses/".concat(e))}async getStorageLocations(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,a=new URLSearchParams;return e&&a.append("warehouse_id",e),a.append("skip",t.toString()),a.append("limit",n.toString()),(await r.Ew.get("/inventory/storage-locations?".concat(a.toString()))).data}async getStorageLocation(e){return(await r.Ew.get("/inventory/storage-locations/".concat(e))).data}async createStorageLocation(e){return(await r.Ew.post("/inventory/storage-locations",e)).data}async updateStorageLocation(e,t){return(await r.Ew.put("/inventory/storage-locations/".concat(e),t)).data}async deleteStorageLocation(e){await r.Ew.delete("/inventory/storage-locations/".concat(e))}async getStockMovements(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,s=new URLSearchParams;return e&&s.append("product_id",e),t&&s.append("warehouse_id",t),s.append("skip",n.toString()),s.append("limit",a.toString()),(await r.Ew.get("/inventory/stock-movements?".concat(s.toString()))).data}async getStockMovement(e){return(await r.Ew.get("/inventory/stock-movements/".concat(e))).data}async createStockMovement(e){return(await r.Ew.post("/inventory/stock-movements",e)).data}async updateStockMovement(e,t){return(await r.Ew.put("/inventory/stock-movements/".concat(e),t)).data}async getSuppliers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return(await r.Ew.get("/inventory/suppliers?skip=".concat(e,"&limit=").concat(t))).data}async getSupplier(e){return(await r.Ew.get("/inventory/suppliers/".concat(e))).data}async createSupplier(e){return(await r.Ew.post("/inventory/suppliers",e)).data}async updateSupplier(e,t){return(await r.Ew.put("/inventory/suppliers/".concat(e),t)).data}async deleteSupplier(e){await r.Ew.delete("/inventory/suppliers/".concat(e))}async getPurchaseOrders(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,a=new URLSearchParams;return e&&a.append("status",e),a.append("skip",t.toString()),a.append("limit",n.toString()),(await r.Ew.get("/inventory/purchase-orders?".concat(a.toString()))).data}async getPurchaseOrder(e){return(await r.Ew.get("/inventory/purchase-orders/".concat(e))).data}async createPurchaseOrder(e){return(await r.Ew.post("/inventory/purchase-orders",e)).data}async updatePurchaseOrder(e,t){return(await r.Ew.put("/inventory/purchase-orders/".concat(e),t)).data}async deletePurchaseOrder(e){await r.Ew.delete("/inventory/purchase-orders/".concat(e))}async getReceivings(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,a=new URLSearchParams;return e&&a.append("status",e),a.append("skip",t.toString()),a.append("limit",n.toString()),(await r.Ew.get("/inventory/receivings?".concat(a.toString()))).data}async getReceiving(e){return(await r.Ew.get("/inventory/receivings/".concat(e))).data}async createReceiving(e){return(await r.Ew.post("/inventory/receivings",e)).data}async updateReceiving(e,t){return(await r.Ew.put("/inventory/receivings/".concat(e),t)).data}async deleteReceiving(e){await r.Ew.delete("/inventory/receivings/".concat(e))}async getInventoryDashboard(){return(await r.Ew.get("/inventory/dashboard")).data}}let s=new a}},function(e){e.O(0,[7846,7648,4259,2709,2451,9515,5200,2971,2117,1744],function(){return e(e.s=81336)}),_N_E=e.O()}]);