(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9890],{96275:function(e,t,r){Promise.resolve().then(r.bind(r,4994))},98420:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(39763).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},42208:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(39763).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},94630:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(39763).Z)("PenSquare",[["path",{d:"M11 4H4a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1qinfi"}],["path",{d:"M18.5 2.5a2.12 2.12 0 0 1 3 3L12 15l-4 1 1-4Z",key:"w2jsv5"}]])},18930:function(e,t,r){"use strict";r.d(t,{Z:function(){return a}});let a=(0,r(39763).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},4994:function(e,t,r){"use strict";r.r(t),r.d(t,{default:function(){return D}});var a=r(57437),s=r(2265),n=r(99376),l=r(79820),i=r(12381),o=r(69174),d=r(40279),c=r(15291),u=r(33804),p=r(99397),m=r(73247),f=r(98420),h=r(31047),x=r(95252),g=r(42208),v=r(94630),y=r(18930),j=r(43044),w=r(14362),N=r(46735),b=r(11888),C=r(93448),k=r(74291),S=r(75060),E=r(23675);function D(){let{user:e}=(0,w.a)(),t=(0,n.useRouter)(),[r,D]=(0,s.useState)([]),[R,I]=(0,s.useState)([]),[P,O]=(0,s.useState)(!0),[Z,_]=(0,s.useState)(""),[M,A]=(0,s.useState)("all"),[z,T]=(0,s.useState)(!1),[F,V]=(0,s.useState)(!1),[q,L]=(0,s.useState)({orderNumber:"",supplierId:"",supplierName:"",expectedDeliveryDate:"",notes:"",items:[]}),[W,Y]=(0,s.useState)({productId:"",productName:"",sku:"",quantity:0,unitCost:0,totalCost:0,notes:""});(0,s.useEffect)(()=>{Q()},[]);let Q=async()=>{try{O(!0);let[e,t]=await Promise.all([N.j.getPurchaseOrders(),N.j.getSuppliers()]);D(e.purchaseOrders),I(t.suppliers),t.suppliers.length>0&&!q.supplierId&&L(e=>({...e,supplierId:t.suppliers[0].id,supplierName:t.suppliers[0].name}))}catch(e){console.error("Error fetching data:",e)}finally{O(!1)}},B=r.filter(e=>{let t=e.orderNumber.toLowerCase().includes(Z.toLowerCase())||e.supplierName.toLowerCase().includes(Z.toLowerCase()),r="all"===M||!M||e.status===M;return t&&r}),U=async e=>{if(confirm("Are you sure you want to delete this purchase order?"))try{await N.j.deletePurchaseOrder(e),Q()}catch(e){console.error("Error deleting purchase order:",e)}},G=e=>{L(t=>({...t,items:t.items.filter((t,r)=>r!==e)}))},H=async()=>{if(!q.orderNumber||!q.supplierId||0===q.items.length){alert("Please fill in all required fields and add at least one item");return}try{V(!0),await N.j.createPurchaseOrder(q),T(!1),$(),Q()}catch(e){console.error("Error creating purchase order:",e),alert("Failed to create purchase order. Please try again.")}finally{V(!1)}},$=()=>{L({orderNumber:"",supplierId:R.length>0?R[0].id:"",supplierName:R.length>0?R[0].name:"",expectedDeliveryDate:"",notes:"",items:[]}),Y({productId:"",productName:"",sku:"",quantity:0,unitCost:0,totalCost:0,notes:""})},K=e=>{let t={draft:{variant:"secondary",label:"Draft"},submitted:{variant:"default",label:"Submitted"},approved:{variant:"default",label:"Approved"},ordered:{variant:"default",label:"Ordered"},received:{variant:"default",label:"Received"},cancelled:{variant:"destructive",label:"Cancelled"}},r=t[e]||t.draft;return(0,a.jsx)(o.C,{variant:r.variant,children:r.label})};return P?(0,a.jsx)(b.cl,{children:(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-gray-900"})})}):(0,a.jsx)(b.cl,{children:(0,a.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Purchase Orders"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Manage purchase orders and supplier procurement"})]}),(0,a.jsxs)(i.z,{onClick:()=>T(!0),children:[(0,a.jsx)(p.Z,{className:"mr-2 h-4 w-4"}),"Create PO"]})]}),(0,a.jsxs)(l.Zb,{children:[(0,a.jsx)(l.Ol,{children:(0,a.jsx)(l.ll,{children:"Search & Filters"})}),(0,a.jsx)(l.aY,{children:(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsxs)("div",{className:"relative flex-1",children:[(0,a.jsx)(m.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),(0,a.jsx)(d.I,{placeholder:"Search by PO number or supplier name...",value:Z,onChange:e=>_(e.target.value),className:"pl-10"})]}),(0,a.jsxs)(c.Ph,{value:M,onValueChange:A,children:[(0,a.jsx)(c.i4,{className:"w-48",children:(0,a.jsx)(c.ki,{placeholder:"Filter by status"})}),(0,a.jsxs)(c.Bw,{children:[(0,a.jsx)(c.Ql,{value:"all",children:"All Statuses"}),(0,a.jsx)(c.Ql,{value:"draft",children:"Draft"}),(0,a.jsx)(c.Ql,{value:"submitted",children:"Submitted"}),(0,a.jsx)(c.Ql,{value:"approved",children:"Approved"}),(0,a.jsx)(c.Ql,{value:"ordered",children:"Ordered"}),(0,a.jsx)(c.Ql,{value:"received",children:"Received"}),(0,a.jsx)(c.Ql,{value:"cancelled",children:"Cancelled"})]})]})]})})]}),(0,a.jsxs)(l.Zb,{children:[(0,a.jsx)(l.Ol,{children:(0,a.jsx)(l.ll,{children:"Purchase Orders"})}),(0,a.jsx)(l.aY,{children:B.length>0?(0,a.jsxs)(u.iA,{children:[(0,a.jsx)(u.xD,{children:(0,a.jsxs)(u.SC,{children:[(0,a.jsx)(u.ss,{children:"PO Number"}),(0,a.jsx)(u.ss,{children:"Supplier"}),(0,a.jsx)(u.ss,{children:"Expected Delivery"}),(0,a.jsx)(u.ss,{children:"Total Amount"}),(0,a.jsx)(u.ss,{children:"Status"}),(0,a.jsx)(u.ss,{children:"Created"}),(0,a.jsx)(u.ss,{children:"Actions"})]})}),(0,a.jsx)(u.RM,{children:B.map(e=>(0,a.jsxs)(u.SC,{children:[(0,a.jsxs)(u.pj,{children:[(0,a.jsx)("div",{className:"font-medium",children:e.orderNumber}),e.notes&&(0,a.jsx)("div",{className:"text-sm text-muted-foreground truncate max-w-32",children:e.notes})]}),(0,a.jsx)(u.pj,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(f.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"font-medium",children:e.supplierName})]})}),(0,a.jsx)(u.pj,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(h.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{children:(0,C.p6)(e.expectedDeliveryDate)})]})}),(0,a.jsx)(u.pj,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)(x.Z,{className:"h-4 w-4 text-muted-foreground"}),(0,a.jsx)("span",{className:"font-medium",children:(0,C.xG)(e.totalAmount)})]})}),(0,a.jsx)(u.pj,{children:K(e.status)}),(0,a.jsx)(u.pj,{children:(0,a.jsx)("div",{className:"text-sm text-muted-foreground",children:(0,C.p6)(e.createdAt)})}),(0,a.jsx)(u.pj,{children:(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(i.z,{variant:"outline",size:"sm",onClick:()=>t.push("/inventory/purchase-orders/".concat(e.id)),children:(0,a.jsx)(g.Z,{className:"h-4 w-4"})}),(0,a.jsx)(i.z,{variant:"outline",size:"sm",onClick:()=>t.push("/inventory/purchase-orders/".concat(e.id,"/edit")),children:(0,a.jsx)(v.Z,{className:"h-4 w-4"})}),(0,a.jsx)(i.z,{variant:"outline",size:"sm",onClick:()=>U(e.id),children:(0,a.jsx)(y.Z,{className:"h-4 w-4"})})]})})]},e.id))})]}):(0,a.jsxs)("div",{className:"text-center py-12",children:[(0,a.jsx)(j.Z,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),(0,a.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No purchase orders found"}),(0,a.jsx)("p",{className:"text-muted-foreground mb-4",children:Z||"all"!==M?"Try adjusting your search terms or filters":"Get started by creating your first purchase order"}),!Z&&"all"===M&&(0,a.jsxs)(i.z,{onClick:()=>T(!0),children:[(0,a.jsx)(p.Z,{className:"mr-2 h-4 w-4"}),"Create Purchase Order"]})]})})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ll,{className:"text-sm font-medium",children:"Total POs"}),(0,a.jsx)(j.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(l.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:r.length}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"All purchase orders"})]})]}),(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ll,{className:"text-sm font-medium",children:"Pending Approval"}),(0,a.jsx)(h.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(l.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:r.filter(e=>"submitted"===e.status).length}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Awaiting approval"})]})]}),(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ll,{className:"text-sm font-medium",children:"Total Value"}),(0,a.jsx)(x.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(l.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:(0,C.xG)(r.reduce((e,t)=>e+t.totalAmount,0))}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"All purchase orders"})]})]}),(0,a.jsxs)(l.Zb,{children:[(0,a.jsxs)(l.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(l.ll,{className:"text-sm font-medium",children:"This Month"}),(0,a.jsx)(h.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(l.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:r.filter(e=>{let t=new Date(e.createdAt),r=new Date;return t.getMonth()===r.getMonth()&&t.getFullYear()===r.getFullYear()}).length}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Created this month"})]})]})]}),(0,a.jsx)(k.Vq,{open:z,onOpenChange:T,children:(0,a.jsxs)(k.cZ,{className:"sm:max-w-[800px] max-h-[90vh] overflow-y-auto",children:[(0,a.jsx)(k.fK,{children:(0,a.jsx)(k.$N,{children:"Create New Purchase Order"})}),(0,a.jsxs)("div",{className:"grid gap-4 py-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(S._,{htmlFor:"orderNumber",children:"Order Number *"}),(0,a.jsx)(d.I,{id:"orderNumber",value:q.orderNumber,onChange:e=>L(t=>({...t,orderNumber:e.target.value})),placeholder:"Enter PO number"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(S._,{htmlFor:"expectedDeliveryDate",children:"Expected Delivery *"}),(0,a.jsx)(d.I,{id:"expectedDeliveryDate",type:"date",value:q.expectedDeliveryDate,onChange:e=>L(t=>({...t,expectedDeliveryDate:e.target.value}))})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(S._,{htmlFor:"supplierId",children:"Supplier *"}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(c.Ph,{value:q.supplierId,onValueChange:e=>{let t=R.find(t=>t.id===e);L(r=>({...r,supplierId:e,supplierName:(null==t?void 0:t.name)||""}))},children:[(0,a.jsx)(c.i4,{children:(0,a.jsx)(c.ki,{placeholder:"Select supplier"})}),(0,a.jsx)(c.Bw,{children:R.map(e=>(0,a.jsx)(c.Ql,{value:e.id,children:e.name},e.id))})]}),(0,a.jsxs)(i.z,{type:"button",variant:"outline",size:"sm",onClick:()=>{T(!1),t.push("/inventory/suppliers/new")},className:"whitespace-nowrap",children:[(0,a.jsx)(p.Z,{className:"h-4 w-4 mr-2"}),"Add Supplier"]})]})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(S._,{htmlFor:"notes",children:"Notes"}),(0,a.jsx)(E.g,{id:"notes",value:q.notes,onChange:e=>L(t=>({...t,notes:e.target.value})),placeholder:"Enter order notes",rows:3})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)(S._,{className:"text-lg font-medium",children:"Order Items"}),(0,a.jsxs)(i.z,{variant:"outline",size:"sm",onClick:()=>{if(!W.productId||!W.productName||W.quantity<=0||W.unitCost<=0){alert("Please fill in all required fields for the item");return}let e={...W,totalCost:W.quantity*W.unitCost};L(t=>({...t,items:[...t.items,e]})),Y({productId:"",productName:"",sku:"",quantity:0,unitCost:0,totalCost:0,notes:""})},children:[(0,a.jsx)(p.Z,{className:"mr-2 h-4 w-4"}),"Add Item"]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-4 gap-4 p-4 border rounded-lg",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(S._,{htmlFor:"productId",children:"Product ID *"}),(0,a.jsx)(d.I,{id:"productId",value:W.productId,onChange:e=>Y(t=>({...t,productId:e.target.value})),placeholder:"Product ID"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(S._,{htmlFor:"productName",children:"Product Name *"}),(0,a.jsx)(d.I,{id:"productName",value:W.productName,onChange:e=>Y(t=>({...t,productName:e.target.value})),placeholder:"Product name"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(S._,{htmlFor:"quantity",children:"Quantity *"}),(0,a.jsx)(d.I,{id:"quantity",type:"number",min:"1",value:W.quantity,onChange:e=>Y(t=>({...t,quantity:parseInt(e.target.value)||0})),placeholder:"Qty"})]}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(S._,{htmlFor:"unitCost",children:"Unit Cost *"}),(0,a.jsx)(d.I,{id:"unitCost",type:"number",min:"0",step:"0.01",value:W.unitCost,onChange:e=>Y(t=>({...t,unitCost:parseFloat(e.target.value)||0})),placeholder:"Cost"})]})]}),q.items.length>0&&(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)(S._,{children:"Added Items"}),(0,a.jsx)("div",{className:"space-y-2",children:q.items.map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 border rounded-lg",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)("div",{className:"font-medium",children:e.productName}),(0,a.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e.quantity," \xd7 ",(0,C.xG)(e.unitCost)," ","= ",(0,C.xG)(e.totalCost)]})]}),(0,a.jsx)(i.z,{variant:"outline",size:"sm",onClick:()=>G(t),children:(0,a.jsx)(y.Z,{className:"h-4 w-4"})})]},t))}),(0,a.jsxs)("div",{className:"text-right font-medium",children:["Total:"," ",(0,C.xG)(q.items.reduce((e,t)=>e+t.totalCost,0))]})]})]})]}),(0,a.jsxs)(k.cN,{children:[(0,a.jsx)(i.z,{variant:"outline",onClick:()=>{T(!1),$()},children:"Cancel"}),(0,a.jsx)(i.z,{onClick:H,disabled:F||0===q.items.length,children:F?"Creating...":"Create Purchase Order"})]})]})})]})})}},11888:function(e,t,r){"use strict";r.d(t,{cl:function(){return a.default}});var a=r(78742);r(28278),r(59399)},74291:function(e,t,r){"use strict";r.d(t,{$N:function(){return h},Be:function(){return x},Vq:function(){return o},cN:function(){return f},cZ:function(){return p},fK:function(){return m},hg:function(){return d}});var a=r(57437),s=r(2265),n=r(49027),l=r(32489),i=r(93448);let o=n.fC,d=n.xz,c=n.h_;n.x8;let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.aV,{ref:t,className:(0,i.cn)("fixed inset-0 z-50 bg-background/80 backdrop-blur-sm data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",r),...s})});u.displayName=n.aV.displayName;let p=s.forwardRef((e,t)=>{let{className:r,children:s,...o}=e;return(0,a.jsxs)(c,{children:[(0,a.jsx)(u,{}),(0,a.jsxs)(n.VY,{ref:t,className:(0,i.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",r),...o,children:[s,(0,a.jsxs)(n.x8,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,a.jsx)(l.Z,{className:"h-4 w-4"}),(0,a.jsx)("span",{className:"sr-only",children:"Close"})]})]})]})});p.displayName=n.VY.displayName;let m=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col space-y-1.5 text-center sm:text-left",t),...r})};m.displayName="DialogHeader";let f=e=>{let{className:t,...r}=e;return(0,a.jsx)("div",{className:(0,i.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...r})};f.displayName="DialogFooter";let h=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.Dx,{ref:t,className:(0,i.cn)("text-lg font-semibold leading-none tracking-tight",r),...s})});h.displayName=n.Dx.displayName;let x=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.dk,{ref:t,className:(0,i.cn)("text-sm text-muted-foreground",r),...s})});x.displayName=n.dk.displayName},40279:function(e,t,r){"use strict";r.d(t,{I:function(){return l}});var a=r(57437),s=r(2265),n=r(93448);let l=s.forwardRef((e,t)=>{let{className:r,type:s,...l}=e;return(0,a.jsx)("input",{type:s,className:(0,n.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...l})});l.displayName="Input"},75060:function(e,t,r){"use strict";r.d(t,{_:function(){return d}});var a=r(57437),s=r(2265),n=r(6394),l=r(90535),i=r(93448);let o=(0,l.j)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.f,{ref:t,className:(0,i.cn)(o(),r),...s})});d.displayName=n.f.displayName},15291:function(e,t,r){"use strict";r.d(t,{Bw:function(){return h},Ph:function(){return c},Ql:function(){return x},i4:function(){return p},ki:function(){return u}});var a=r(57437),s=r(2265),n=r(33911),l=r(40875),i=r(22135),o=r(30401),d=r(93448);let c=n.fC;n.ZA;let u=n.B4,p=s.forwardRef((e,t)=>{let{className:r,children:s,...i}=e;return(0,a.jsxs)(n.xz,{ref:t,className:(0,d.cn)("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",r),...i,children:[s,(0,a.jsx)(n.JO,{asChild:!0,children:(0,a.jsx)(l.Z,{className:"h-4 w-4 opacity-50"})})]})});p.displayName=n.xz.displayName;let m=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.u_,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",r),...s,children:(0,a.jsx)(i.Z,{className:"h-4 w-4"})})});m.displayName=n.u_.displayName;let f=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.$G,{ref:t,className:(0,d.cn)("flex cursor-default items-center justify-center py-1",r),...s,children:(0,a.jsx)(l.Z,{className:"h-4 w-4"})})});f.displayName=n.$G.displayName;let h=s.forwardRef((e,t)=>{let{className:r,children:s,position:l="popper",...i}=e;return(0,a.jsx)(n.h_,{children:(0,a.jsxs)(n.VY,{ref:t,className:(0,d.cn)("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2","popper"===l&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",r),position:l,...i,children:[(0,a.jsx)(m,{}),(0,a.jsx)(n.l_,{className:(0,d.cn)("p-1","popper"===l&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:s}),(0,a.jsx)(f,{})]})})});h.displayName=n.VY.displayName,s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.__,{ref:t,className:(0,d.cn)("py-1.5 pl-8 pr-2 text-sm font-semibold",r),...s})}).displayName=n.__.displayName;let x=s.forwardRef((e,t)=>{let{className:r,children:s,...l}=e;return(0,a.jsxs)(n.ck,{ref:t,className:(0,d.cn)("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",r),...l,children:[(0,a.jsx)("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:(0,a.jsx)(n.wU,{children:(0,a.jsx)(o.Z,{className:"h-4 w-4"})})}),(0,a.jsx)(n.eT,{children:s})]})});x.displayName=n.ck.displayName,s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)(n.Z0,{ref:t,className:(0,d.cn)("-mx-1 my-1 h-px bg-muted",r),...s})}).displayName=n.Z0.displayName},33804:function(e,t,r){"use strict";r.d(t,{RM:function(){return o},SC:function(){return d},iA:function(){return l},pj:function(){return u},ss:function(){return c},xD:function(){return i}});var a=r(57437),s=r(2265),n=r(93448);let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("div",{className:"relative w-full overflow-auto",children:(0,a.jsx)("table",{ref:t,className:(0,n.cn)("w-full caption-bottom text-sm",r),...s})})});l.displayName="Table";let i=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("thead",{ref:t,className:(0,n.cn)("[&_tr]:border-b",r),...s})});i.displayName="TableHeader";let o=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tbody",{ref:t,className:(0,n.cn)("[&_tr:last-child]:border-0",r),...s})});o.displayName="TableBody",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tfoot",{ref:t,className:(0,n.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",r),...s})}).displayName="TableFooter";let d=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("tr",{ref:t,className:(0,n.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",r),...s})});d.displayName="TableRow";let c=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("th",{ref:t,className:(0,n.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",r),...s})});c.displayName="TableHead";let u=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("td",{ref:t,className:(0,n.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",r),...s})});u.displayName="TableCell",s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("caption",{ref:t,className:(0,n.cn)("mt-4 text-sm text-muted-foreground",r),...s})}).displayName="TableCaption"},23675:function(e,t,r){"use strict";r.d(t,{g:function(){return l}});var a=r(57437),s=r(2265),n=r(93448);let l=s.forwardRef((e,t)=>{let{className:r,...s}=e;return(0,a.jsx)("textarea",{className:(0,n.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",r),ref:t,...s})});l.displayName="Textarea"},14362:function(e,t,r){"use strict";r.d(t,{AuthProvider:function(){return o},a:function(){return d}});var a=r(57437),s=r(2265),n=r(89441),l=r(60621);let i=(0,s.createContext)(void 0);function o(e){let{children:t}=e,[r,o]=(0,s.useState)(null),[d,c]=(0,s.useState)(!0),[u,p]=(0,s.useState)([]),[m,f]=(0,s.useState)(null);(0,s.useEffect)(()=>{(async()=>{try{let e=new l.S;if(e.isSessionValid()){if(e.isTokenExpired()&&!await e.refreshAccessToken()){e.clearSession(),o(null),c(!1);return}let t=e.getSession();if(t&&t.token&&t.user){o(t.user);let e=n.Ew.getUserTenants();if(e.length>0){p(e);let t=n.Ew.getCurrentTenant();t?f(t):(f(e[0]),n.Ew.setTenantId(e[0].id))}}else e.clearSession(),o(null)}else e.clearSession(),o(null)}catch(e){console.error("AuthContext - Auth initialization error:",e),new l.S().clearSession(),o(null)}finally{c(!1)}})()},[]);let h=async e=>{try{c(!0);let t=await n.Ew.login(e);if(t.success&&t.user){o(t.user);let e=n.Ew.getUserTenants();if(e.length>0){p(e);let t=n.Ew.getCurrentTenant();t&&f(t)}return!0}return!1}catch(e){return console.error("AuthContext - Login failed:",e),!1}finally{c(!1)}},x=async()=>{try{await n.Ew.logout()}catch(e){console.error("AuthContext - Logout error:",e)}finally{let e=new l.S;o(null),p([]),f(null),e.clearSession(),n.Ew.setTenantId(null),window.location.href="/login"}},g=async e=>{try{let t=await n.Ew.switchTenant(e);return f(t),!0}catch(e){return console.error("AuthContext - Failed to switch tenant:",e),!1}};return(0,a.jsx)(i.Provider,{value:{user:r,loading:d,isAuthenticated:!!r,tenants:u,currentTenant:m,login:h,logout:x,switchTenant:g},children:t})}function d(){let e=(0,s.useContext)(i);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},46735:function(e,t,r){"use strict";r.d(t,{j:function(){return n}});var a=r(89441);class s{async getWarehouses(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return(await a.Ew.get("/inventory/warehouses?skip=".concat(e,"&limit=").concat(t))).data}async getWarehouse(e){return(await a.Ew.get("/inventory/warehouses/".concat(e))).data}async createWarehouse(e){return(await a.Ew.post("/inventory/warehouses",e)).data}async updateWarehouse(e,t){return(await a.Ew.put("/inventory/warehouses/".concat(e),t)).data}async deleteWarehouse(e){await a.Ew.delete("/inventory/warehouses/".concat(e))}async getStorageLocations(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,s=new URLSearchParams;return e&&s.append("warehouse_id",e),s.append("skip",t.toString()),s.append("limit",r.toString()),(await a.Ew.get("/inventory/storage-locations?".concat(s.toString()))).data}async getStorageLocation(e){return(await a.Ew.get("/inventory/storage-locations/".concat(e))).data}async createStorageLocation(e){return(await a.Ew.post("/inventory/storage-locations",e)).data}async updateStorageLocation(e,t){return(await a.Ew.put("/inventory/storage-locations/".concat(e),t)).data}async deleteStorageLocation(e){await a.Ew.delete("/inventory/storage-locations/".concat(e))}async getStockMovements(e,t){let r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,n=new URLSearchParams;return e&&n.append("product_id",e),t&&n.append("warehouse_id",t),n.append("skip",r.toString()),n.append("limit",s.toString()),(await a.Ew.get("/inventory/stock-movements?".concat(n.toString()))).data}async getStockMovement(e){return(await a.Ew.get("/inventory/stock-movements/".concat(e))).data}async createStockMovement(e){return(await a.Ew.post("/inventory/stock-movements",e)).data}async updateStockMovement(e,t){return(await a.Ew.put("/inventory/stock-movements/".concat(e),t)).data}async getSuppliers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return(await a.Ew.get("/inventory/suppliers?skip=".concat(e,"&limit=").concat(t))).data}async getSupplier(e){return(await a.Ew.get("/inventory/suppliers/".concat(e))).data}async createSupplier(e){return(await a.Ew.post("/inventory/suppliers",e)).data}async updateSupplier(e,t){return(await a.Ew.put("/inventory/suppliers/".concat(e),t)).data}async deleteSupplier(e){await a.Ew.delete("/inventory/suppliers/".concat(e))}async getPurchaseOrders(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,s=new URLSearchParams;return e&&s.append("status",e),s.append("skip",t.toString()),s.append("limit",r.toString()),(await a.Ew.get("/inventory/purchase-orders?".concat(s.toString()))).data}async getPurchaseOrder(e){return(await a.Ew.get("/inventory/purchase-orders/".concat(e))).data}async createPurchaseOrder(e){return(await a.Ew.post("/inventory/purchase-orders",e)).data}async updatePurchaseOrder(e,t){return(await a.Ew.put("/inventory/purchase-orders/".concat(e),t)).data}async deletePurchaseOrder(e){await a.Ew.delete("/inventory/purchase-orders/".concat(e))}async getReceivings(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,s=new URLSearchParams;return e&&s.append("status",e),s.append("skip",t.toString()),s.append("limit",r.toString()),(await a.Ew.get("/inventory/receivings?".concat(s.toString()))).data}async getReceiving(e){return(await a.Ew.get("/inventory/receivings/".concat(e))).data}async createReceiving(e){return(await a.Ew.post("/inventory/receivings",e)).data}async updateReceiving(e,t){return(await a.Ew.put("/inventory/receivings/".concat(e),t)).data}async deleteReceiving(e){await a.Ew.delete("/inventory/receivings/".concat(e))}async getInventoryDashboard(){return(await a.Ew.get("/inventory/dashboard")).data}}let n=new s},49027:function(e,t,r){"use strict";r.d(t,{Dx:function(){return ea},VY:function(){return er},aV:function(){return et},dk:function(){return es},fC:function(){return J},h_:function(){return ee},x8:function(){return en},xz:function(){return X}});var a=r(2265),s=r(6741),n=r(98575),l=r(73966),i=r(99255),o=r(80886),d=r(15278),c=r(99103),u=r(83832),p=r(71599),m=r(66840),f=r(86097),h=r(99157),x=r(5478),g=r(37053),v=r(57437),y="Dialog",[j,w]=(0,l.b)(y),[N,b]=j(y),C=e=>{let{__scopeDialog:t,children:r,open:s,defaultOpen:n,onOpenChange:l,modal:d=!0}=e,c=a.useRef(null),u=a.useRef(null),[p,m]=(0,o.T)({prop:s,defaultProp:null!=n&&n,onChange:l,caller:y});return(0,v.jsx)(N,{scope:t,triggerRef:c,contentRef:u,contentId:(0,i.M)(),titleId:(0,i.M)(),descriptionId:(0,i.M)(),open:p,onOpenChange:m,onOpenToggle:a.useCallback(()=>m(e=>!e),[m]),modal:d,children:r})};C.displayName=y;var k="DialogTrigger",S=a.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,l=b(k,r),i=(0,n.e)(t,l.triggerRef);return(0,v.jsx)(m.WV.button,{type:"button","aria-haspopup":"dialog","aria-expanded":l.open,"aria-controls":l.contentId,"data-state":B(l.open),...a,ref:i,onClick:(0,s.M)(e.onClick,l.onOpenToggle)})});S.displayName=k;var E="DialogPortal",[D,R]=j(E,{forceMount:void 0}),I=e=>{let{__scopeDialog:t,forceMount:r,children:s,container:n}=e,l=b(E,t);return(0,v.jsx)(D,{scope:t,forceMount:r,children:a.Children.map(s,e=>(0,v.jsx)(p.z,{present:r||l.open,children:(0,v.jsx)(u.h,{asChild:!0,container:n,children:e})}))})};I.displayName=E;var P="DialogOverlay",O=a.forwardRef((e,t)=>{let r=R(P,e.__scopeDialog),{forceMount:a=r.forceMount,...s}=e,n=b(P,e.__scopeDialog);return n.modal?(0,v.jsx)(p.z,{present:a||n.open,children:(0,v.jsx)(_,{...s,ref:t})}):null});O.displayName=P;var Z=(0,g.Z8)("DialogOverlay.RemoveScroll"),_=a.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,s=b(P,r);return(0,v.jsx)(h.Z,{as:Z,allowPinchZoom:!0,shards:[s.contentRef],children:(0,v.jsx)(m.WV.div,{"data-state":B(s.open),...a,ref:t,style:{pointerEvents:"auto",...a.style}})})}),M="DialogContent",A=a.forwardRef((e,t)=>{let r=R(M,e.__scopeDialog),{forceMount:a=r.forceMount,...s}=e,n=b(M,e.__scopeDialog);return(0,v.jsx)(p.z,{present:a||n.open,children:n.modal?(0,v.jsx)(z,{...s,ref:t}):(0,v.jsx)(T,{...s,ref:t})})});A.displayName=M;var z=a.forwardRef((e,t)=>{let r=b(M,e.__scopeDialog),l=a.useRef(null),i=(0,n.e)(t,r.contentRef,l);return a.useEffect(()=>{let e=l.current;if(e)return(0,x.Ry)(e)},[]),(0,v.jsx)(F,{...e,ref:i,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:(0,s.M)(e.onCloseAutoFocus,e=>{var t;e.preventDefault(),null===(t=r.triggerRef.current)||void 0===t||t.focus()}),onPointerDownOutside:(0,s.M)(e.onPointerDownOutside,e=>{let t=e.detail.originalEvent,r=0===t.button&&!0===t.ctrlKey;(2===t.button||r)&&e.preventDefault()}),onFocusOutside:(0,s.M)(e.onFocusOutside,e=>e.preventDefault())})}),T=a.forwardRef((e,t)=>{let r=b(M,e.__scopeDialog),s=a.useRef(!1),n=a.useRef(!1);return(0,v.jsx)(F,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var a,l;null===(a=e.onCloseAutoFocus)||void 0===a||a.call(e,t),t.defaultPrevented||(s.current||null===(l=r.triggerRef.current)||void 0===l||l.focus(),t.preventDefault()),s.current=!1,n.current=!1},onInteractOutside:t=>{var a,l;null===(a=e.onInteractOutside)||void 0===a||a.call(e,t),t.defaultPrevented||(s.current=!0,"pointerdown"!==t.detail.originalEvent.type||(n.current=!0));let i=t.target;(null===(l=r.triggerRef.current)||void 0===l?void 0:l.contains(i))&&t.preventDefault(),"focusin"===t.detail.originalEvent.type&&n.current&&t.preventDefault()}})}),F=a.forwardRef((e,t)=>{let{__scopeDialog:r,trapFocus:s,onOpenAutoFocus:l,onCloseAutoFocus:i,...o}=e,u=b(M,r),p=a.useRef(null),m=(0,n.e)(t,p);return(0,f.EW)(),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)(c.M,{asChild:!0,loop:!0,trapped:s,onMountAutoFocus:l,onUnmountAutoFocus:i,children:(0,v.jsx)(d.XB,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":B(u.open),...o,ref:m,onDismiss:()=>u.onOpenChange(!1)})}),(0,v.jsxs)(v.Fragment,{children:[(0,v.jsx)($,{titleId:u.titleId}),(0,v.jsx)(K,{contentRef:p,descriptionId:u.descriptionId})]})]})}),V="DialogTitle",q=a.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,s=b(V,r);return(0,v.jsx)(m.WV.h2,{id:s.titleId,...a,ref:t})});q.displayName=V;var L="DialogDescription",W=a.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,s=b(L,r);return(0,v.jsx)(m.WV.p,{id:s.descriptionId,...a,ref:t})});W.displayName=L;var Y="DialogClose",Q=a.forwardRef((e,t)=>{let{__scopeDialog:r,...a}=e,n=b(Y,r);return(0,v.jsx)(m.WV.button,{type:"button",...a,ref:t,onClick:(0,s.M)(e.onClick,()=>n.onOpenChange(!1))})});function B(e){return e?"open":"closed"}Q.displayName=Y;var U="DialogTitleWarning",[G,H]=(0,l.k)(U,{contentName:M,titleName:V,docsSlug:"dialog"}),$=e=>{let{titleId:t}=e,r=H(U),s="`".concat(r.contentName,"` requires a `").concat(r.titleName,"` for the component to be accessible for screen reader users.\n\nIf you want to hide the `").concat(r.titleName,"`, you can wrap it with our VisuallyHidden component.\n\nFor more information, see https://radix-ui.com/primitives/docs/components/").concat(r.docsSlug);return a.useEffect(()=>{t&&!document.getElementById(t)&&console.error(s)},[s,t]),null},K=e=>{let{contentRef:t,descriptionId:r}=e,s=H("DialogDescriptionWarning"),n="Warning: Missing `Description` or `aria-describedby={undefined}` for {".concat(s.contentName,"}.");return a.useEffect(()=>{var e;let a=null===(e=t.current)||void 0===e?void 0:e.getAttribute("aria-describedby");r&&a&&!document.getElementById(r)&&console.warn(n)},[n,t,r]),null},J=C,X=S,ee=I,et=O,er=A,ea=q,es=W,en=Q},6394:function(e,t,r){"use strict";r.d(t,{f:function(){return i}});var a=r(2265),s=r(66840),n=r(57437),l=a.forwardRef((e,t)=>(0,n.jsx)(s.WV.label,{...e,ref:t,onMouseDown:t=>{var r;t.target.closest("button, input, select, textarea")||(null===(r=e.onMouseDown)||void 0===r||r.call(e,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));l.displayName="Label";var i=l}},function(e){e.O(0,[7846,7648,4259,2709,2451,4975,9515,5200,2971,2117,1744],function(){return e(e.s=96275)}),_N_E=e.O()}]);