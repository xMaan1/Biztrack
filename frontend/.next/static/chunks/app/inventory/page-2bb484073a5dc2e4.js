(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1268],{50574:function(e,t,s){Promise.resolve().then(s.bind(s,64373))},76858:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]])},98420:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]])},15863:function(e,t,s){"use strict";s.d(t,{Z:function(){return a}});let a=(0,s(39763).Z)("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]])},64373:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return S}});var a=s(57437),n=s(2265),r=s(99376),i=s(79820),c=s(12381),l=s(69174),o=s(63639),d=s(44794),u=s(40340),h=s(15863),m=s(37683),x=s(98420),p=s(70525),w=s(99397),g=s(43044),v=s(76858),j=s(95805),f=s(14362),y=s(46735),N=s(11888),k=s(93448);function S(){let{user:e}=(0,f.a)(),t=(0,r.useRouter)(),[s,S]=(0,n.useState)(null),[b,E]=(0,n.useState)(!0);(0,n.useEffect)(()=>{Z()},[]);let Z=async()=>{try{E(!0);let e=await y.j.getInventoryDashboard();S(e)}catch(e){console.error("Error fetching inventory data:",e)}finally{E(!1)}},A=e=>{switch(e){case"out_of_stock":return"destructive";case"low_stock":return"secondary";default:return"default"}},P=e=>{switch(e){case"out_of_stock":default:return(0,a.jsx)(o.Z,{className:"h-4 w-4"});case"low_stock":return(0,a.jsx)(d.Z,{className:"h-4 w-4"});case"expiry_warning":return(0,a.jsx)(u.Z,{className:"h-4 w-4"})}};return b?(0,a.jsx)(N.cl,{children:(0,a.jsx)("div",{className:"flex items-center justify-center h-64",children:(0,a.jsx)(h.Z,{className:"h-8 w-8 animate-spin"})})}):(0,a.jsx)(N.cl,{children:(0,a.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Inventory Management"}),(0,a.jsx)("p",{className:"text-muted-foreground",children:"Manage your warehouses, track stock levels, and monitor inventory operations"})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsxs)(c.z,{onClick:()=>t.push("/inventory/warehouses"),children:[(0,a.jsx)(m.Z,{className:"mr-2 h-4 w-4"}),"Manage Warehouses"]}),(0,a.jsxs)(c.z,{onClick:()=>t.push("/inventory/products"),children:[(0,a.jsx)(d.Z,{className:"mr-2 h-4 w-4"}),"View Products"]})]})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2 lg:grid-cols-4",children:[(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(i.ll,{className:"text-sm font-medium",children:"Total Products"}),(0,a.jsx)(d.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(i.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:(null==s?void 0:s.totalProducts)||0}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Active inventory items"})]})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(i.ll,{className:"text-sm font-medium",children:"Total Warehouses"}),(0,a.jsx)(x.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(i.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:(null==s?void 0:s.totalWarehouses)||0}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Storage facilities"})]})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsx)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:(0,a.jsx)(i.ll,{className:"text-sm font-medium",children:"Total Suppliers"})}),(0,a.jsxs)(i.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:(null==s?void 0:s.totalSuppliers)||0}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Vendor partners"})]})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsxs)(i.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,a.jsx)(i.ll,{className:"text-sm font-medium",children:"Stock Value"}),(0,a.jsx)(p.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,a.jsxs)(i.aY,{children:[(0,a.jsx)("div",{className:"text-2xl font-bold",children:(0,k.xG)((null==s?void 0:s.totalStockValue)||0)}),(0,a.jsx)("p",{className:"text-xs text-muted-foreground",children:"Total inventory value"})]})]})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-2",children:[(0,a.jsxs)(i.Zb,{children:[(0,a.jsx)(i.Ol,{children:(0,a.jsxs)(i.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(o.Z,{className:"h-5 w-5 text-destructive"}),"Stock Alerts"]})}),(0,a.jsx)(i.aY,{className:"space-y-4",children:(null==s?void 0:s.lowStockAlerts)&&s.lowStockAlerts.length>0?(0,a.jsxs)("div",{className:"space-y-3",children:[s.lowStockAlerts.slice(0,5).map((e,t)=>(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border bg-muted/50",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[P(e.alertType),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium text-sm",children:e.productName}),(0,a.jsxs)("p",{className:"text-xs text-muted-foreground",children:["SKU: ",e.sku]})]})]}),(0,a.jsxs)(l.C,{variant:A(e.alertType),children:[e.currentStock," / ",e.minStockLevel]})]},t)),s.lowStockAlerts.length>5&&(0,a.jsxs)(c.z,{variant:"outline",className:"w-full",onClick:()=>t.push("/inventory/alerts"),children:["View All Alerts (",s.lowStockAlerts.length,")"]})]}):(0,a.jsxs)("div",{className:"text-center py-8 text-muted-foreground",children:[(0,a.jsx)(d.Z,{className:"h-12 w-12 mx-auto mb-4 opacity-50"}),(0,a.jsx)("p",{children:"No stock alerts at the moment"}),(0,a.jsx)("p",{className:"text-sm",children:"All products are well stocked"})]})})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsx)(i.Ol,{children:(0,a.jsx)(i.ll,{children:"Quick Actions"})}),(0,a.jsxs)(i.aY,{className:"space-y-3",children:[(0,a.jsxs)(c.z,{variant:"outline",className:"w-full justify-start",onClick:()=>t.push("/inventory/stock-movements/new"),children:[(0,a.jsx)(w.Z,{className:"mr-2 h-4 w-4"}),"Record Stock Movement"]}),(0,a.jsxs)(c.z,{variant:"outline",className:"w-full justify-start",onClick:()=>t.push("/inventory/purchase-orders/new"),children:[(0,a.jsx)(g.Z,{className:"mr-2 h-4 w-4"}),"Create Purchase Order"]}),(0,a.jsxs)(c.z,{variant:"outline",className:"w-full justify-start",onClick:()=>t.push("/inventory/receivings/new"),children:[(0,a.jsx)(u.Z,{className:"mr-2 h-4 w-4"}),"Process Receiving"]}),(0,a.jsxs)(c.z,{variant:"outline",className:"w-full justify-start",onClick:()=>t.push("/inventory/products/new"),children:[(0,a.jsx)(d.Z,{className:"mr-2 h-4 w-4"}),"Add New Product"]})]})]})]}),(0,a.jsxs)(i.Zb,{children:[(0,a.jsx)(i.Ol,{children:(0,a.jsx)(i.ll,{children:"Recent Activity"})}),(0,a.jsx)(i.aY,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Stock movement recorded"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Inbound movement for Product XYZ"})]})]}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"2 hours ago"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-blue-500 rounded-full"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Purchase order created"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"PO-2024-001 for Supplier ABC"})]})]}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"1 day ago"})]}),(0,a.jsxs)("div",{className:"flex items-center justify-between p-3 rounded-lg border",children:[(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"w-2 h-2 bg-yellow-500 rounded-full"}),(0,a.jsxs)("div",{children:[(0,a.jsx)("p",{className:"font-medium",children:"Low stock alert"}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground",children:"Product DEF running low on stock"})]})]}),(0,a.jsx)("span",{className:"text-sm text-muted-foreground",children:"2 days ago"})]})]})})]}),(0,a.jsxs)("div",{className:"grid gap-4 md:grid-cols-3",children:[(0,a.jsxs)(i.Zb,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>t.push("/inventory/warehouses"),children:[(0,a.jsx)(i.Ol,{children:(0,a.jsxs)(i.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(m.Z,{className:"h-5 w-5"}),"Warehouses"]})}),(0,a.jsxs)(i.aY,{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Manage warehouse locations, storage capacity, and facility information"}),(0,a.jsxs)(c.z,{variant:"outline",className:"w-full",children:["Manage Warehouses",(0,a.jsx)(v.Z,{className:"ml-2 h-4 w-4"})]})]})]}),(0,a.jsxs)(i.Zb,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>t.push("/inventory/products"),children:[(0,a.jsx)(i.Ol,{children:(0,a.jsxs)(i.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(d.Z,{className:"h-5 w-5"}),"Products"]})}),(0,a.jsxs)(i.aY,{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"View and manage product catalog, stock levels, and inventory details"}),(0,a.jsxs)(c.z,{variant:"outline",className:"w-full",children:["View Products",(0,a.jsx)(v.Z,{className:"ml-2 h-4 w-4"})]})]})]}),(0,a.jsxs)(i.Zb,{className:"cursor-pointer hover:shadow-md transition-shadow",onClick:()=>t.push("/inventory/suppliers"),children:[(0,a.jsx)(i.Ol,{children:(0,a.jsxs)(i.ll,{className:"flex items-center gap-2",children:[(0,a.jsx)(j.Z,{className:"h-5 w-5"}),"Suppliers"]})}),(0,a.jsxs)(i.aY,{children:[(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Manage supplier relationships, contact information, and performance"}),(0,a.jsxs)(c.z,{variant:"outline",className:"w-full",children:["Manage Suppliers",(0,a.jsx)(v.Z,{className:"ml-2 h-4 w-4"})]})]})]})]})]})})}},11888:function(e,t,s){"use strict";s.d(t,{cl:function(){return a.default}});var a=s(78742);s(28278),s(59399)},14362:function(e,t,s){"use strict";s.d(t,{AuthProvider:function(){return l},a:function(){return o}});var a=s(57437),n=s(2265),r=s(89441),i=s(60621);let c=(0,n.createContext)(void 0);function l(e){let{children:t}=e,[s,l]=(0,n.useState)(null),[o,d]=(0,n.useState)(!0),[u,h]=(0,n.useState)([]),[m,x]=(0,n.useState)(null);(0,n.useEffect)(()=>{(async()=>{try{let e=new i.S;if(e.isSessionValid()){if(e.isTokenExpired()&&!await e.refreshAccessToken()){e.clearSession(),l(null),d(!1);return}let t=e.getSession();if(t&&t.token&&t.user){l(t.user);let e=r.Ew.getUserTenants();if(e.length>0){h(e);let t=r.Ew.getCurrentTenant();t?x(t):(x(e[0]),r.Ew.setTenantId(e[0].id))}}else e.clearSession(),l(null)}else e.clearSession(),l(null)}catch(e){console.error("AuthContext - Auth initialization error:",e),new i.S().clearSession(),l(null)}finally{d(!1)}})()},[]);let p=async e=>{try{d(!0);let t=await r.Ew.login(e);if(t.success&&t.user){l(t.user);let e=r.Ew.getUserTenants();if(e.length>0){h(e);let t=r.Ew.getCurrentTenant();t&&x(t)}return!0}return!1}catch(e){return console.error("AuthContext - Login failed:",e),!1}finally{d(!1)}},w=async()=>{try{await r.Ew.logout()}catch(e){console.error("AuthContext - Logout error:",e)}finally{let e=new i.S;l(null),h([]),x(null),e.clearSession(),r.Ew.setTenantId(null),window.location.href="/login"}},g=async e=>{try{let t=await r.Ew.switchTenant(e);return x(t),!0}catch(e){return console.error("AuthContext - Failed to switch tenant:",e),!1}};return(0,a.jsx)(c.Provider,{value:{user:s,loading:o,isAuthenticated:!!s,tenants:u,currentTenant:m,login:p,logout:w,switchTenant:g},children:t})}function o(){let e=(0,n.useContext)(c);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}},46735:function(e,t,s){"use strict";s.d(t,{j:function(){return r}});var a=s(89441);class n{async getWarehouses(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return(await a.Ew.get("/inventory/warehouses?skip=".concat(e,"&limit=").concat(t))).data}async getWarehouse(e){return(await a.Ew.get("/inventory/warehouses/".concat(e))).data}async createWarehouse(e){return(await a.Ew.post("/inventory/warehouses",e)).data}async updateWarehouse(e,t){return(await a.Ew.put("/inventory/warehouses/".concat(e),t)).data}async deleteWarehouse(e){await a.Ew.delete("/inventory/warehouses/".concat(e))}async getStorageLocations(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,n=new URLSearchParams;return e&&n.append("warehouse_id",e),n.append("skip",t.toString()),n.append("limit",s.toString()),(await a.Ew.get("/inventory/storage-locations?".concat(n.toString()))).data}async getStorageLocation(e){return(await a.Ew.get("/inventory/storage-locations/".concat(e))).data}async createStorageLocation(e){return(await a.Ew.post("/inventory/storage-locations",e)).data}async updateStorageLocation(e,t){return(await a.Ew.put("/inventory/storage-locations/".concat(e),t)).data}async deleteStorageLocation(e){await a.Ew.delete("/inventory/storage-locations/".concat(e))}async getStockMovements(e,t){let s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:100,r=new URLSearchParams;return e&&r.append("product_id",e),t&&r.append("warehouse_id",t),r.append("skip",s.toString()),r.append("limit",n.toString()),(await a.Ew.get("/inventory/stock-movements?".concat(r.toString()))).data}async getStockMovement(e){return(await a.Ew.get("/inventory/stock-movements/".concat(e))).data}async createStockMovement(e){return(await a.Ew.post("/inventory/stock-movements",e)).data}async updateStockMovement(e,t){return(await a.Ew.put("/inventory/stock-movements/".concat(e),t)).data}async getSuppliers(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:100;return(await a.Ew.get("/inventory/suppliers?skip=".concat(e,"&limit=").concat(t))).data}async getSupplier(e){return(await a.Ew.get("/inventory/suppliers/".concat(e))).data}async createSupplier(e){return(await a.Ew.post("/inventory/suppliers",e)).data}async updateSupplier(e,t){return(await a.Ew.put("/inventory/suppliers/".concat(e),t)).data}async deleteSupplier(e){await a.Ew.delete("/inventory/suppliers/".concat(e))}async getPurchaseOrders(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,n=new URLSearchParams;return e&&n.append("status",e),n.append("skip",t.toString()),n.append("limit",s.toString()),(await a.Ew.get("/inventory/purchase-orders?".concat(n.toString()))).data}async getPurchaseOrder(e){return(await a.Ew.get("/inventory/purchase-orders/".concat(e))).data}async createPurchaseOrder(e){return(await a.Ew.post("/inventory/purchase-orders",e)).data}async updatePurchaseOrder(e,t){return(await a.Ew.put("/inventory/purchase-orders/".concat(e),t)).data}async deletePurchaseOrder(e){await a.Ew.delete("/inventory/purchase-orders/".concat(e))}async getReceivings(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:100,n=new URLSearchParams;return e&&n.append("status",e),n.append("skip",t.toString()),n.append("limit",s.toString()),(await a.Ew.get("/inventory/receivings?".concat(n.toString()))).data}async getReceiving(e){return(await a.Ew.get("/inventory/receivings/".concat(e))).data}async createReceiving(e){return(await a.Ew.post("/inventory/receivings",e)).data}async updateReceiving(e,t){return(await a.Ew.put("/inventory/receivings/".concat(e),t)).data}async deleteReceiving(e){await a.Ew.delete("/inventory/receivings/".concat(e))}async getInventoryDashboard(){return(await a.Ew.get("/inventory/dashboard")).data}}let r=new n}},function(e){e.O(0,[7846,7648,4259,2709,2451,9515,5200,2971,2117,1744],function(){return e(e.s=50574)}),_N_E=e.O()}]);