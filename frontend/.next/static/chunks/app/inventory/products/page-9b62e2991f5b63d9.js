(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2798],{2705:function(e,t,s){Promise.resolve().then(s.bind(s,6538))},65302:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(39763).Z)("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},42208:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(39763).Z)("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]])},16275:function(e,t,s){"use strict";s.d(t,{Z:function(){return r}});let r=(0,s(39763).Z)("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]])},6538:function(e,t,s){"use strict";s.r(t),s.d(t,{default:function(){return k}});var r=s(57437),n=s(2265),l=s(99376),c=s(79820),a=s(12381),i=s(69174),o=s(40279),d=s(33804),u=s(63639),x=s(70525),h=s(65302),m=s(16275),f=s(99397),j=s(73247),p=s(44794),w=s(42208),g=s(14362),y=s(11888),N=s(93448);let b=[{id:"1",name:"Laptop Charger",sku:"LAP-CHRG-001",category:"Electronics",stockQuantity:15,lowStockThreshold:10,unitPrice:29.99,costPrice:15,isActive:!0},{id:"2",name:"Wireless Mouse",sku:"WIRE-MOUSE-002",category:"Electronics",stockQuantity:8,lowStockThreshold:10,unitPrice:19.99,costPrice:8,isActive:!0},{id:"3",name:"USB Cable",sku:"USB-CABLE-003",category:"Electronics",stockQuantity:25,lowStockThreshold:20,unitPrice:9.99,costPrice:3,isActive:!0},{id:"4",name:"Office Chair",sku:"OFF-CHAIR-004",category:"Furniture",stockQuantity:0,lowStockThreshold:5,unitPrice:199.99,costPrice:120,isActive:!0}];function k(){let{user:e}=(0,g.a)(),t=(0,l.useRouter)(),[s,k]=(0,n.useState)(b),[v,S]=(0,n.useState)(""),C=s.filter(e=>e.name.toLowerCase().includes(v.toLowerCase())||e.sku.toLowerCase().includes(v.toLowerCase())||e.category.toLowerCase().includes(v.toLowerCase())),P=(e,t)=>0===e?{status:"out_of_stock",color:"destructive",icon:(0,r.jsx)(u.Z,{className:"h-4 w-4"})}:e<=t?{status:"low_stock",color:"secondary",icon:(0,r.jsx)(x.Z,{className:"h-4 w-4"})}:{status:"in_stock",color:"default",icon:(0,r.jsx)(h.Z,{className:"h-4 w-4"})},T=(e,t)=>0===e?"Out of Stock":e<=t?"Low Stock":"In Stock";return(0,r.jsx)(y.cl,{children:(0,r.jsxs)("div",{className:"container mx-auto p-6 space-y-6",children:[(0,r.jsxs)("div",{className:"flex items-center justify-between",children:[(0,r.jsxs)("div",{children:[(0,r.jsx)("h1",{className:"text-3xl font-bold tracking-tight",children:"Products"}),(0,r.jsx)("p",{className:"text-muted-foreground",children:"View and manage your product catalog and inventory levels"})]}),(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(a.z,{variant:"outline",onClick:()=>t.push("/pos/products"),children:[(0,r.jsx)(m.Z,{className:"mr-2 h-4 w-4"}),"Manage in POS"]}),(0,r.jsxs)(a.z,{onClick:()=>t.push("/pos/products/new"),children:[(0,r.jsx)(f.Z,{className:"mr-2 h-4 w-4"}),"Add Product"]})]})]}),(0,r.jsxs)(c.Zb,{children:[(0,r.jsx)(c.Ol,{children:(0,r.jsx)(c.ll,{children:"Search Products"})}),(0,r.jsx)(c.aY,{children:(0,r.jsxs)("div",{className:"relative",children:[(0,r.jsx)(j.Z,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-muted-foreground h-4 w-4"}),(0,r.jsx)(o.I,{placeholder:"Search by name, SKU, or category...",value:v,onChange:e=>S(e.target.value),className:"pl-10"})]})})]}),(0,r.jsxs)(c.Zb,{children:[(0,r.jsx)(c.Ol,{children:(0,r.jsx)(c.ll,{children:"Product Catalog"})}),(0,r.jsx)(c.aY,{children:C.length>0?(0,r.jsxs)(d.iA,{children:[(0,r.jsx)(d.xD,{children:(0,r.jsxs)(d.SC,{children:[(0,r.jsx)(d.ss,{children:"Product"}),(0,r.jsx)(d.ss,{children:"Category"}),(0,r.jsx)(d.ss,{children:"Stock Level"}),(0,r.jsx)(d.ss,{children:"Pricing"}),(0,r.jsx)(d.ss,{children:"Status"}),(0,r.jsx)(d.ss,{children:"Actions"})]})}),(0,r.jsx)(d.RM,{children:C.map(e=>{let s=P(e.stockQuantity,e.lowStockThreshold);return(0,r.jsxs)(d.SC,{children:[(0,r.jsx)(d.pj,{children:(0,r.jsxs)("div",{className:"flex items-center gap-3",children:[(0,r.jsx)(p.Z,{className:"h-5 w-5 text-muted-foreground"}),(0,r.jsxs)("div",{children:[(0,r.jsx)("div",{className:"font-medium",children:e.name}),(0,r.jsxs)("div",{className:"text-sm text-muted-foreground",children:["SKU: ",e.sku]})]})]})}),(0,r.jsx)(d.pj,{children:(0,r.jsx)(i.C,{variant:"outline",children:e.category})}),(0,r.jsx)(d.pj,{children:(0,r.jsxs)("div",{className:"space-y-2",children:[(0,r.jsxs)("div",{className:"flex items-center gap-2",children:[s.icon,(0,r.jsx)("span",{className:"font-medium",children:e.stockQuantity}),(0,r.jsxs)("span",{className:"text-sm text-muted-foreground",children:["/ ",e.lowStockThreshold," min"]})]}),(0,r.jsx)(i.C,{variant:s.color,children:T(e.stockQuantity,e.lowStockThreshold)})]})}),(0,r.jsx)(d.pj,{children:(0,r.jsxs)("div",{className:"space-y-1",children:[(0,r.jsx)("div",{className:"font-medium",children:(0,N.xG)(e.unitPrice)}),(0,r.jsxs)("div",{className:"text-sm text-muted-foreground",children:["Cost: ",(0,N.xG)(e.costPrice)]})]})}),(0,r.jsx)(d.pj,{children:(0,r.jsx)(i.C,{variant:e.isActive?"default":"secondary",children:e.isActive?"Active":"Inactive"})}),(0,r.jsx)(d.pj,{children:(0,r.jsxs)("div",{className:"flex gap-2",children:[(0,r.jsxs)(a.z,{variant:"outline",size:"sm",onClick:()=>t.push("/pos/products/".concat(e.id)),children:[(0,r.jsx)(w.Z,{className:"mr-2 h-4 w-4"}),"View"]}),e.stockQuantity<=e.lowStockThreshold&&(0,r.jsxs)(a.z,{size:"sm",onClick:()=>t.push("/inventory/purchase-orders/new"),children:[(0,r.jsx)(m.Z,{className:"mr-2 h-4 w-4"}),"Order"]})]})})]},e.id)})})]}):(0,r.jsxs)("div",{className:"text-center py-12",children:[(0,r.jsx)(p.Z,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),(0,r.jsx)("h3",{className:"text-lg font-medium mb-2",children:"No products found"}),(0,r.jsx)("p",{className:"text-muted-foreground mb-4",children:v?"Try adjusting your search terms":"Get started by adding your first product"}),!v&&(0,r.jsxs)(a.z,{onClick:()=>t.push("/pos/products/new"),children:[(0,r.jsx)(f.Z,{className:"mr-2 h-4 w-4"}),"Add Product"]})]})})]}),(0,r.jsxs)("div",{className:"grid gap-4 md:grid-cols-4",children:[(0,r.jsxs)(c.Zb,{children:[(0,r.jsxs)(c.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(c.ll,{className:"text-sm font-medium",children:"Total Products"}),(0,r.jsx)(p.Z,{className:"h-4 w-4 text-muted-foreground"})]}),(0,r.jsxs)(c.aY,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold",children:s.length}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"All products"})]})]}),(0,r.jsxs)(c.Zb,{children:[(0,r.jsxs)(c.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(c.ll,{className:"text-sm font-medium",children:"In Stock"}),(0,r.jsx)(h.Z,{className:"h-4 w-4 text-green-500"})]}),(0,r.jsxs)(c.aY,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-green-600",children:s.filter(e=>e.stockQuantity>e.lowStockThreshold).length}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Well stocked"})]})]}),(0,r.jsxs)(c.Zb,{children:[(0,r.jsxs)(c.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(c.ll,{className:"text-sm font-medium",children:"Low Stock"}),(0,r.jsx)(x.Z,{className:"h-4 w-4 text-orange-500"})]}),(0,r.jsxs)(c.aY,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-orange-600",children:s.filter(e=>e.stockQuantity>0&&e.stockQuantity<=e.lowStockThreshold).length}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Need reordering"})]})]}),(0,r.jsxs)(c.Zb,{children:[(0,r.jsxs)(c.Ol,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[(0,r.jsx)(c.ll,{className:"text-sm font-medium",children:"Out of Stock"}),(0,r.jsx)(u.Z,{className:"h-4 w-4 text-red-500"})]}),(0,r.jsxs)(c.aY,{children:[(0,r.jsx)("div",{className:"text-2xl font-bold text-red-600",children:s.filter(e=>0===e.stockQuantity).length}),(0,r.jsx)("p",{className:"text-xs text-muted-foreground",children:"Critical items"})]})]})]}),(0,r.jsxs)(c.Zb,{children:[(0,r.jsx)(c.Ol,{children:(0,r.jsx)(c.ll,{children:"Product Management"})}),(0,r.jsx)(c.aY,{children:(0,r.jsxs)("div",{className:"text-center py-6",children:[(0,r.jsx)(m.Z,{className:"h-12 w-12 mx-auto mb-4 text-muted-foreground"}),(0,r.jsx)("h3",{className:"text-lg font-medium mb-2",children:"Products are managed in the POS module"}),(0,r.jsx)("p",{className:"text-muted-foreground mb-4",children:"To add, edit, or manage products, please use the POS module which provides full product management capabilities."}),(0,r.jsx)(a.z,{onClick:()=>t.push("/pos/products"),children:"Go to POS Products"})]})})]})]})})}},11888:function(e,t,s){"use strict";s.d(t,{cl:function(){return r.default}});var r=s(78742);s(28278),s(59399)},40279:function(e,t,s){"use strict";s.d(t,{I:function(){return c}});var r=s(57437),n=s(2265),l=s(93448);let c=n.forwardRef((e,t)=>{let{className:s,type:n,...c}=e;return(0,r.jsx)("input",{type:n,className:(0,l.cn)("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s),ref:t,...c})});c.displayName="Input"},33804:function(e,t,s){"use strict";s.d(t,{RM:function(){return i},SC:function(){return o},iA:function(){return c},pj:function(){return u},ss:function(){return d},xD:function(){return a}});var r=s(57437),n=s(2265),l=s(93448);let c=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("div",{className:"relative w-full overflow-auto",children:(0,r.jsx)("table",{ref:t,className:(0,l.cn)("w-full caption-bottom text-sm",s),...n})})});c.displayName="Table";let a=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("thead",{ref:t,className:(0,l.cn)("[&_tr]:border-b",s),...n})});a.displayName="TableHeader";let i=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("tbody",{ref:t,className:(0,l.cn)("[&_tr:last-child]:border-0",s),...n})});i.displayName="TableBody",n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("tfoot",{ref:t,className:(0,l.cn)("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",s),...n})}).displayName="TableFooter";let o=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("tr",{ref:t,className:(0,l.cn)("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",s),...n})});o.displayName="TableRow";let d=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("th",{ref:t,className:(0,l.cn)("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",s),...n})});d.displayName="TableHead";let u=n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("td",{ref:t,className:(0,l.cn)("p-4 align-middle [&:has([role=checkbox])]:pr-0",s),...n})});u.displayName="TableCell",n.forwardRef((e,t)=>{let{className:s,...n}=e;return(0,r.jsx)("caption",{ref:t,className:(0,l.cn)("mt-4 text-sm text-muted-foreground",s),...n})}).displayName="TableCaption"},14362:function(e,t,s){"use strict";s.d(t,{AuthProvider:function(){return i},a:function(){return o}});var r=s(57437),n=s(2265),l=s(89441),c=s(60621);let a=(0,n.createContext)(void 0);function i(e){let{children:t}=e,[s,i]=(0,n.useState)(null),[o,d]=(0,n.useState)(!0),[u,x]=(0,n.useState)([]),[h,m]=(0,n.useState)(null);(0,n.useEffect)(()=>{(async()=>{try{let e=new c.S;if(e.isSessionValid()){if(e.isTokenExpired()&&!await e.refreshAccessToken()){e.clearSession(),i(null),d(!1);return}let t=e.getSession();if(t&&t.token&&t.user){i(t.user);let e=l.Ew.getUserTenants();if(e.length>0){x(e);let t=l.Ew.getCurrentTenant();t?m(t):(m(e[0]),l.Ew.setTenantId(e[0].id))}}else e.clearSession(),i(null)}else e.clearSession(),i(null)}catch(e){console.error("AuthContext - Auth initialization error:",e),new c.S().clearSession(),i(null)}finally{d(!1)}})()},[]);let f=async e=>{try{d(!0);let t=await l.Ew.login(e);if(t.success&&t.user){i(t.user);let e=l.Ew.getUserTenants();if(e.length>0){x(e);let t=l.Ew.getCurrentTenant();t&&m(t)}return!0}return!1}catch(e){return console.error("AuthContext - Login failed:",e),!1}finally{d(!1)}},j=async()=>{try{await l.Ew.logout()}catch(e){console.error("AuthContext - Logout error:",e)}finally{let e=new c.S;i(null),x([]),m(null),e.clearSession(),l.Ew.setTenantId(null),window.location.href="/login"}},p=async e=>{try{let t=await l.Ew.switchTenant(e);return m(t),!0}catch(e){return console.error("AuthContext - Failed to switch tenant:",e),!1}};return(0,r.jsx)(a.Provider,{value:{user:s,loading:o,isAuthenticated:!!s,tenants:u,currentTenant:h,login:f,logout:j,switchTenant:p},children:t})}function o(){let e=(0,n.useContext)(a);if(void 0===e)throw Error("useAuth must be used within an AuthProvider");return e}}},function(e){e.O(0,[7846,7648,4259,2709,2451,9515,5200,2971,2117,1744],function(){return e(e.s=2705)}),_N_E=e.O()}]);