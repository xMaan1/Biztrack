(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4966],{37239:function(e,t,n){Promise.resolve().then(n.bind(n,86932))},99637:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(39763).Z)("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]])},86932:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return h}});var s=n(57437),r=n(2265),l=n(99376),a=n(27648),i=n(12381),u=n(99637);let o=(0,n(39763).Z)("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);var c=n(34889),f=n(98734);function h(){let{user:e}=(0,f.a)(),t=(0,l.useRouter)();return((0,r.useEffect)(()=>{e&&t.push("/")},[e,t]),e)?null:(0,s.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-indigo-50 to-purple-50",children:[(0,s.jsx)("div",{className:"absolute top-4 left-4",children:(0,s.jsx)(a.default,{href:"/",children:(0,s.jsxs)(i.z,{variant:"outline",className:"gap-2",children:[(0,s.jsx)(u.Z,{className:"h-4 w-4"}),"Home"]})})}),(0,s.jsx)("div",{className:"absolute top-4 right-4",children:(0,s.jsx)(a.default,{href:"/login",children:(0,s.jsxs)(i.z,{variant:"outline",className:"gap-2",children:[(0,s.jsx)(o,{className:"h-4 w-4"}),"Sign In"]})})}),(0,s.jsx)(c.B,{mode:"signup",onSuccess:()=>{t.push("/")}})]})}},34889:function(e,t,n){"use strict";n.d(t,{B:function(){return s.default}});var s=n(50749);n(53195)},98734:function(e,t,n){"use strict";n.d(t,{a:function(){return a}});var s=n(2265),r=n(89441),l=n(60621);function a(){let[e,t]=(0,s.useState)(null),[n,a]=(0,s.useState)(!0),[i,u]=(0,s.useState)(!1),[o,c]=(0,s.useState)([]),[f,h]=(0,s.useState)(null);return(0,s.useEffect)(()=>{u(!0)},[]),(0,s.useEffect)(()=>{i&&(()=>{try{let e=new l.S().getSession();if(e&&e.token&&e.user){t(e.user);let n=r.Ew.getUserTenants();if(n.length>0){c(n);let e=r.Ew.getCurrentTenant();e?h(e):(h(n[0]),r.Ew.setTenantId(n[0].id))}}else t(null)}catch(e){console.error("Auth initialization error:",e),t(null)}finally{a(!1)}})()},[i]),{user:e,login:async e=>{try{a(!0);let n=await r.Ew.login(e);if(n.success&&n.user){t(n.user);let e=r.Ew.getUserTenants();if(e.length>0){c(e);let t=r.Ew.getCurrentTenant();t&&h(t)}return!0}return!1}catch(e){return console.error("Login failed:",e),!1}finally{a(!1)}},logout:async()=>{try{await r.Ew.logout()}catch(e){console.error("Logout error:",e)}finally{let e=new l.S;t(null),c([]),h(null),e.clearSession(),r.Ew.setTenantId(null),window.location.href="/login"}},loading:n,isAuthenticated:!!e,tenants:o,currentTenant:f,switchTenant:async e=>{try{let t=await r.Ew.switchTenant(e);return h(t),!0}catch(e){return console.error("Failed to switch tenant:",e),!1}}}}}},function(e){e.O(0,[7846,7648,9515,9179,2971,2117,1744],function(){return e(e.s=37239)}),_N_E=e.O()}]);